'use strict';var p;function ea(a,b,c){this.h=a;this.v=c;this.s=[104,111,115,116,57,112];this.G=this.s.length;this.D="9P2000.L";this.j=this.o=8192;this.i=new Uint8Array(2*this.j);this.C=0;this.g=[];this.X=new fa(b,{name:"virtio-9p",Oa:48,Ne:4169,rg:9,Ke:{ib:43008,aa:[{bb:32,nb:0}],features:[0,32,29,28],Kh:()=>{}},notification:{ib:43264,$g:!1,Fg:[d=>{if(0===d){for(;ha(this.l);)d=ia(this.l),ka(this,d);d=this.l;const e=d.u.ab(d.g+2)+0&65535;d.u.Qf(d.h+4+8*d.size,e)}}]},Xb:{ib:42752},Xf:{ib:42496,dd:[{bytes:2,name:"mount tag length",
read:()=>this.G,write:()=>{}}].concat(Array.from(Array(254).keys()).map(d=>({bytes:1,name:"mount tag name "+d,read:()=>this.s[d]||0,write:()=>{}})))}});this.l=this.X.aa[0]}ea.prototype.ha=function(){var a=[];a[0]=this.s;a[1]=this.G;a[2]=this.X;a[3]=this.D;a[4]=this.o;a[5]=this.j;a[6]=this.i;a[7]=this.C;a[8]=this.g.map(function(b){return[b.ia,b.type,b.uid,b.Gc]});a[9]=this.h;return a};
ea.prototype.H=function(a){this.s=a[0];this.G=a[1];this.X.H(a[2]);this.l=this.X.aa[0];this.D=a[3];this.o=a[4];this.j=a[5];this.i=a[6];this.C=a[7];this.g=a[8].map(function(b){return{ia:b[0],type:b[1],uid:b[2],Gc:b[3]}});this.h.H(a[9])};ea.prototype.reset=function(){this.g=[];this.X.reset()};function v(a,b,c,d){w(["w","b","h"],[d+7,b+1,c],a.i,0);a.C=d+7}function la(a,b,c){c=w(["w"],[c],a.i,7);v(a,6,b,c)}function H(a,b){ma(b,a.i.subarray(0,a.C));na(a.l,b);oa(a.l)}
async function ka(a,b){var c=new Uint8Array(b.he);pa(b,c);var d={offset:0},e=I(["w","b","h"],c,d),f=e[0],g=e[1],h=e[2];switch(g){case 8:f=qa(a.h);var k=ra(a.h);e=[16914839];e[1]=a.o;e[2]=Math.floor(k/e[1]);e[3]=e[2]-Math.floor(f/e[1]);e[4]=e[2]-Math.floor(f/e[1]);e[5]=sa(a.h);e[6]=ta(a.h);e[7]=0;e[8]=256;f=w("wwddddddw".split(""),e,a.i,7);v(a,g,h,f);H(a,b);break;case 112:case 12:e=I(["w","w"],c,d);f=e[0];d=e[1];c=a.g[f].ia;var l=ua(a.h,c);k=wa(a.h,c,d);xa(a.h,a.g[f].ia,function(){var q=[];q[0]=l.Pa;
q[1]=this.j-24;w(["Q","w"],q,this.i,7);v(this,g,h,17);H(this,b)}.bind(a));break;case 70:e=I(["w","w","s"],c,d);c=e[0];f=e[1];k=e[2];k=ya(a.h,a.g[c].ia,a.g[f].ia,k);if(0>k){la(a,h,-k);H(a,b);break}v(a,g,h,0);H(a,b);break;case 16:e=I(["w","s","s","w"],c,d);f=e[0];k=e[1];var n=e[3];c=Aa(a.h,k,a.g[f].ia,e[2]);l=ua(a.h,c);l.uid=a.g[f].uid;l.Ya=n;w(["Q"],[l.Pa],a.i,7);v(a,g,h,13);H(a,b);break;case 18:e=I("wswwww".split(""),c,d);f=e[0];k=e[1];d=e[2];c=e[3];var r=e[4];n=e[5];c=Ba(a.h,k,a.g[f].ia,c,r);l=ua(a.h,
c);l.mode=d;l.uid=a.g[f].uid;l.Ya=n;w(["Q"],[l.Pa],a.i,7);v(a,g,h,13);H(a,b);break;case 22:e=I(["w"],c,d);f=e[0];l=ua(a.h,a.g[f].ia);f=w(["s"],[l.Jf],a.i,7);v(a,g,h,f);H(a,b);break;case 72:e=I(["w","s","w","w"],c,d);f=e[0];k=e[1];d=e[2];n=e[3];c=Ca(a.h,k,a.g[f].ia);l=ua(a.h,c);l.mode=d|Da;l.uid=a.g[f].uid;l.Ya=n;w(["Q"],[l.Pa],a.i,7);v(a,g,h,13);H(a,b);break;case 14:e=I(["w","s","w","w","w"],c,d);f=e[0];k=e[1];c=e[2];d=e[3];n=e[4];a.v.send("9p-create",[k,a.g[f].ia]);c=Ha(a.h,k,a.g[f].ia);a.g[f].ia=
c;a.g[f].type=1;a.g[f].Gc=k;l=ua(a.h,c);l.uid=a.g[f].uid;l.Ya=n;l.mode=d|Ia;w(["Q","w"],[l.Pa,a.j-24],a.i,7);v(a,g,h,17);H(a,b);break;case 52:e=I("wbwddws".split(""),c,d);f=e[0];c=e[2];k=0===e[4]?Infinity:e[4];e=Ja(e[1],e[3],k,e[5],e[6]);k=Ka(a.h,a.g[f].ia,e,c);w(["b"],[k],a.i,7);v(a,g,h,1);H(a,b);break;case 54:e=I("wbddws".split(""),c,d);f=e[0];k=0===e[3]?Infinity:e[3];e=Ja(e[1],e[2],k,e[4],e[5]);k=La(a.h,a.g[f].ia,e);k||(k=e,k.type=2);f=w(["b","d","d","w","s"],[k.type,k.start,Infinity===k.length?
0:k.length,k.h,k.g],a.i,7);v(a,g,h,f);H(a,b);break;case 24:e=I(["w","d"],c,d);f=e[0];l=ua(a.h,a.g[f].ia);if(!l||l.status===Oa){la(a,h,2);H(a,b);break}e[0]=e[1];e[1]=l.Pa;e[2]=l.mode;e[3]=l.uid;e[4]=l.Ya;e[5]=l.mb;e[6]=l.fg<<8|l.gg;e[7]=l.size;e[8]=a.o;e[9]=Math.floor(l.size/512+1);e[10]=l.Yd;e[11]=0;e[12]=l.Uc;e[13]=0;e[14]=l.Me;e[15]=0;e[16]=0;e[17]=0;e[18]=0;e[19]=0;w("dQwwwddddddddddddddd".split(""),e,a.i,7);v(a,g,h,153);H(a,b);break;case 26:e=I("wwwwwddddd".split(""),c,d);f=e[0];l=ua(a.h,a.g[f].ia);
e[1]&1&&(l.mode=e[2]);e[1]&2&&(l.uid=e[3]);e[1]&4&&(l.Ya=e[4]);e[1]&16&&(l.Yd=Math.floor((new Date).getTime()/1E3));e[1]&32&&(l.Uc=Math.floor((new Date).getTime()/1E3));e[1]&64&&(l.Me=Math.floor((new Date).getTime()/1E3));e[1]&128&&(l.Yd=e[6]);e[1]&256&&(l.Uc=e[8]);e[1]&8&&await Pa(a.h,a.g[f].ia,e[5]);v(a,g,h,0);H(a,b);break;case 50:e=I(["w","d"],c,d);f=e[0];v(a,g,h,0);H(a,b);break;case 40:case 116:e=I(["w","d","w"],c,d);f=e[0];k=e[1];n=e[2];l=ua(a.h,a.g[f].ia);if(!l||l.status===Oa){la(a,h,2);H(a,
b);break}if(2===a.g[f].type){(void 0).length<k+n&&(n=(void 0).length-k);for(e=0;e<n;e++)a.i[11+e]=(void 0)[k+e];w(["w"],[n],a.i,7);v(a,g,h,4+n)}else wa(a.h,a.g[f].ia,void 0),e=a.g[f].ia,n=Math.min(n,a.i.length-11),l.size<k+n?n=l.size-k:40===g&&(n=Qa(a.h,e,k+n)-k),k>l.size&&(n=0),a.v.send("9p-read-start",[a.g[f].Gc]),e=await Ra(a.h,e,k,n),a.v.send("9p-read-end",[a.g[f].Gc,n]),e&&a.i.set(e,11),w(["w"],[n],a.i,7),v(a,g,h,4+n);H(a,b);break;case 118:e=I(["w","d","w"],c,d);f=e[0];k=e[1];n=e[2];e=a.g[f].Gc;
if(2===a.g[f].type){la(a,h,95);H(a,b);break}else await Sa(a.h,a.g[f].ia,k,n,c.subarray(d.offset));a.v.send("9p-write-end",[e,n]);w(["w"],[n],a.i,7);v(a,g,h,4);H(a,b);break;case 74:e=I(["w","s","w","s"],c,d);k=await Ta(a.h,a.g[e[0]].ia,e[1],a.g[e[2]].ia,e[3]);if(0>k){la(a,h,-k);H(a,b);break}v(a,g,h,0);H(a,b);break;case 76:e=I(["w","s","w"],c,d);d=e[0];k=e[1];c=e[2];f=Ua(a.h,a.g[d].ia,k);if(-1===f){la(a,h,2);H(a,b);break}k=Va(a.h,a.g[d].ia,k);if(0>k){la(a,h,-k);H(a,b);break}v(a,g,h,0);H(a,b);break;
case 100:f=I(["w","s"],c,d);a.j!==f[0]&&(a.j=f[0],a.i=new Uint8Array(Math.min(16777216,2*a.j)));f=w(["w","s"],[a.j,a.D],a.i,7);v(a,g,h,f);H(a,b);break;case 104:e=I(["w","w","s","s","w"],c,d);f=e[0];a.g[f]={ia:0,type:1,uid:e[4],Gc:""};l=ua(a.h,a.g[f].ia);w(["Q"],[l.Pa],a.i,7);v(a,g,h,13);H(a,b);a.v.send("9p-attach");break;case 108:e=I(["h"],c,d);v(a,g,h,0);H(a,b);break;case 110:e=I(["w","w","h"],c,d);f=e[0];n=e[1];r=e[2];if(0===r){a.g[n]={ia:a.g[f].ia,type:1,uid:a.g[f].uid,Gc:a.g[f].Gc};w(["h"],[0],
a.i,7);v(a,g,h,2);H(a,b);break}k=[];for(e=0;e<r;e++)k.push("s");d=I(k,c,d);c=a.g[f].ia;k=9;var x=0;for(e=0;e<r;e++){c=Ua(a.h,c,d[e]);if(-1===c)break;k+=w(["Q"],[ua(a.h,c).Pa],a.i,k);x++;a.g[n]={ia:c,type:1,uid:a.g[f].uid,Gc:d[e]}}w(["h"],[x],a.i,7);v(a,g,h,k-7);H(a,b);break;case 120:e=I(["w"],c,d);a.g[e[0]]&&0<=a.g[e[0]].ia&&(await Ya(a.h,a.g[e[0]].ia),a.g[e[0]].ia=-1,a.g[e[0]].type=-1);v(a,g,h,0);H(a,b);break;case 32:e=I(["w","s","d","w"],c,d);f=e[0];k=e[1];c=e[3];a.g[f].type=2;v(a,g,h,0);H(a,b);
break;case 30:e=I(["w","w","s"],c,d),f=e[0],k=e[2],la(a,h,95),H(a,b)}};function Za(a,b){function c(B){B=B.toString(16);return"#"+"0".repeat(6-B.length)+B}function d(B){var A=256*ja,G=8*T,J=E?E.canvas:null;J&&J.width===A&&J.height===G||(J?(J.width=A,J.height=G):(J=new OffscreenCanvas(A,G),E=J.getContext("2d")),F=E.createImageData(A,G));const L=F.data;let M=0,N;G=za?function(ba){N=N||ba;L[M+3]=ba;L[M+7]=ba;M+=8}:function(ba){N=N||ba;L[M+3]=ba;M+=4};J=32-T;const X=A*(T-1)*4;A=4*(ja-A*T);const ca=1020*ja;for(let ba=0,Ea=0;2048>ba;++ba,Ea+=J,M+=A){const Fa=ba%256;ba&&!Fa&&
(M+=X);N=!1;for(let Ma=0;Ma<T;++Ma,++Ea,M+=ca){const Na=B[Ea];for(let va=128;0<va;va>>=1)G(Na&va?255:0);eb&&G(fb&&192<=Fa&&223>=Fa&&Na&1?255:0)}aa[ba]=N?1:0}E.putImageData(F,0,0)}function e(B,A,G,J){if(A&&G){B.style.width="";B.style.height="";J&&(B.style.transform="");var L=B.getBoundingClientRect();J?B.style.transform=(1===A?"":" scaleX("+A+")")+(1===G?"":" scaleY("+G+")"):(0===A%1&&0===G%1?(g.style.imageRendering="crisp-edges",g.style.imageRendering="pixelated",g.style["-ms-interpolation-mode"]=
"nearest-neighbor"):(g.style.imageRendering="",g.style["-ms-interpolation-mode"]=""),J=window.devicePixelRatio||1,0!==J%1&&(A/=J,G/=J));1!==A&&(B.style.width=L.width*A+"px");1!==G&&(B.style.height=L.height*G+"px")}}const f=a.Vf;this.Vg=b;console.assert(f,"options.container must be provided");this.o=1;this.s=2;var g=f.getElementsByTagName("canvas")[0],h=g.getContext("2d",{alpha:!1}),k=f.getElementsByTagName("div")[0],l=document.createElement("div"),n,r,x=void 0!==a.scale?a.scale:1,q=void 0!==a.scale?
a.scale:1,y=1,t,m,u,D,K,P,z,E,F,aa=new Int8Array(2048),T,ja,eb,za,fb,gb=0,hb=0,Wa,yb=0,Xa,Ga,C,O=[],R=0,da=!1;this.Hb=function(){const B=new Uint16Array([32,9786,9787,9829,9830,9827,9824,8226,9688,9675,9689,9794,9792,9834,9835,9788,9658,9668,8597,8252,182,167,9644,8616,8593,8595,8594,8592,8735,8596,9650,9660]),A=new Uint16Array([8962,199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197,201,230,198,244,246,242,251,249,255,214,220,162,163,165,8359,402,225,237,243,250,241,209,170,186,191,
8976,172,189,188,161,171,187,9617,9618,9619,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9561,9560,9554,9555,9579,9578,9496,9484,9608,9604,9612,9616,9600,945,223,915,960,931,963,181,964,934,920,937,948,8734,966,949,8745,8801,177,8805,8804,8992,8993,247,8776,176,8729,183,8730,8319,178,9632,160]);for(var G=0,J;256>G;G++)J=126<G?A[G-127]:32>G?B[G]:G,O.push(String.fromCharCode(J));l.classList.add("cursor");
l.style.position="absolute";l.style.backgroundColor="#ccc";l.style.width="7px";l.style.display="inline-block";this.g(!1);this.i(80,25);2===m&&this.h(720,400);this.Yg(x,q);this.Dc()};this.Bj=function(){const B=new Image;if(1===m||2===m)B.src=g.toDataURL("image/png");else{const A=[9,16],G=document.createElement("canvas");G.width=D*A[0];G.height=K*A[1];const J=G.getContext("2d");J.imageSmoothingEnabled=!1;J.font=window.getComputedStyle(k).font;J.textBaseline="top";for(let L=0;L<K;L++)for(let M=0;M<D;M++){const N=
4*(L*D+M),X=u[N],ca=u[N+3];J.fillStyle=c(u[N+2]);J.fillRect(M*A[0],L*A[1],A[0],A[1]);J.fillStyle=c(ca);J.fillText(O[X],M*A[0],L*A[1])}"none"!==l.style.display&&n<K&&r<D&&(J.fillStyle=l.style.backgroundColor,J.fillRect(r*A[0],n*A[1]+parseInt(l.style.marginTop,10),parseInt(l.style.width,10),parseInt(l.style.height,10)));B.src=G.toDataURL("image/png")}return B};this.j=function(B,A,G,J,L,M){A=4*(B*D+A);u[A]=G;u[A+1]=J;u[A+2]=L;u[A+3]=M;t[B]=1};this.Dc=function(){R=requestAnimationFrame(()=>this.Z())};
this.Z=function(){da||(0===m?this.ba():1===m?this.U():this.V());this.Dc()};this.ba=function(){for(var B=0;B<K;B++)t[B]&&(this.S(B),t[B]=0)};this.U=function(){this.Vg()};this.V=function(){if(P){var B=performance.now();if(266<B-yb){Wa=!Wa;C&&(t[n]=1);var A=4*D;for(let X=0,ca=0;X<K;++X)if(t[X])ca+=A;else for(var G=0;G<D;++G,ca+=4)if(u[ca+1]&1){t[X]=1;ca+=A-4*G;break}yb=B}B=E.canvas;A=z.canvas;G=4*D;const L=D*ja,M=T;let N=0;for(let X=0,ca=0,ba=0;X<K;++X,ca+=T){if(!t[X]){ba+=G;continue}++N;z.clearRect(0,
M,L,T);let Ea,Fa,Ma,Na;for(let va=0;va<L;va+=ja,ba+=4){const Ud=u[ba];var J=u[ba+1];const Vd=u[ba+2],Wd=u[ba+3],Xd=J&2?hb:gb;J=(!(J&1)||Wa)&&aa[(Xd<<8)+Ud];Ma!==Vd&&(void 0!==Ma&&(P.fillStyle=c(Ma),P.fillRect(Na,ca,va-Na,T)),Ma=Vd,Na=va);Ea!==Wd&&(void 0!==Ea&&(z.fillStyle=c(Ea),z.fillRect(Fa,0,va-Fa,T)),Ea=Wd,Fa=va);J&&z.drawImage(B,Ud*ja,Xd*T,ja,T,va,M,ja,T)}z.fillStyle=c(Ea);z.fillRect(Fa,0,L-Fa,T);z.globalCompositeOperation="destination-in";z.drawImage(A,0,M,L,T,0,0,L,T);z.globalCompositeOperation=
"source-over";P.fillStyle=c(Ma);P.fillRect(Na,ca,L-Na,T);P.drawImage(A,0,0,L,T,0,ca,L,T)}N&&(Wa&&C&&t[n]&&(P.fillStyle=c(u[4*(n*D+r)+3]),P.fillRect(r*ja,n*T+Xa,ja,Ga-Xa+1)),t.fill(0));N&&h.drawImage(P.canvas,0,0)}};this.ta=function(){R&&(cancelAnimationFrame(R),R=0)};this.pause=function(){da=!0;l.classList.remove("blinking-cursor")};this.continue=function(){da=!1;l.classList.add("blinking-cursor")};this.g=function(B){m=B?1:a.ol?2:0;0===m?(k.style.display="block",g.style.display="none"):(k.style.display=
"none",g.style.display="block",2===m&&t&&t.fill(1))};this.C=function(B,A,G,J,L,M){const N=G?16:A?9:8;if(T!==B||ja!==N||eb!==A||za!==G||fb!==J||M)M=ja!==N||T!==B,T=B,ja=N,eb=A,za=G,fb=J,2===m&&(d(L),t.fill(1),M&&this.N())};this.D=function(B,A){if(gb!==B||hb!==A)gb=B,hb=A,t.fill(1)};this.M=function(){h.fillStyle="#000";h.fillRect(0,0,g.width,g.height)};this.N=function(){if(E){var B=ja*D,A=T*K,G=2*T;P&&P.canvas.width===B&&P.canvas.height===A&&z.canvas.height===G||(P?(P.canvas.width=B,P.canvas.height=
A,z.canvas.width=B,z.canvas.height=G):(P=(new OffscreenCanvas(B,A)).getContext("2d",{alpha:!1}),z=(new OffscreenCanvas(B,G)).getContext("2d")),this.h(B,A),t.fill(1))}};this.i=function(B,A){if(B!==D||A!==K)if(t=new Int8Array(A),u=new Int32Array(B*A*4),D=B,K=A,0===m){for(;k.childNodes.length>A;)k.removeChild(k.firstChild);for(;k.childNodes.length<A;)k.appendChild(document.createElement("div"));for(B=0;B<A;B++)this.S(B);e(k,x,q,!0)}else 2===m&&this.N()};this.h=function(B,A){g.style.display="block";g.width=
B;g.height=A;h.imageSmoothingEnabled=!1;y=640>=B&&2*B<window.innerWidth*window.devicePixelRatio&&2*A<window.innerHeight*window.devicePixelRatio?2:1;e(g,x*y,q*y,!1)};this.Yg=function(B,A){x=B;q=A;e(k,x,q,!0);e(g,x*y,q*y,!1)};this.L=function(B,A,G){if(B!==Xa||A!==Ga||G!==C)0===m?G?(l.style.display="inline",l.style.height=A-B+"px",l.style.marginTop=B+"px"):l.style.display="none":2===m&&n<K&&(t[n]=1),Xa=B,Ga=A,C=G};this.G=function(B,A){if(B!==n||A!==r)B<K&&(t[B]=1),n<K&&(t[n]=1),n=B,r=A};this.S=function(B){var A=
4*B*D,G;var J=k.childNodes[B];var L=document.createElement("div");for(var M=0;M<D;){var N=document.createElement("span");var X=u[A+1]&1;var ca=u[A+2];var ba=u[A+3];X&&N.classList.add("blink");N.style.backgroundColor=c(ca);N.style.color=c(ba);for(G="";M<D&&(u[A+1]&1)===X&&u[A+2]===ca&&u[A+3]===ba;)if(G+=O[u[A]],M++,A+=4,B===n)if(M===r)break;else if(M===r+1){l.style.backgroundColor=N.style.color;L.appendChild(l);break}N.textContent=G;L.appendChild(N)}J.parentNode.replaceChild(L,J)};this.l=function(B){for(const A of B)h.putImageData(A.wc,
A.Wg-A.Tf,A.Xg-A.Uf,A.Tf,A.Uf,A.zg,A.yg)};this.Hb()};(function(){function a(q){document.title=q+" - v86";const y=document.querySelector("meta[name=description]");y&&(y.content="Running "+q)}function b(q){return!!q&&"0"!==q}function c(q){return document.getElementById(q)}function d(){function q(){const z={};for(var E of P)z[E.id.replace(/filter_/,"")]=E.checked;E=!Object.values(z).includes(!0);for(const F of K){const aa=E||z.graphical&&F.Fh||z.text&&!F.Fh||z.linux&&"Linux"===F.family||z.bsd&&"BSD"===F.family||z.windows&&"Windows"===F.family||z.unix&&
"Unix"===F.family||z.dos&&"DOS"===F.family||z.custom&&"Custom"===F.family||z.floppy&&"Floppy"===F.Jg||z.cd&&"CD"===F.Jg||z.hd&&"HD"===F.Jg||z.modern&&"Modern"===F.status||z.historic&&"Historic"===F.status||z.opensource&&"Open-source"===F.source||z.proprietary&&"Proprietary"===F.source||z.bootsector&&512>=F.size||z.lt5mb&&5242880>=F.size||z.gt5mb&&5242880<F.size||z["16bit"]&&"16-bit"===F.lh||z["32bit"]&&"32-bit"===F.lh||z.asm&&F.languages.has("ASM")||z.c&&F.languages.has("C")||z.cpp&&F.languages.has("C++")||
z.other_lang&&["Java","Haskell","Rust","Erlang","Oberon"].some(T=>F.languages.has(T));F.element.style.display=aa?"":"none"}}function y(z,E){if(z=c(z))z.onclick=()=>c("relay_url").value=E}if(window.WebAssembly){c("start_emulation").onclick=function(z){e(null,null);c("start_emulation").blur();z.preventDefault()};var t=new URLSearchParams(location.search),m=t.get("cdn")||(l?"images/":"//i.copy.sh/");m=[{id:"archlinux",name:"Arch Linux",F:536870912,ma:8388608,state:{url:m+"arch_state-v2.bin.zst"},filesystem:{Sf:m+
"arch/"},zf:"virtio"},{id:"archlinux-boot",name:"Arch Linux",F:536870912,ma:8388608,filesystem:{Sf:m+"arch/",Oi:{url:m+"fs.json"}},Db:"rw apm=off vga=0x344 video=vesafb:ypan,vremap:8 root=host9p rootfstype=9p rootflags=trans=virtio,cache=loose mitigations=off audit=0 init_on_free=on tsc=reliable random.trust_cpu=on nowatchdog init=/usr/bin/init-openrc net.ifnames=0 biosdevname=0",hf:!0,zf:"virtio"},{id:"copy/skiffos",name:"SkiffOS",Y:{url:m+"skiffos/.iso",size:124672E3,async:!0,K:1048576,da:!0},F:536870912},
{id:"serenity",name:"SerenityOS",I:{url:m+"serenity-v3/.img.zst",size:734003200,async:!0,K:1048576,da:!0},F:536870912,state:{url:m+"serenity_state-v4.bin.zst"},J:"https://serenityos.org/",Jb:!0},{id:"serenity-boot",name:"SerenityOS",I:{url:m+"serenity-v3/.img.zst",size:734003200,async:!0,K:1048576,da:!0},F:536870912,J:"https://serenityos.org/"},{id:"redox",name:"Redox",I:{url:m+"redox_demo_i686_2024-09-07_1225_harddrive/.img",size:671088640,async:!0,K:1048576,da:!0},F:1073741824,state:{url:m+"redox_state-v2.bin.zst"},
J:"https://www.redox-os.org/",sa:!0},{id:"redox-boot",name:"Redox",I:{url:m+"redox_demo_i686_2024-09-07_1225_harddrive/.img",size:671088640,async:!0,K:1048576,da:!0},F:1073741824,J:"https://www.redox-os.org/",sa:!0},{id:"helenos",F:268435456,Y:{url:m+"HelenOS-0.14.1-ia32.iso",size:25792512,async:!1},name:"HelenOS",J:"http://www.helenos.org/"},{id:"fiwix",F:268435456,I:{url:m+"FiwixOS-3.4-i386/.img",size:1073741824,async:!0,K:1048576,da:!0},name:"FiwixOS",J:"https://www.fiwix.org/"},{id:"haiku",F:536870912,
I:{url:m+"haiku-v4/.img",size:1073741824,async:!0,K:1048576,da:!0},state:{url:m+"haiku_state-v4.bin.zst"},name:"Haiku",J:"https://www.haiku-os.org/"},{id:"haiku-boot",F:536870912,I:{url:m+"haiku-v4/.img",size:1073741824,async:!0,K:1048576,da:!0},name:"Haiku",J:"https://www.haiku-os.org/"},{id:"beos",F:536870912,I:{url:m+"beos5/.img",size:536870912,async:!0,K:1048576,da:!0},name:"BeOS 5"},{id:"msdos",I:{url:m+"msdos622/.img",size:67108864,async:!0,K:262144,da:!0},name:"MS-DOS 6.22"},{id:"msdos4",T:{url:m+
"msdos4.img",size:1474560},name:"MS-DOS 4"},{id:"freedos",T:{url:m+"freedos722.img",size:737280},name:"FreeDOS"},{id:"freegem",I:{url:m+"freegem/.bin",size:209715200,async:!0,K:262144,da:!0},name:"Freedos with FreeGEM"},{id:"xcom",T:{url:m+"xcom144.img",size:1474560},name:"Freedos with Xcom",J:"http://xcom.infora.hu/index.html"},{id:"psychdos",I:{url:m+"psychdos/.img",size:549453824,async:!0,K:262144,da:!0},name:"PsychDOS",J:"https://psychoslinux.gitlab.io/DOS/INDEX.HTM"},{id:"86dos",T:{url:m+"pc86dos.img",
size:163840},name:"86-DOS",J:"https://www.os2museum.com/wp/pc-86-dos/"},{id:"oberon",I:{url:m+"oberon.img",size:25165824,async:!1},name:"Oberon"},{id:"windows1",T:{url:m+"windows101.img",size:1474560},name:"Windows 1.01"},{id:"windows2",I:{url:m+"windows2.img",size:4177920,async:!1},name:"Windows 2.03"},{id:"linux26",Y:{url:m+"linux.iso",size:6547456,async:!1},name:"Linux"},{id:"linux3",Y:{url:m+"linux3.iso",size:8638464,async:!1},name:"Linux"},{id:"linux4",Y:{url:m+"linux4.iso",size:7731200,async:!1},
name:"Linux",filesystem:{}},{id:"buildroot",tb:{url:m+"buildroot-bzimage.bin",size:5166352,async:!1},name:"Buildroot Linux",filesystem:{},Db:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"buildroot6",tb:{url:m+"buildroot-bzimage68.bin",size:10068480,async:!1},name:"Buildroot Linux 6.8",filesystem:{},Db:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"basiclinux",I:{url:m+"bl3-5.img",size:104857600,async:!1},name:"BasicLinux"},{id:"xpud",Y:{url:m+"xpud-0.9.2.iso",size:67108864,async:!1},
name:"xPUD",F:268435456},{id:"elks",I:{url:m+"elks-hd32-fat.img",size:32514048,async:!1},name:"ELKS",J:"https://github.com/ghaerr/elks"},{id:"nodeos",tb:{url:m+"nodeos-kernel.bin",size:14452E3,async:!1},name:"NodeOS",Db:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"dsl",F:268435456,Y:{url:m+"dsl-4.11.rc2.iso",size:52824064,async:!1},name:"Damn Small Linux",J:"http://www.damnsmalllinux.org/"},{id:"xwoaf",F:268435456,Y:{url:m+"xwoaf_rebuild4.iso",size:2205696,async:!1},name:"xwoaf",J:"https://pupngo.dk/xwinflpy/xwoaf_rebuild.html"},
{id:"minix",name:"Minix",F:268435456,Y:{url:m+"minix-3.3.0/.iso",size:605581312,async:!0,K:1048576,da:!0},J:"https://www.minix3.org/"},{id:"unix-v7",name:"Unix V7",I:{url:m+"unix-v7x86-0.8a/.img",size:152764416,async:!0,K:262144,da:!0}},{id:"kolibrios",T:{url:l?m+"kolibri.img":"//builds.kolibrios.org/en_US/data/data/kolibri.img",size:1474560},name:"KolibriOS",J:"https://kolibrios.org/en/"},{id:"kolibrios-fallback",T:{url:m+"kolibri.img",size:1474560},name:"KolibriOS"},{id:"mu",I:{url:m+"mu-shell.img",
size:10321920,async:!1},F:268435456,name:"Mu",J:"https://github.com/akkartik/mu"},{id:"openbsd",I:{url:m+"openbsd/.img",size:1073741824,async:!0,K:1048576,da:!0},state:{url:m+"openbsd_state.bin.zst"},F:268435456,name:"OpenBSD"},{id:"sortix",Y:{url:m+"sortix-1.0-i686.iso",size:71075840,async:!1},F:536870912,name:"Sortix"},{id:"openbsd-boot",I:{url:m+"openbsd/.img",size:1073741824,async:!0,K:1048576,da:!0},F:268435456,name:"OpenBSD"},{id:"netbsd",I:{url:m+"netbsd/.img",size:511000064,async:!0,K:1048576,
da:!0},F:268435456,name:"NetBSD"},{id:"crazierl",Kb:{url:m+"crazierl-elf.img",size:896592,async:!1},Ib:{url:m+"crazierl-initrd.img",size:18448316,async:!1},sa:!0,Db:"kernel /libexec/ld-elf32.so.1",F:134217728,name:"Crazierl"},{id:"solos",T:{url:m+"os8.img",size:1474560},name:"Sol OS",J:"http://oby.ro/os/"},{id:"bootchess",T:{url:m+"bootchess.img",size:1474560},name:"BootChess",J:"http://www.pouet.net/prod.php?which=64962"},{id:"bootbasic",T:{url:m+"bootbasic.img",size:512},name:"bootBASIC",J:"https://github.com/nanochess/bootBASIC"},
{id:"bootlogo",T:{url:m+"bootlogo.img",size:512},name:"bootLogo",J:"https://github.com/nanochess/bootLogo"},{id:"pillman",T:{url:m+"pillman.img",size:512},name:"Pillman",J:"https://github.com/nanochess/Pillman"},{id:"sectorlisp",T:{url:m+"sectorlisp-friendly.bin",size:512},name:"SectorLISP",J:"https://justine.lol/sectorlisp2/"},{id:"sectorforth",T:{url:m+"sectorforth.img",size:512},name:"sectorforth",J:"https://github.com/cesarblum/sectorforth"},{id:"floppybird",T:{url:m+"floppybird.img",size:1474560},
name:"Floppy Bird",J:"http://mihail.co/floppybird"},{id:"stillalive",T:{url:m+"stillalive-os.img",size:368640},name:"Still Alive",J:"https://github.com/maniekx86/stillalive-os"},{id:"hello-v86",T:{url:m+"hello-v86.img",size:512},name:"Hello v86"},{id:"tetros",T:{url:m+"tetros.img",size:512},name:"TetrOS",J:"https://github.com/daniel-e/tetros"},{id:"dino",T:{url:m+"bootdino.img",size:512},name:"dino",J:"https://github.com/franeklubi/dino"},{id:"bootrogue",T:{url:m+"bootrogue.img",size:512},name:"bootRogue",
J:"https://github.com/nanochess/bootRogue"},{id:"duskos",I:{url:m+"duskos.img",async:!1,size:8388608},name:"Dusk OS",J:"http://duskos.org/"},{id:"windows2000",F:536870912,I:{url:m+"windows2k/.img",size:2147483648,async:!0,K:262144,da:!0},name:"Windows 2000",state:{url:m+"windows2k_state-v2.bin.zst"},Jb:!0},{id:"windows2000-boot",F:536870912,I:{url:m+"windows2k/.img",size:2147483648,async:!0,K:262144,da:!0},name:"Windows 2000"},{id:"windows-me",F:268435456,I:{url:m+"windowsme-v2/.img",size:834666496,
async:!0,K:262144,da:!0},state:{url:m+"windows-me_state-v2.bin.zst"},name:"Windows ME"},{id:"windowsnt4",F:536870912,I:{url:m+"winnt4_noacpi/.img",size:523837440,async:!0,K:262144,da:!0},name:"Windows NT 4.0",jd:2},{id:"windowsnt35",F:268435456,I:{url:m+"windowsnt351/.img",size:163577856,async:!0,K:262144,da:!0},name:"Windows NT 3.51"},{id:"windowsnt3",F:268435456,I:{url:m+"winnt31/.img",size:91226112,async:!0,K:262144,da:!0},name:"Windows NT 3.1"},{id:"windows98",F:134217728,I:{url:m+"windows98/.img",
size:314572800,async:!0,K:262144,da:!0},name:"Windows 98",state:{url:m+"windows98_state.bin.zst"},Jb:!0},{id:"windows98-boot",F:134217728,I:{url:m+"windows98/.img",size:314572800,async:!0,K:262144,da:!0},name:"Windows 98"},{id:"windows95",F:67108864,I:{url:m+"windows95-v2/.img",size:471859200,async:!0,K:262144,da:!0},name:"Windows 95"},{id:"windows95-boot",F:67108864,I:{url:m+"windows95-v2/.img",size:471859200,async:!0,K:262144,da:!0},name:"Windows 95"},{id:"windows30",F:67108864,Y:{url:m+"Win30.iso",
size:7774208,async:!1},name:"Windows 3.0"},{id:"windows31",F:67108864,I:{url:m+"win31.img",async:!1,size:34463744},name:"Windows 3.1"},{id:"tilck",F:134217728,I:{url:m+"tilck.img",async:!1,size:37748736},name:"Tilck",J:"https://github.com/vvaltchev/tilck"},{id:"littlekernel",Kb:{url:m+"littlekernel-multiboot.img",async:!1,size:969580},name:"Little Kernel",J:"https://github.com/littlekernel/lk"},{id:"sanos",F:134217728,I:{url:m+"sanos-flp.img",async:!1,size:1474560},name:"Sanos",J:"http://www.jbox.dk/sanos/"},
{id:"freebsd",F:268435456,I:{url:m+"freebsd/.img",size:2147483648,async:!0,K:1048576,da:!0},state:{url:m+"freebsd_state.bin.zst"},name:"FreeBSD"},{id:"freebsd-boot",F:268435456,I:{url:m+"freebsd/.img",size:2147483648,async:!0,K:1048576,da:!0},name:"FreeBSD"},{id:"reactos",F:536870912,I:{url:m+"reactos-v2/.img",size:681574400,async:!0,K:1048576,da:!0},state:{url:m+"reactos_state-v2.bin.zst"},Jb:!0,name:"ReactOS",sa:!0,J:"https://reactos.org/"},{id:"reactos-boot",F:536870912,I:{url:m+"reactos-v2/.img",
size:681574400,async:!0,K:1048576,da:!0},name:"ReactOS",sa:!0,J:"https://reactos.org/"},{id:"skift",Y:{url:m+"skift-20200910.iso",size:64452608,async:!1},name:"Skift",J:"https://skiftos.org/"},{id:"snowdrop",T:{url:m+"snowdrop.img",size:1474560},name:"Snowdrop",J:"http://www.sebastianmihai.com/snowdrop/"},{id:"openwrt",I:{url:m+"openwrt-18.06.1-x86-legacy-combined-squashfs.img",size:19846474,async:!1},name:"OpenWrt"},{id:"qnx",T:{url:m+"qnx-demo-network-4.05.img",size:1474560},name:"QNX 4.05"},{id:"9front",
F:134217728,I:{url:m+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386/.iso",size:477452288,async:!0,K:1048576,da:!0},state:{url:m+"9front_state-v2.bin.zst"},sa:!0,name:"9front",J:"https://9front.org/"},{id:"9front-boot",F:134217728,I:{url:m+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386/.iso",size:477452288,async:!0,K:1048576,da:!0},sa:!0,name:"9front",J:"https://9front.org/"},{id:"mobius",T:{url:m+"mobius-fd-release5.img",size:1474560},name:"Mobius"},{id:"android",F:536870912,
Y:{url:m+"android-x86-1.6-r2/.iso",size:54661120,async:!0,K:1048576,da:!0},name:"Android"},{id:"android4",F:536870912,Y:{url:m+"android_x86_nonsse3_4.4r1_20140904/.iso",size:247463936,async:!0,K:1048576,da:!0},name:"Android 4"},{id:"tinycore",F:268435456,I:{url:m+"TinyCore-11.0.iso",size:19922944,async:!1},name:"Tinycore",J:"http://www.tinycorelinux.net/"},{id:"slitaz",F:536870912,I:{url:m+"slitaz-rolling-2024.iso",size:56573952,async:!1},name:"SliTaz",J:"https://slitaz.org/"},{id:"freenos",F:268435456,
Y:{url:m+"FreeNOS-1.0.3.iso",async:!1,size:11014144},name:"FreeNOS",sa:!0,J:"http://www.freenos.org/"},{id:"syllable",F:536870912,I:{url:m+"syllable-destop-0.6.7/.img",async:!0,size:524288E3,K:524288,da:!0},name:"Syllable",J:"http://syllable.metaproject.frl/"},{id:"toaruos",F:536870912,Y:{url:m+"toaruos-1.6.1-core.iso",size:67567616,async:!1},name:"ToaruOS",sa:!0,J:"https://toaruos.org/"},{id:"nopeos",Y:{url:m+"nopeos-0.1.iso",size:532480,async:!1},name:"Nope OS",J:"https://github.com/d99kris/nopeos"},
{id:"soso",Y:{url:m+"soso.iso",size:22546432,async:!1},name:"Soso",J:"https://github.com/ozkl/soso"},{id:"pcmos",T:{url:m+"PCMOS386-9-user-patched.img",size:1474560},name:"PC-MOS/386",J:"https://github.com/roelandjansen/pcmos386v501"},{id:"jx",T:{url:m+"jx-demo.img",size:1474560},name:"JX",J:"https://www4.cs.fau.de/Projects/JX/index.html"},{id:"house",T:{url:m+"hOp-0.8.img",size:1474560},name:"House",J:"https://programatica.cs.pdx.edu/House/"},{id:"bleskos",name:"BleskOS",Y:{url:m+"bleskos_2024u32.iso",
size:1835008,async:!1},J:"https://github.com/VendelinSlezak/BleskOS"},{id:"boneos",name:"BoneOS",Y:{url:m+"BoneOS.iso",size:11429888,async:!1},J:"https://amanuel.io/projects/BoneOS/"},{id:"mikeos",name:"MikeOS",Y:{url:m+"mikeos.iso",size:3311616,async:!1},J:"https://mikeos.sourceforge.net/"},{id:"bluejay",name:"Blue Jay",T:{url:m+"bj050.img",size:1474560},J:"https://archiveos.org/blue-jay/"},{id:"t3xforth",name:"T3XFORTH",T:{url:m+"t3xforth.img",size:1474560},J:"https://t3x.org/t3xforth/"},{id:"nanoshell",
name:"NanoShell",Y:{url:m+"nanoshell.iso",size:6785024,async:!1},J:"https://github.com/iProgramMC/NanoShellOS"},{id:"catk",name:"CatK",Y:{url:m+"catkernel.iso",size:11968512,async:!1},J:"https://catk.neocities.org/"},{id:"mcp",name:"M/CP",T:{url:m+"mcp2.img",size:512},J:"https://github.com/ybuzoku/MCP"},{id:"ibm-exploring",name:"Exploring The IBM Personal Computer",T:{url:m+"ibm-exploring.img",size:368640}},{id:"leetos",name:"lEEt/OS",T:{url:m+"leetos.img",size:1474560},J:"http://sininenankka.dy.fi/leetos/index.php"},
{id:"newos",name:"NewOS",T:{url:m+"newos-flp.img",size:1474560,async:!1},J:"https://newos.org/"},{id:"aros-broadway",name:"AROS Broadway",F:536870912,Y:{url:m+"broadway10/.iso",size:742051840,async:!0,K:524288,da:!0},J:"https://web.archive.org/web/20231109224346/http://www.aros-broadway.de/"},{id:"icaros",name:"Icaros Desktop",F:536870912,Y:{url:m+"icaros-pc-i386-2.3/.iso",size:726511616,async:!0,K:524288,da:!0},J:"http://vmwaros.blogspot.com/"},{id:"tinyaros",name:"Tiny Aros",F:536870912,Y:{url:m+
"tinyaros-pc-i386/.iso",size:111175680,async:!0,K:524288,da:!0},J:"https://www.tinyaros.it/"}];var u=t.get("profile");if(!u){var D=document.createElement("link");D.rel="prefetch";D.href="build/v86.wasm";document.head.appendChild(D)}D=document.createElement("link");D.rel="prefetch";D.href="build/xterm.js";document.head.appendChild(D);for(const z of m){if(u===z.id){e(z,t);return}const E=c("start_"+z.id);E&&(E.onclick=F=>{F.ctrlKey||(F.preventDefault(),E.blur(),e(z,null))})}if("custom"===u)t.has("hda.url")||
t.has("cdrom.url")||t.has("fda.url")?e(null,t):(t.has("m")&&(c("memory_size").value=t.get("m")),t.has("vram")&&(c("vga_memory_size").value=t.get("vram")),t.has("relay_url")&&(c("relay_url").value=t.get("relay_url")),t.has("mute")&&(c("disable_audio").checked=b(t.get("mute"))),t.has("acpi")&&(c("acpi").checked=b(t.get("acpi"))),t.has("boot_order")&&(c("boot_order").value=t.get("boot_order")));else if(/^[a-zA-Z0-9\-_]+\/[a-zA-Z0-9\-_]+$/g.test(u)){const z="https://v86-user-images.b-cdn.net/"+u;fetch(z+
"/profile.json").catch(()=>alert("Profile not found: "+u)).then(E=>E.json()).then(E=>{function F(aa){return aa&&{url:z+"/"+aa.url,async:aa.async,size:aa.size}}E={id:E.id,name:E.name,F:E.memory_size,ma:E.vga_memory_size,sa:E.acpi,Cb:E.boot_order,I:F(E.hda),Y:F(E.cdrom),T:F(E.fda),Kb:F(E.multiboot),tb:F(E.bzimage),Ib:F(E.initrd)};e(E,t)})}var K=Array.from(document.querySelectorAll("#oses tbody tr")).map(z=>{const [,E,F]=z.children[1].textContent.match(/([\d\.]+)\+? (\w+)/);let aa=+E;"MB"===F?aa*=1048576:
"KB"===F&&(aa*=1024);return{element:z,size:aa,Fh:"gui_icon"===z.children[2].firstChild.className,family:z.children[3].textContent.replace(/-like/,""),lh:z.children[4].textContent,status:z.children[5].textContent,source:z.children[6].textContent,languages:new Set(z.children[7].textContent.split(", ")),Jg:z.children[8].textContent}}),P=document.querySelectorAll("#filter input");for(const z of P)z.onchange=q;y("network_none","");y("network_fetch","fetch");y("network_relay","wss://relay.widgetry.org/");
y("network_wisp","wisps://wisp.mercurywork.shop/v86/")}else alert("Your browser is not supported because it doesn't support WebAssembly")}function e(q,y){c("boot_options").style.display="none";const t=new Map;t.set("profile",q?.id||"custom");const m={};if(q&&(q.state&&(c("reset").style.display="none"),a(q.name),m.xc=q.state,m.filesystem=q.filesystem,m.T=q.T,m.Y=q.Y,m.I=q.I,m.Kb=q.Kb,m.tb=q.tb,m.Ib=q.Ib,m.Db=q.Db,m.hf=q.hf,m.Jb=q.Jb,m.jd=q.jd,m.sa=q.sa,m.F=q.F,m.ma=q.ma,m.Cb=q.Cb,m.zf=q.zf,q.J)){c("description").style.display=
"block";var u=document.createElement("a");u.href=q.J;u.textContent=q.name;u.target="_blank";c("description").append(document.createTextNode("Running "),u)}y&&(m.xc||(u=parseInt(y.get("chunk_size"),10),0<=u?(u=Math.min(4194304,Math.max(512,u)),u=$a(u)):u=262144,y.has("hda.url")&&(m.I={size:parseInt(y.get("hda.size"),10)||void 0,url:y.get("hda.url"),K:u,async:!0}),y.has("cdrom.url")&&(m.Y={size:parseInt(y.get("cdrom.size"),10)||void 0,url:y.get("cdrom.url"),K:u,async:!0}),y.has("fda.url")&&(m.T={size:parseInt(y.get("fda.size"),
10)||void 0,url:y.get("fda.url"),async:!1}),u=parseInt(y.get("m"),10),0<u&&(m.F=1048576*Math.max(16,u)),u=parseInt(y.get("vram"),10),0<u&&(m.ma=1048576*u),m.sa=y.has("acpi")?b(y.get("acpi")):m.sa,m.nl="bochs"===y.get("bios"),m.zf="virtio"===y.get("net_device_type")?"virtio":"ne2k"),m.Cc=y.get("relay_url"),m.lf=b(y.get("disable_jit")),m.Yf=b(y.get("mute")));m.Cc||(m.Cc=c("relay_url").value,n.includes(m.Cc)||t.set("relay_url",m.Cc));m.Cc.startsWith("fetch:")&&(m.Le=m.Cc.slice(6),m.Cc="fetch");m.Yf=
c("disable_audio").checked||m.Yf;m.Yf&&t.set("mute","1");if(!m.xc){if(u=c("bios").files[0])m.sb={buffer:u};var D=c("floppy_image").files[0];D&&(m.T={buffer:D});const z=c("cdrom_image").files[0];z&&(m.Y={buffer:z});const E=c("hda_image").files[0];E&&(m.I={buffer:E});const F=c("hdb_image")?.files[0];F&&(m.Lc={buffer:F});const aa=c("multiboot_image")?.files[0];aa&&(m.Kb={buffer:aa});var K=c("bzimage").files[0];K&&(m.tb={buffer:K});if(K=c("initrd").files[0])m.Ib={buffer:K};(u=aa?.name||E?.name||z?.name||
F?.name||D?.name||u?.name)&&a(u);u=parseInt(c("memory_size").value,10)||128;m.F&&128===u||(m.F=1048576*u);128!==u&&t.set("m",String(u));u=parseInt(c("vga_memory_size").value,10)||8;m.ma&&8===u||(m.ma=1048576*u);8!==u&&t.set("vram",String(u));u=parseInt(c("boot_order").value,16)||0;m.Cb&&0===u||(m.Cb=u);0!==m.Cb&&t.set("boot_order",String(m.Cb));void 0===m.sa&&(m.sa=c("acpi").checked,m.sa&&t.set("acpi","1"));m.sb||(m.nl?(u="bochs-bios.bin",D="bochs-vgabios.bin"):(u="seabios.bin",D="vgabios.bin"),m.sb=
{url:"bios/"+u},m.Nf={url:"bios/"+D})}y||k(t);const P=new ab({screen:{Vf:c("screen_container"),ol:!1},rd:{type:m.zf||"ne2k",Cc:m.Cc,Le:m.Le},Ni:!0,F:m.F,ma:m.ma,Cb:m.Cb,sb:m.sb,Nf:m.Nf,T:m.T,I:m.I,Lc:m.Lc,Y:m.Y,Kb:m.Kb,tb:m.tb,Ib:m.Ib,Db:m.Db,hf:m.hf,sa:m.sa,lf:m.lf,xc:m.xc,filesystem:m.filesystem||{},cj:m.Yf,Jb:m.Jb,jd:m.jd});bb(P,"emulator-ready",function(){if(P.Ma.u.Ja.exports.profiler_is_enabled()){const z=document.createElement("pre");document.body.appendChild(z);setInterval(function(){if(P.od()){var E=
cb.jl(P.Ma.u);z.textContent=E}},1E3)}"dsl helenos android android4 redox beos".split(" ").includes(q?.id)&&setTimeout(()=>{db(P,"\n")},3E3);f(q,m,P);y?.has("c")&&setTimeout(function(){db(P,y.get("c")+"\n")},25);y?.has("s")&&setTimeout(function(){for(var z=y.get("s")+"\n",E=0;E<z.length;E++)P.v.send("serial0-input",z.charCodeAt(E))},25)});bb(P,"download-progress",function(z){const E=c("loading");E.style.display="block";if(z.tf.endsWith(".wasm")){var F=z.tf.split("/");E.textContent="Fetching "+F[F.length-
1]+" ..."}else if(z.sf===z.rf-1&&z.loaded>=z.total-2048)E.textContent="Done downloading. Starting now ...";else{F="Downloading images ";"number"===typeof z.sf&&z.rf&&(F+="["+(z.sf+1)+"/"+z.rf+"] ");if(z.total&&"number"===typeof z.loaded){z=Math.floor(z.loaded/z.total*100);z=Math.min(100,Math.max(0,z));var aa=Math.floor(z/2);F=F+(z+"% [")+"#".repeat(aa);F+=" ".repeat(50-aa)+"]"}else F+=".".repeat(r++%50);E.textContent=F}});bb(P,"download-error",function(z){const E=c("loading");E.style.display="block";
E.textContent=`Loading ${z.tf} failed. Check your connection and reload the page to try again.`})}function f(q,y,t){function m(){var C=Date.now(),O=t.Ma?t.Ma.u.yj[0]>>>0:0;O<E&&(E-=4294967296);var R=O-E;E=O;T+=R;if(O=C-P)z+=O,P=C,c("speed").textContent=(R/1E3/O).toFixed(1),c("avg_speed").textContent=(T/1E3/z).toFixed(1),C=c("running_time"),R=z/1E3|0,C.textContent=60>R?R+"s":3600>R?(R/60|0)+"m "+ib(R%60,2)+"s":(R/3600|0)+"h "+ib((R/60|0)%60,2)+"m "+ib(R%60,2)+"s"}function u(C,O,R){var da=c("get_"+
R+"_image");!C||C.async?da.style.display="none":da.onclick=function(){const B=O.file&&O.file.name||(q?.id||"v86")+("cdrom"===R?".iso":".img");if(O.Dh){var A=O.Dh(B);jb(A,B)}else O.Wb(function(G){G?kb(G,B):alert("The file could not be loaded. Maybe it's too big?")});da.blur()}}function D(C){C.ctrlKey?window.onbeforeunload=function(){window.onbeforeunload=null;return"CTRL-W cannot be sent to the emulator."}:window.onbeforeunload=null}c("loading").style.display="none";c("runtime_options").style.display=
"block";c("runtime_infos").style.display="block";c("screen_container").style.display="block";y.filesystem?g(t):bb(t,"9p-attach",function(){g(t)});c("run").onclick=function(){t.od()?(c("run").value="Run",t.stop()):(c("run").value="Pause",t.Gf());c("run").blur()};c("exit").onclick=function(){t.ta();location.href=location.pathname};c("lock_mouse").onclick=function(){if(!K)c("toggle_mouse").onclick();lb();c("lock_mouse").blur()};var K=!0;c("toggle_mouse").onclick=function(){K=!K;t.i&&(t.i.bg=K);c("toggle_mouse").value=
(K?"Dis":"En")+"able mouse";c("toggle_mouse").blur()};var P=0,z=0,E=0,F=null,aa=!1,T=0;bb(t,"emulator-started",function(){P=Date.now();F=setInterval(m,1E3)});bb(t,"emulator-stopped",function(){m();null!==F&&clearInterval(F)});var ja=0,eb=0,za=[];bb(t,"9p-read-start",function(C){C=C[0];za.push(C);c("info_filesystem").style.display="block";c("info_filesystem_status").textContent="Loading ...";c("info_filesystem_last_file").textContent=C});bb(t,"9p-read-end",function(C){ja+=C[1];c("info_filesystem_bytes_read").textContent=
ja;const O=C[0];za=za.filter(R=>R!==O);za[0]?c("info_filesystem_last_file").textContent=za[0]:c("info_filesystem_status").textContent="Idle"});bb(t,"9p-write-end",function(C){eb+=C[1];c("info_filesystem_bytes_written").textContent=eb;za[0]||(c("info_filesystem_last_file").textContent=C[0])});var fb=0,gb=0,hb=0,Wa=0;c("ide_type").textContent=t.lb.Y?" (CD-ROM)":" (hard disk)";bb(t,"ide-read-start",function(){c("info_storage").style.display="block";c("info_storage_status").textContent="Loading ..."});
bb(t,"ide-read-end",function(C){fb+=C[1];gb+=C[2];c("info_storage_status").textContent="Idle";c("info_storage_bytes_read").textContent=fb;c("info_storage_sectors_read").textContent=gb});bb(t,"ide-write-end",function(C){hb+=C[1];Wa+=C[2];c("info_storage_bytes_written").textContent=hb;c("info_storage_sectors_written").textContent=Wa});var yb=0,Xa=0;bb(t,"eth-receive-end",function(C){Xa+=C[0];c("info_network").style.display="block";c("info_network_bytes_received").textContent=Xa});bb(t,"eth-transmit-end",
function(C){yb+=C[0];c("info_network").style.display="block";c("info_network_bytes_transmitted").textContent=yb});bb(t,"mouse-enable",function(C){aa=C;c("info_mouse_enabled").textContent=C?"Yes":"No"});bb(t,"screen-set-size",function(C){const [O,R,da]=C;c("info_res").textContent=O+"x"+R+(da?"x"+da:"");c("info_vga_mode").textContent=da?"Graphical":"Text"});c("reset").onclick=function(){t.Tg();c("reset").blur()};u(y.I,t.lb.I,"hda");u(y.Lc,t.lb.Lc,"hdb");u(y.T,t.lb.T,"fda");u(y.Qe,t.lb.Qe,"fdb");u(y.Y,
t.lb.Y,"cdrom");c("change_fda_image").value=y.T?"Eject floppy image":"Insert floppy image";c("change_fda_image").onclick=function(){if(t.Ma.u.A.ee.md)t.ag(),c("change_fda_image").value="Insert floppy image";else{const C=document.createElement("input");C.type="file";C.onchange=async function(){const O=C.files[0];O&&(await t.If({buffer:O}),c("change_fda_image").value="Eject floppy image")};C.click()}c("change_fda_image").blur()};c("memory_dump").onclick=function(){const C=t.Ma.u.jb;kb(new Uint8Array(C.buffer,
C.byteOffset,C.length),"v86memory.bin");c("memory_dump").blur()};c("capture_network_traffic").onclick=function(){function C(R,da){var B=O,A=B.push,G=performance.now()/1E3;const J=[];let L=0;for(;L+15<da.length;L+=16){var M=ib(L.toString(16).toUpperCase(),5)+"   ";for(var N=0;16>N;N++)M+=ib(da[L+N].toString(16).toUpperCase(),2)+" ";M+="  ";for(N=0;16>N;N++){var X=da[L+N];M+=33<=X&&34!==X&&92!==X&&126>=X?String.fromCharCode(X):"."}J.push(M)}for(M=ib(L.toString(16).toUpperCase(),5)+"   ";L<da.length;L++)M+=
ib(da[L].toString(16).toUpperCase(),2)+" ";N=L&15;M+="   ".repeat(16-N);M+="  ";for(X=0;X<N;X++){const ca=da[L+X];M+=33<=ca&&34!==ca&&92!==ca&&126>=ca?String.fromCharCode(ca):"."}J.push(M);A.call(B,{direction:R,time:G,wj:"\n"+J.join("\n")+"\n"});c("capture_network_traffic").value=O.length+" packets"}this.value="0 packets";let O=[];t.de.register("net0-receive",C.bind(this,"I"));bb(t,"net0-send",C.bind(this,"O"));this.onclick=function(){const R=O.map(({direction:da,time:B,wj:A})=>da+" "+B.toFixed(6)+
A+"\n").join("");kb(R,"traffic.hex");O=[];this.value="0 packets"}};c("save_state").onclick=async function(){const C=await t.Hf();kb(C,"v86state.bin");c("save_state").blur()};c("load_state").onclick=function(){c("load_state_input").click();c("load_state").blur()};c("load_state_input").onchange=async function(){var C=this.files[0];if(C){var O=t.od();O&&await t.stop();var R=new FileReader;R.onload=async function(da){try{await t.Xe(da.target.result)}catch(B){throw alert("Something bad happened while restoring the state:\n"+
B+"\n\nNote that the current configuration must be the same as the original"),B;}O&&t.Gf()};R.readAsArrayBuffer(C);this.value=""}};c("ctrlaltdel").onclick=function(){mb(t,[29,56,83,157,184,211]);c("ctrlaltdel").blur()};c("alttab").onclick=function(){mb(t,[56,15]);setTimeout(function(){mb(t,[184,143])},100);c("alttab").blur()};c("scale").onchange=function(){var C=parseFloat(this.value);(C||0<C)&&t.$b&&t.$b.Yg(C,C)};c("fullscreen").onclick=function(){if(t.$b){var C=document.getElementById("screen_container");
if(C){var O=C.requestFullScreen||C.webkitRequestFullscreen||C.mozRequestFullScreen||C.msRequestFullScreen;O&&(O.call(C),(C=document.getElementsByClassName("phone_keyboard")[0])&&C.focus());try{navigator.keyboard.lock()}catch(R){}lb()}}};c("screen_container").onclick=function(){t.od()&&t.g&&"suspended"===t.g.$.state&&t.g.$.resume();if(K&&aa)lb();else if(window.getSelection().isCollapsed){const C=document.getElementsByClassName("phone_keyboard")[0];C.style.top=document.body.scrollTop+100+"px";C.style.left=
document.body.scrollLeft+100+"px";C.focus()}};const Ga=document.getElementsByClassName("phone_keyboard")[0];Ga.setAttribute("autocorrect","off");Ga.setAttribute("autocapitalize","off");Ga.setAttribute("spellcheck","false");Ga.tabIndex=0;c("screen_container").addEventListener("mousedown",()=>{Ga.focus()},!1);c("take_screenshot").onclick=function(){const C=t.$b?t.$b.Bj():null;try{window.open("").document.write(C.outerHTML)}catch(O){}c("take_screenshot").blur()};if(t.g){let C=!1;c("mute").onclick=function(){C?
(t.g.hg.pg(1,void 0),C=!1,c("mute").value="Mute"):(t.g.hg.pg(0,void 0),C=!0,c("mute").value="Unmute");c("mute").blur()}}else c("mute").remove();window.addEventListener("keydown",D,!1);window.addEventListener("keyup",D,!1);window.addEventListener("blur",D,!1);y=document.createElement("script");y.src="build/xterm.js";y.async=!0;y.onload=function(){var C=c("terminal");t.ac&&t.ac.ta&&t.ac.ta();t.ac=new nb(C,t.v);t.ac.show()};document.body.appendChild(y)}function g(q){c("filesystem_panel").style.display=
"block";c("filesystem_send_file").onchange=function(){Array.prototype.forEach.call(this.files,function(y){var t=new ob(y);t.onload=function(){t.Wb(async function(m){await q.Wi("/"+y.name,new Uint8Array(m))})};t.load()},this);this.value="";this.blur()};c("filesystem_get_file").onkeypress=async function(y){if(13===y.which){this.disabled=!0;try{var t=await q.Ff(this.value)}catch(m){console.log(m)}this.disabled=!1;t?(y=this.value.replace(/\/$/,"").split("/"),y=y[y.length-1]||"root",kb(t,y),this.value=
""):alert("Can't read file")}}}function h(){location.reload()}function k(q){window.history.pushState&&(q="?"+q.entries().map(([y,t])=>y+"="+t.replace(/[?&=#+]/g,encodeURIComponent)).toArray().join("&"),window.history.pushState({search:q},"",q))}const l=!location.hostname.endsWith("copy.sh"),n=["wss://relay.widgetry.org/","ws://localhost:8080/"];let r=0;const x="memory_size video_memory_size networking_proxy disable_audio enable_acpi boot_order".split(" ");for(const q of x)try{window.localStorage.removeItem(q)}catch(y){}window.addEventListener("load",
d,!1);window.addEventListener("load",function(){setTimeout(function(){window.addEventListener("popstate",h)},0)});"complete"===document.readyState&&d()})();function pb(a){this.ports=[];this.u=a;for(var b=0;65536>b;b++)this.ports[b]=qb(this);var c=a.F[0];for(b=0;b<<17<c;b++)a.g[b]=a.j[b]=void 0,a.ba[b]=a.i[b]=void 0;rb(this,c,4294967296-c,function(){return 255},function(){},function(){return-1},function(){})}function qb(a){return{ue:a.oj,ab:a.mj,Ef:a.nj,wg:a.Dg,Qf:a.Dg,Aa:a.Dg,za:void 0}}p=pb.prototype;p.oj=function(){return 255};p.mj=function(){return 65535};p.nj=function(){return-1};p.Dg=function(){};
function Q(a,b,c,d,e,f){d&&(a.ports[b].ue=d);e&&(a.ports[b].ab=e);f&&(a.ports[b].Ef=f);a.ports[b].za=c}function S(a,b,c,d,e,f){d&&(a.ports[b].wg=d);e&&(a.ports[b].Qf=e);f&&(a.ports[b].Aa=f);a.ports[b].za=c}
p.ve=function(a,b,c,d,e,f){function g(){return c.call(this)|d.call(this)<<8}function h(){return e.call(this)|f.call(this)<<8}function k(){return c.call(this)|d.call(this)<<8|e.call(this)<<16|f.call(this)<<24}e&&f?(Q(this,a,b,c,g,k),Q(this,a+1,b,d),Q(this,a+2,b,e,h),Q(this,a+3,b,f)):(Q(this,a,b,c,g),Q(this,a+1,b,d))};
p.ad=function(a,b,c,d,e,f){function g(l){c.call(this,l&255);d.call(this,l>>8&255)}function h(l){e.call(this,l&255);f.call(this,l>>8&255)}function k(l){c.call(this,l&255);d.call(this,l>>8&255);e.call(this,l>>16&255);f.call(this,l>>>24)}e&&f?(S(this,a,b,c,g,k),S(this,a+1,b,d),S(this,a+2,b,e,h),S(this,a+3,b,f)):(S(this,a,b,c,g),S(this,a+1,b,d))};p.Cj=function(a){var b=this.u.g[a>>>17];return b(a)|b(a+1)<<8|b(a+2)<<16|b(a+3)<<24};
p.Dj=function(a,b){var c=this.u.j[a>>>17];c(a,b&255);c(a+1,b>>8&255);c(a+2,b>>16&255);c(a+3,b>>>24)};function rb(a,b,c,d,e,f,g){f||(f=a.Cj.bind(a));g||(g=a.Dj.bind(a));for(b>>>=17;0<c;b++)a.u.g[b]=d,a.u.j[b]=e,a.u.ba[b]=f,a.u.i[b]=g,c-=131072}function sb(a,b){a=a.ports[b];return a.Ef.call(a.za)};function tb(a,b){this.i=this.h=!1;this.l=!0;this.j=0;this.g=null;this.u=new ub(a,b,()=>{this.l&&vb(this,0)});this.v=a;this.o()}p=tb.prototype;p.Gf=function(){this.i=!1;this.h||(this.h=!0,this.v.send("emulator-started"));vb(this,0)};function wb(a){if(a.i||!a.h)a.i=a.h=!1,a.v.send("emulator-stopped");else{a.l=!1;var b=a.u.Nd();vb(a,b)}}function vb(a,b){const c=++a.j;a.l=!0;a.C(b,c)}p.stop=function(){this.h&&(this.i=!0)};p.ta=function(){this.s()};p.Tg=function(){this.u.va();xb(this.u)};
p.Hb=function(a){this.u.Hb(a,this.v);this.v.send("emulator-ready")};
if("undefined"!==typeof process)tb.prototype.C=function(a,b){1>a?global.setImmediate(c=>{c===this.j&&wb(this)},b):setTimeout(c=>{c===this.j&&wb(this)},a,b)},tb.prototype.o=function(){},tb.prototype.s=function(){};else if("undefined"!==typeof Worker){function a(){let b;globalThis.onmessage=function(c){const d=c.data.t;b=b&&clearTimeout(b);1>d?postMessage(c.data.yi):b=setTimeout(()=>postMessage(c.data.yi),d)}}tb.prototype.o=function(){const b=URL.createObjectURL(new Blob(["("+a.toString()+")()"],{type:"text/javascript"}));
this.g=new Worker(b);this.g.onmessage=c=>{c.data===this.j&&wb(this)};URL.revokeObjectURL(b)};tb.prototype.C=function(b,c){this.g.postMessage({t:b,yi:c})};tb.prototype.s=function(){this.g&&this.g.terminate();this.g=null}}else tb.prototype.C=function(a){setTimeout(()=>{wb(this)},a)},tb.prototype.o=function(){},tb.prototype.s=function(){};tb.prototype.Hf=function(){return this.u.Hf()};tb.prototype.Xe=function(a){return this.u.Xe(a)};
if("object"===typeof performance&&performance.now)var zb=performance.now.bind(performance);else if("function"===typeof require){const {performance:a}=require("perf_hooks");zb=a.now.bind(a)}else"object"===typeof process&&process.hrtime?zb=function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:zb=Date.now;var ob,Ab,Bb,Cb,Db,Eb,Fb;function Gb(a,b){return(a||0===a?a+"":"").padEnd(b," ")}function ib(a,b){return(a||0===a?a+"":"").padStart(b,"0")}function U(a,b,c,d){return new Proxy({},{get:function(e,f){e=new a(b.buffer,c,d);f=e[f];return"function"===typeof f?f.bind(e):f},set:function(e,f,g){(new a(b.buffer,c,d))[f]=g;return!0}})}function Hb(a,b){return"0x"+ib((a?a.toString(16):"").toUpperCase(),b||1)}
if("undefined"!==typeof crypto&&crypto.getRandomValues){const a=new Int32Array(1);var Ib=function(){crypto.getRandomValues(a);return a[0]}}else if("undefined"!==typeof require){const a=require("crypto");Ib=function(){return a.Zl(4).readInt32LE(0)}}
(function(){if("function"===typeof Math.clz32)Ab=function(d){return 31-Math.clz32(d)};else{for(var a=new Int8Array(256),b=0,c=-2;256>b;b++)b&b-1||c++,a[b]=c;Ab=function(d){d>>>=0;var e=d>>>16;if(e){var f=e>>>8;return f?24+a[f]:16+a[e]}return(f=d>>>8)?8+a[f]:a[d]}}})();function $a(a){return 1>=a?1:1<<1+Ab(a-1)}
function Jb(a){var b=new Uint8Array(a),c,d;this.length=0;this.push=function(e){this.length!==a&&this.length++;b[d]=e;d=d+1&a-1};this.shift=function(){if(this.length){var e=b[c];c=c+1&a-1;this.length--;return e}return-1};this.clear=function(){this.length=d=c=0};this.clear()}function Kb(){this.size=65536;this.data=new Float32Array(65536);this.length=this.end=this.start=0}
Kb.prototype.push=function(a){this.length===this.size?this.start=this.start+1&this.size-1:this.length++;this.data[this.end]=a;this.end=this.end+1&this.size-1};Kb.prototype.shift=function(){if(this.length){var a=this.data[this.start];this.start=this.start+1&this.size-1;this.length--;return a}};
function Lb(a,b){var c=new Float32Array(b);b>a.length&&(b=a.length);var d=a.start+b,e=a.data.subarray(a.start,d);c.set(e);d>=a.size&&(d-=a.size,c.set(a.data.subarray(0,d),e.length));a.start=d;a.length-=b;return c}Kb.prototype.clear=function(){this.length=this.end=this.start=0};function kb(a,b){a instanceof Array||(a=[a]);jb(new Blob(a),b)}
function jb(a,b){var c=document.createElement("a");c.download=b;c.href=window.URL.createObjectURL(a);c.dataset.downloadurl=["application/octet-stream",c.download,c.href].join(":");document.createEvent?(a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(a)):c.click();window.URL.revokeObjectURL(c.href)}function Mb(a){"number"===typeof a?this.view=new Uint8Array(a+7>>3):a instanceof ArrayBuffer&&(this.view=new Uint8Array(a))}
Mb.prototype.set=function(a,b){const c=a>>3;a=1<<(a&7);this.view[c]=b?this.view[c]|a:this.view[c]&~a};Mb.prototype.get=function(a){return this.view[a>>3]>>(a&7)&1};Mb.prototype.Wb=function(){return this.view.buffer};var Pb="undefined"===typeof XMLHttpRequest?Nb:Ob;
function Ob(a,b,c){function d(){const k=c||0;setTimeout(()=>{Ob(a,b,k+1)},1E3*([1,1,2,3,5,8,13,21][k]||34))}var e=new XMLHttpRequest;e.open(b.method||"get",a,!0);e.responseType=b.Ie?"json":"arraybuffer";if(b.headers)for(var f=Object.keys(b.headers),g=0;g<f.length;g++){var h=f[g];e.setRequestHeader(h,b.headers[h])}b.te&&(f=b.te.start,e.setRequestHeader("Range","bytes="+f+"-"+(f+b.te.length-1)),e.setRequestHeader("X-Accept-Encoding","identity"),e.onreadystatechange=function(){200===e.status&&(console.error("Server sent full file in response to ranged request, aborting",
{filename:a}),e.abort())});e.onload=function(){if(4===e.readyState)if(200!==e.status&&206!==e.status)console.error("Loading the image "+a+" failed (status %d)",e.status),500<=e.status&&600>e.status&&d();else if(e.response){if(b.te){const k=e.getResponseHeader("Content-Encoding");k&&"identity"!==k&&console.error("Server sent Content-Encoding in response to ranged request",{filename:a,Ml:k})}b.done&&b.done(e.response,e)}};e.onerror=function(k){console.error("Loading the image "+a+" failed",k);d()};
b.progress&&(e.onprogress=function(k){b.progress(k)});e.send(null)}function Nb(a,b){const c=require("fs");b.te?c.open(a,"r",(d,e)=>{if(d)throw d;d=b.te.length;var f=Buffer.allocUnsafe(d);c.read(e,f,0,d,b.te.start,g=>{if(g)throw g;b.done&&b.done(new Uint8Array(f));c.close(e,h=>{if(h)throw h;})})}):c.readFile(a,{encoding:b.Ie?"utf-8":null},function(d,e){d?console.log("Could not read file:",a,d):(d=e,b.Ie?d=JSON.parse(d):d=(new Uint8Array(d)).buffer,b.done(d))})};(function(){function a(g){this.buffer=g;this.byteLength=g.byteLength;this.onload=void 0}function b(g,h,k){this.filename=g;this.byteLength=h;this.g=new Map;this.i=new Set;this.K=k;this.s=!!k;this.onload=void 0}function c(g,h,k,l,n){const r=g.match(/\.[^\.]+(\.zst)?$/);this.j=r?r[0]:"";this.h=g.substring(0,g.length-this.j.length);this.D=this.j.endsWith(".zst");this.h.endsWith("/")||(this.h+="-");this.g=new Map;this.i=new Set;this.byteLength=h;this.K=k;this.G=!!l;this.C=n;this.s=!!k;this.onload=void 0}
function d(g){this.file=g;this.byteLength=g.size;1073741824<g.size&&console.warn("SyncFileBuffer: Allocating buffer of "+(g.size>>20)+" MB ...");this.buffer=new ArrayBuffer(g.size);this.onload=void 0}function e(g){this.file=g;this.byteLength=g.size;this.g=new Map;this.i=new Set;this.onload=void 0}Bb=a;Eb=b;Db=c;Cb=e;ob=d;Fb=function(g,h){if(g.buffer instanceof ArrayBuffer)return new Bb(g.buffer);if("undefined"!==typeof File&&g.buffer instanceof File)return h=g.async,void 0===h&&(h=268435456<=g.buffer.size),
h?new Cb(g.buffer):new ob(g.buffer);if(g.url)return g.da?new Db(g.url,g.size,g.K,!1,h):new Eb(g.url,g.size,g.K)};a.prototype.load=function(){this.onload&&this.onload({buffer:this.buffer})};a.prototype.get=function(g,h,k){k(new Uint8Array(this.buffer,g,h))};a.prototype.set=function(g,h,k){(new Uint8Array(this.buffer,g,h.byteLength)).set(h);k()};a.prototype.Wb=function(g){g(this.buffer)};a.prototype.ha=function(){const g=[];g[0]=this.byteLength;g[1]=new Uint8Array(this.buffer);return g};a.prototype.H=
function(g){this.byteLength=g[0];this.buffer=g[1].slice().buffer};b.prototype.load=function(){void 0!==this.byteLength?this.onload&&this.onload(Object.create(null)):f(this.filename,(g,h)=>{if(g)throw Error("Cannot use: "+this.filename+". "+g);this.byteLength=h;this.onload&&this.onload(Object.create(null))})};b.prototype.h=function(g,h){var k=h/256;g/=256;for(var l=0;l<k;l++)if(!this.g.get(g+l))return;if(1===k)return this.g.get(g);h=new Uint8Array(h);for(l=0;l<k;l++)h.set(this.g.get(g+l),256*l);return h};
b.prototype.get=function(g,h,k){var l=this.h(g,h);if(l)k(l);else{var n=g,r=h;this.K&&(n=g-g%this.K,r=Math.ceil((g-n+h)/this.K)*this.K);Pb(this.filename,{done:function(x){x=new Uint8Array(x);this.j(n,r,x);n===g&&r===h?k(x):k(x.subarray(g-n,g-n+h))}.bind(this),te:{start:n,length:r}})}};b.prototype.set=function(g,h,k){g/=256;for(var l=h.length/256,n=0;n<l;n++){var r=this.g.get(g+n);void 0===r?this.g.set(g+n,h.slice(256*n,256*(n+1))):r.set(h.subarray(256*n,256*(n+1)));this.i.add(g+n)}k()};b.prototype.j=
function(g,h,k){g/=256;h/=256;for(var l=0;l<h;l++){const n=this.g.get(g+l);n?k.set(n,256*l):this.s&&this.g.set(g+l,k.slice(256*l,256*(l+1)))}};b.prototype.Wb=function(g){g()};b.prototype.ha=function(){const g=[],h=[];for(const [k,l]of this.g)this.i.has(k)&&h.push([k,l]);g[0]=h;return g};b.prototype.H=function(g){g=g[0];this.g.clear();this.i.clear();for(const [h,k]of g)this.g.set(h,k),this.i.add(h)};c.prototype.load=function(){this.onload&&this.onload(Object.create(null))};c.prototype.get=function(g,
h,k){var l=this.l(g,h);if(l)k(l);else if(this.K){const r=Math.floor(g/this.K),x=g-r*this.K,q=Math.ceil((x+h)/this.K),y=new Uint8Array(q*this.K);let t=0;for(let m=0;m<q;m++){var n=(r+m)*this.K;l=this.G?this.h+(r+m+"").padStart(8,"0")+this.j:this.h+n+"-"+(n+this.K)+this.j;(n=this.l(n,this.K))?(y.set(n,m*this.K),t++,t===q&&k(y.subarray(x,x+h))):Pb(l,{done:async function(u){u=new Uint8Array(u);this.D&&(u=await this.C(this.K,u),u=new Uint8Array(u));y.set(u,m*this.K);this.o((r+m)*this.K,this.K|0,u);t++;
t===q&&k(y.subarray(x,x+h))}.bind(this)})}}else Pb(this.h+g+"-"+(g+h)+this.j,{done:function(r){r=new Uint8Array(r);this.o(g,h,r);k(r)}.bind(this)})};c.prototype.l=b.prototype.h;c.prototype.set=b.prototype.set;c.prototype.o=b.prototype.j;c.prototype.ha=b.prototype.ha;c.prototype.H=b.prototype.H;d.prototype.load=function(){this.g(0)};d.prototype.g=function(g){var h=new FileReader;h.onload=function(k){k=new Uint8Array(k.target.result);(new Uint8Array(this.buffer,g)).set(k);this.g(g+4194304)}.bind(this);
g<this.byteLength?h.readAsArrayBuffer(this.file.slice(g,Math.min(g+4194304,this.byteLength))):(this.file=void 0,this.onload&&this.onload({buffer:this.buffer}))};d.prototype.get=a.prototype.get;d.prototype.set=a.prototype.set;d.prototype.Wb=a.prototype.Wb;d.prototype.ha=a.prototype.ha;d.prototype.H=a.prototype.H;e.prototype.load=function(){this.onload&&this.onload(Object.create(null))};e.prototype.get=function(g,h,k){var l=this.h(g,h);l?k(l):(l=new FileReader,l.onload=function(n){n=new Uint8Array(n.target.result);
this.j(g,h,n);k(n)}.bind(this),l.readAsArrayBuffer(this.file.slice(g,g+h)))};e.prototype.h=b.prototype.h;e.prototype.set=b.prototype.set;e.prototype.j=b.prototype.j;e.prototype.ha=b.prototype.ha;e.prototype.H=b.prototype.H;e.prototype.Wb=function(g){g()};e.prototype.Dh=function(g){for(var h=[],k=Array.from(this.g.keys()).sort(function(q,y){return q-y}),l=0,n=0;n<k.length;n++){var r=k[n],x=this.g.get(r);r*=256;r!==l&&(h.push(this.file.slice(l,r)),l=r);h.push(x);l+=x.length}l!==this.file.size&&h.push(this.file.slice(l));
return new File(h,g)};var f="undefined"===typeof XMLHttpRequest?function(g,h){require("fs").stat(g,(k,l)=>{k?h(k):h(null,l.size)})}:function(g,h){Pb(g,{done:(k,l)=>{k=l.getResponseHeader("Content-Range")||"";(l=k.match(/\/(\d+)\s*$/))?h(null,+l[1]):h("`Range: bytes=...` header not supported (Got `"+k+"`)")},headers:{Range:"bytes=0-0","X-Accept-Encoding":"identity"}})}})();function Qb(a,b,c,d,e,f){this.Ka=new Rb(this,a,b,d,e,f);this.Ua=new Rb(this,a,c,!1,e,f);this.Da=this.Ka;this.u=a;0===e?(this.g=496,this.ka=14,this.Oa=240):1===e&&(this.g=368,this.ka=15,this.Oa=248);this.i=this.g|516;this.h=46080;this.O=[134,128,16,112,5,0,160,2,0,128,1,1,0,0,0,0,this.g&255|1,this.g>>8,0,0,this.i&255|1,this.i>>8,0,0,0,0,0,0,0,0,0,0,this.h&255|1,this.h>>8,0,0,0,0,0,0,0,0,0,0,67,16,212,130,0,0,0,0,0,0,0,0,0,0,0,0,this.ka,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Lb=[{size:8},{size:4},void 0,void 0,{size:16}];this.name="ide"+e;this.l=2;Q(a.B,this.g|7,this,function(){Sb(this.u,this.ka);return this.mi()});Q(a.B,this.i|2,this,this.mi);S(a.B,this.i|2,this,this.sl);Q(a.B,this.g|0,this,function(){return Tb(this.Da,1)},function(){return Tb(this.Da,2)},function(){return Tb(this.Da,4)});Q(a.B,this.g|1,this,function(){return this.Da.error&
255});Q(a.B,this.g|2,this,function(){return this.Da.oa&255});Q(a.B,this.g|3,this,function(){return this.Da.La&255});Q(a.B,this.g|4,this,function(){return this.Da.ya&255});Q(a.B,this.g|5,this,function(){return this.Da.Ba&255});Q(a.B,this.g|6,this,function(){return this.Da.kd&255});S(a.B,this.g|0,this,function(g){Ub(this.Da,g,1)},function(g){Ub(this.Da,g,2)},function(g){Ub(this.Da,g,4)});S(a.B,this.g|1,this,function(g){this.Ka.ge=(this.Ka.ge<<8|g)&65535;this.Ua.ge=(this.Ua.ge<<8|g)&65535});S(a.B,this.g|
2,this,function(g){this.Ka.oa=(this.Ka.oa<<8|g)&65535;this.Ua.oa=(this.Ua.oa<<8|g)&65535});S(a.B,this.g|3,this,function(g){this.Ka.La=(this.Ka.La<<8|g)&65535;this.Ua.La=(this.Ua.La<<8|g)&65535});S(a.B,this.g|4,this,function(g){this.Ka.ya=(this.Ka.ya<<8|g)&65535;this.Ua.ya=(this.Ua.ya<<8|g)&65535});S(a.B,this.g|5,this,function(g){this.Ka.Ba=(this.Ka.Ba<<8|g)&65535;this.Ua.Ba=(this.Ua.Ba<<8|g)&65535});S(a.B,this.g|6,this,function(g){this.Da=g&16?this.Ua:this.Ka;this.Ka.kd=g;this.Ua.kd=g;this.Ka.Se=
this.Ua.Se=g>>6&1;this.Ka.head=this.Ua.head=g&15});this.j=this.Ca=this.re=0;S(a.B,this.g|7,this,function(g){Sb(this.u,this.ka);var h=this.Da;if(h.buffer)switch(h.s=g,h.error=0,g){case 8:h.i=0;h.g=0;h.h=0;Vb(h);h.ca();break;case 16:h.status=80;h.ya=0;h.ca();break;case 248:h.status=80;var k=h.j-1;h.La=k&255;h.ya=k>>8&255;h.Ba=k>>16&255;h.kd=h.kd&240|k>>24&15;h.ca();break;case 39:h.status=80;k=h.j-1;h.La=k&255;h.ya=k>>8&255;h.Ba=k>>16&255;h.La|=k>>24<<8&65280;h.ca();break;case 32:case 36:case 41:case 196:Wb(h,
g);break;case 48:case 52:case 57:case 197:var l=52===g||57===g;k=Xb(h,l);l=Yb(h,l);g=48===g||52===g;k*=h.l;l*=h.l;l+k>h.buffer.byteLength?(h.status=255,h.ca()):(h.status=88,Zb(h,k),h.g=g?512:Math.min(k,512*h.L),h.V=l);break;case 144:h.ca();h.error=257;h.status=80;break;case 145:h.status=80;h.ca();break;case 160:h.G&&(h.status=88,$b(h,12),h.g=12,h.oa=1,h.ca());break;case 161:h.G?(ac(h),h.status=88,h.ya=20,h.Ba=235):h.status=65;h.ca();break;case 198:h.L=h.oa&255;h.status=80;h.ca();break;case 37:case 200:k=
37===g;l=Xb(h,k);Yb(h,k)*h.l+l*h.l>h.buffer.byteLength?(h.status=255,h.ca()):(h.status=88,h.za.Ca|=1);break;case 53:case 202:k=53===g;l=Xb(h,k);Yb(h,k)*h.l+l*h.l>h.buffer.byteLength?(h.status=255,h.ca()):(h.status=88,h.za.Ca|=1);break;case 64:h.status=80;h.ca();break;case 218:h.status=65;h.error=4;h.ca();break;case 224:h.status=80;h.ca();break;case 225:h.status=80;h.ca();break;case 231:h.status=80;h.ca();break;case 236:if(h.G){h.status=65;h.error=4;h.ca();break}ac(h);h.status=88;h.ca();break;case 234:h.status=
80;h.ca();break;case 239:h.status=80;h.ca();break;case 222:h.status=80;h.ca();break;case 245:h.status=80;h.ca();break;case 249:h.status=65;h.error=4;break;default:h.status=65,h.error=4}else h.error=4,h.status=65,h.ca()});Q(a.B,this.h|4,this,void 0,void 0,this.dj);S(a.B,this.h|4,this,void 0,void 0,this.hj);Q(a.B,this.h,this,this.fj,void 0,this.ej);S(a.B,this.h,this,this.rh,void 0,this.ij);Q(a.B,this.h|2,this,this.gj);S(a.B,this.h|2,this,this.sh);Q(a.B,this.h|8,this,function(){return 0});Q(a.B,this.h|
10,this,function(){return 0});bc(a.A.$a,this)}p=Qb.prototype;p.mi=function(){return this.Da.buffer?this.Da.status:0};p.sl=function(a){a&4&&(Sb(this.u,this.ka),Vb(this.Ka),Vb(this.Ua));this.l=a};p.dj=function(){return this.re};p.hj=function(a){this.re=a};p.gj=function(){return this.Ca};p.sh=function(a){this.Ca&=~(a&6)};p.ej=function(){return this.j|this.Ca<<16};p.fj=function(){return this.j};p.ij=function(a){this.rh(a&255);this.sh(a>>16&255)};
p.rh=function(a){const b=this.j;this.j=a&9;if((b&1)!==(a&1))if(0===(a&1))this.Ca&=-2;else switch(this.Ca|=1,this.Da.s){case 37:case 200:cc(this.Da);break;case 202:case 53:dc(this.Da);break;case 160:ec(this.Da)}};p.ca=function(){0===(this.l&2)&&(this.Ca|=4,this.u.Xa(this.ka))};p.ha=function(){var a=[];a[0]=this.Ka;a[1]=this.Ua;a[2]=this.g;a[3]=this.ka;a[4]=this.Oa;a[5]=this.i;a[6]=this.h;a[7]=this.name;a[8]=this.l;a[9]=this.re;a[10]=this.Ca;a[11]=this.Da===this.Ka;a[12]=this.j;return a};
p.H=function(a){this.Ka.H(a[0]);this.Ua.H(a[1]);this.g=a[2];this.ka=a[3];this.Oa=a[4];this.i=a[5];this.h=a[6];this.name=a[7];this.l=a[8];this.re=a[9];this.Ca=a[10];this.Da=a[11]?this.Ka:this.Ua;this.j=a[12]};
function Rb(a,b,c,d,e,f){this.za=a;this.v=f;this.Z=e;this.u=b;this.buffer=c;this.l=d?2048:512;this.G=d;this.D=this.o=this.C=this.j=0;this.buffer&&(this.j=this.buffer.byteLength/this.l,this.j!==(this.j|0)&&(this.j=Math.ceil(this.j)),d?(this.C=1,this.o=0):(this.C=16,this.o=63),this.D=this.j/this.C/this.o,this.D!==(this.D|0)&&(this.D=Math.floor(this.D)),a=b.A.Ad,a.ea[57]|=1<<4*this.Z,a.ea[18]=a.ea[18]&15|240,a.ea[27]=this.D&255,a.ea[28]=this.D>>8&255,a.ea[29]=this.C&255,a.ea[30]=255,a.ea[31]=255,a.ea[32]=
200,a.ea[33]=this.D&255,a.ea[34]=this.D>>8&255,a.ea[35]=this.o&255);this.buffer=c;this.kd=this.head=this.Ba=this.ya=this.ge=this.La=this.oa=this.Se=0;this.status=80;this.L=128;this.i=this.error=0;this.data=new Uint8Array(65536);this.U=new Uint16Array(this.data.buffer);this.M=new Int32Array(this.data.buffer);this.g=this.h=0;this.S=this.s=-1;this.fa=this.V=0;this.N=new Set;this.ba=new Set;Object.seal(this)}
function Vb(a){a.G?(a.status=0,a.oa=1,a.error=1,a.La=1,a.ya=20,a.Ba=235):(a.status=81,a.oa=1,a.error=1,a.La=1,a.ya=0,a.Ba=0);for(const b of a.N)a.ba.add(b);a.N.clear()}p=Rb.prototype;p.ca=function(){this.za.ca()};p.mf=function(){this.status=80;var a=this.data.subarray(0,this.h);fc(this,this.s,this.h/512);this.ca();this.buffer.set(this.V,a,function(){});gc(this,this.h)};
function hc(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;a.h=0;var d=a.Ba<<8&65280|a.ya&255;a.ya=a.Ba=0;65535===d&&d--;d>c&&(d=c);b>=a.buffer.byteLength?(a.status=255,a.ca()):0===c?(a.status=80,a.i=0):(c=Math.min(c,a.buffer.byteLength-b),a.status=208,ic(a),a.pa(b,c,e=>{jc(a,e);a.status=88;a.oa=a.oa&-8|2;a.ca();d&=-4;a.g=d;a.g>a.h&&(a.g=a.h);a.ya=a.g&255;a.Ba=a.g>>8&255;kc(a,c)}))}
function lc(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;b>=a.buffer.byteLength?(a.status=255,a.ca()):(a.status=208,ic(a),a.pa(b,c,d=>{kc(a,c);a.status=88;a.oa=a.oa&-8|2;jc(a,d);ec(a)}))}function ec(a){if(0!==(a.za.Ca&1)&&0!==(a.status&8)){var b=a.za.re,c=0,d=a.data;do{var e=a.u.h(b),f=a.u.ab(b+4),g=a.u.ue(b+7)&128;f||(f=65536);mc(a.u,d.subarray(c,Math.min(c+f,a.h)),e);c+=f;b+=8;if(c>=a.h&&!g)break}while(!g);a.status=80;a.za.Ca&=-2;a.oa=a.oa&-8|3;a.ca()}}
function Tb(a,b){if(a.i<a.g){var c=1===b?a.data[a.i]:2===b?a.U[a.i>>>1]:a.M[a.i>>>2];a.i+=b;a.i>=a.g&&(160===a.s?a.g===a.h?(a.status=80,a.oa=a.oa&-8|3,a.ca()):(a.status=88,a.oa=a.oa&-8|2,a.ca(),b=a.Ba<<8&65280|a.ya&255,a.g+b>a.h?(a.ya=a.h-a.g&255,a.Ba=a.h-a.g>>8&255,a.g=a.h):a.g+=b):(a.error=0,a.i>=a.h?a.status=80:(b=196===a.s||41===a.s?Math.min(a.L,(a.h-a.g)/512):1,fc(a,a.s,b),a.g+=512*b,a.status=88,a.ca())));return c}a.i+=b;return 0}
function Ub(a,b,c){if(!(a.i>=a.g)&&(1===c?a.data[a.i++]=b:2===c?(a.U[a.i>>>1]=b,a.i+=2):(a.M[a.i>>>2]=b,a.i+=4),a.i===a.g))if(160===a.s){a.i=0;a.S=a.data[0];switch(a.S){case 0:$b(a,0);a.g=a.h;a.status=80;break;case 3:$b(a,a.data[4]);a.g=a.h;a.status=88;a.data[0]=240;a.data[2]=5;a.data[7]=8;break;case 18:b=a.data[4];a.status=88;a.data.set([5,128,1,49,31,0,0,0,83,79,78,89,32,32,32,32,67,68,45,82,79,77,32,67,68,85,45,49,48,48,48,32,49,46,49,97]);a.g=a.h=Math.min(36,b);break;case 26:$b(a,a.data[4]);a.g=
a.h;a.status=88;break;case 30:$b(a,0);a.g=a.h;a.status=80;break;case 37:b=a.j-1;jc(a,new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255,0,0,a.l>>8&255,a.l&255]));a.g=a.h;a.status=88;break;case 40:a.ge&1?lc(a,a.data):hc(a,a.data);break;case 66:b=a.data[8];$b(a,Math.min(8,b));a.g=a.h;a.status=88;break;case 67:b=a.data[8]|a.data[7]<<8;c=a.data[9]>>6;$b(a,b);a.g=a.h;0===c?(b=a.j,a.data.set(new Uint8Array([0,18,1,1,0,20,1,0,0,0,0,0,0,22,170,0,b>>24,b>>16&255,b>>8&255,b&255]))):1===c&&a.data.set(new Uint8Array([0,
10,1,1,0,0,0,0,0,0,0,0]));a.status=88;break;case 70:b=a.data[8]|a.data[7]<<8;b=Math.min(b,32);$b(a,b);a.g=a.h;a.data[0]=b-4>>24&255;a.data[1]=b-4>>16&255;a.data[2]=b-4>>8&255;a.data[3]=b-4&255;a.data[6]=8;a.data[10]=3;a.status=88;break;case 81:$b(a,0);a.g=a.h;a.status=80;break;case 82:a.status=81;a.h=0;a.error=80;break;case 90:b=a.data[8]|a.data[7]<<8;42===a.data[2]&&$b(a,Math.min(30,b));a.g=a.h;a.status=88;break;case 189:$b(a,a.data[9]|a.data[8]<<8);a.g=a.h;a.data[5]=1;a.status=88;break;case 74:a.status=
81;a.h=0;a.error=80;break;case 190:$b(a,0);a.g=a.h;a.status=80;break;default:a.status=81,a.h=0,a.error=80}a.oa=a.oa&-8|2;0===(a.status&128)&&a.ca();0===(a.status&128)&&0===a.h&&(a.oa|=1,a.status&=-9)}else a.i>=a.h?a.mf():(a.status=88,a.g+=512,a.ca())}
function fc(a,b,c){a.oa-=c;36===b||41===b||52===b||57===b||37===b||53===b?(b=c+nc(a),a.La=b&255|b>>16&65280,a.ya=b>>8&255,a.Ba=b>>16&255):a.Se?(b=c+oc(a),a.La=b&255,a.ya=b>>8&255,a.Ba=b>>16&255,a.head=a.head&-16|b&15):(b=c+pc(a),c=b/(a.C*a.o)|0,a.ya=c&255,a.Ba=c>>8&255,a.head=(b/a.o|0)%a.C&15,a.La=b%a.o+1&255,pc(a))}
function Wb(a,b){var c=36===b||41===b,d=Xb(a,c);c=Yb(a,c);var e=32===b||36===b,f=d*a.l;c*=a.l;c+f>a.buffer.byteLength?(a.status=255,a.ca()):(a.status=192,ic(a),a.pa(c,f,g=>{jc(a,g);a.status=88;a.g=e?512:Math.min(f,512*a.L);fc(a,b,e?1:Math.min(d,a.o));a.ca();kc(a,f)}))}
function cc(a){var b=37===a.s,c=Xb(a,b);b=Yb(a,b);var d=c*a.l;b*=a.l;ic(a);a.pa(b,d,e=>{var f=a.za.re,g=0;do{var h=a.u.h(f),k=a.u.ab(f+4),l=a.u.ue(f+7)&128;k||(k=65536);mc(a.u,e.subarray(g,g+k),h);g+=k;f+=8}while(!l);fc(a,a.s,c);a.status=80;a.za.Ca&=-2;a.s=-1;a.ca();kc(a,d)})}
function dc(a){var b=53===a.s,c=Xb(a,b),d=Yb(a,b);b=c*a.l;d*=a.l;var e=a.za.re,f=0;const g=new Uint8Array(b);do{var h=a.u.h(e),k=a.u.ab(e+4),l=a.u.ue(e+7)&128;k||(k=65536);g.set(a.u.jb.subarray(h,h+k),f);f+=k;e+=8}while(!l);a.buffer.set(d,g,()=>{fc(a,a.s,c);a.status=80;a.ca();a.za.Ca&=-2;a.s=-1});gc(a,b)}function pc(a){return((a.ya&255|a.Ba<<8&65280)*a.C+a.head)*a.o+(a.La&255)-1}function oc(a){return a.La&255|a.ya<<8&65280|a.Ba<<16&16711680|(a.head&15)<<24}
function nc(a){return(a.La&255|a.ya<<8&65280|a.Ba<<16&16711680|a.La>>8<<24&4278190080)>>>0}function Yb(a,b){return b?nc(a):a.Se?oc(a):pc(a)}function Xb(a,b){b?(a=a.oa,0===a&&(a=65536)):(a=a.oa&255,0===a&&(a=256));return a}
function ac(a){if(a.kd&16)$b(a,0);else{for(var b=0;512>b;b++)a.data[b]=0;b=Math.min(16383,a.D);jc(a,[64,a.G?133:0,b,b>>8,0,0,a.C,a.C>>8,a.o/512,a.o/512>>8,0,2,a.o,a.o>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,2,4,0,0,0,0,0,0,0,0,0,56,118,32,54,68,72,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,128,0,1,0,0,2,0,0,0,2,0,2,7,0,b,b>>8,a.C,a.C>>8,a.o,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255,0,0,a.j&255,a.j>>8&255,a.j>>16&255,
a.j>>24&255,0,0,160===a.s?0:7,160===a.s?0:4,0,0,30,0,30,0,30,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,126,0,0,0,0,0,0,116,0,64,0,64,0,116,0,64,0,0,0,0,0,0,0,0,0,0,1,96,0,0,0,0,0,0,0,0,0,0,0,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255]);a.h=512;a.g=512}}function $b(a,b){Zb(a,b);for(var c=0;c<b+3>>2;c++)a.M[c]=0}function Zb(a,b){a.data.length<b&&(a.data=new Uint8Array(b+3&-4),a.U=new Uint16Array(a.data.buffer),a.M=new Int32Array(a.data.buffer));a.h=b;a.i=0}
function jc(a,b){Zb(a,b.length);a.data.set(b)}function ic(a){a.v.send("ide-read-start")}function kc(a,b){a.v.send("ide-read-end",[a.Z,b,b/a.l|0])}function gc(a,b){a.v.send("ide-write-end",[a.Z,b,b/a.l|0])}p.pa=function(a,b,c){const d=this.fa++;this.N.add(d);this.buffer.get(a,b,e=>{this.ba.delete(d)?this.N.has(d):(this.N.delete(d),c(e))})};
p.ha=function(){var a=[];a[0]=this.oa;a[1]=this.D;a[2]=this.Ba;a[3]=this.ya;a[4]=this.i;a[5]=0;a[6]=0;a[7]=0;a[8]=0;a[9]=this.kd;a[10]=this.error;a[11]=this.head;a[12]=this.C;a[13]=this.G;a[14]=this.Se;a[15]=this.ge;a[16]=this.data;a[17]=this.h;a[18]=this.La;a[19]=this.j;a[20]=this.l;a[21]=this.L;a[22]=this.o;a[23]=this.status;a[24]=this.V;a[25]=this.s;a[26]=this.g;a[27]=this.S;a[28]=this.buffer;return a};
p.H=function(a){this.oa=a[0];this.D=a[1];this.Ba=a[2];this.ya=a[3];this.i=a[4];this.kd=a[9];this.error=a[10];this.head=a[11];this.C=a[12];this.G=a[13];this.Se=a[14];this.ge=a[15];this.data=a[16];this.h=a[17];this.La=a[18];this.j=a[19];this.l=a[20];this.L=a[21];this.o=a[22];this.status=a[23];this.V=a[24];this.s=a[25];this.g=a[26];this.S=a[27];this.U=new Uint16Array(this.data.buffer);this.M=new Int32Array(this.data.buffer);this.buffer&&this.buffer.H(a[28])};function qc(a){this.Yb=new Uint8Array(4);this.g=new Uint8Array(4);this.me=new Uint8Array(4);this.ne=new Uint8Array(4);this.le=new Int32Array(this.Yb.buffer);new Int32Array(this.g.buffer);this.Qh=new Int32Array(this.me.buffer);this.Sh=new Int32Array(this.ne.buffer);this.lc=[];this.A=[];this.u=a;for(var b=0;256>b;b++)this.lc[b]=void 0,this.A[b]=void 0;this.B=a.B;S(a.B,3324,this,function(c){rc(this,this.le[0],c)},function(c){sc(this,this.le[0],c)},function(c){var d=this.le[0],e=d>>8&65535,f=d&255;d=
this.lc[e];e=this.A[e];if(d)if(16<=f&&40>f)if(e=e.Lb[f-16>>2]){f>>=2;var g=d[f]&1;-1===(c|3|e.size-1)?(c=~(e.size-1)|g,0===g&&(d[f]=c)):0===g&&(d[f]=e.Ph);1===g&&(tc(this,e,d[f]&65534,c&65534),d[f]=c|1)}else d[f>>2]=0;else 48===f?d[f>>2]=e.Rh?-1===(c|2047)?-e.Rh|0:e.Fj|0:0:4!==f&&(d[f>>>2]=c)});S(a.B,3325,this,function(c){rc(this,this.le[0]+1|0,c)});S(a.B,3326,this,function(c){rc(this,this.le[0]+2|0,c)},function(c){sc(this,this.le[0]+2|0,c)});S(a.B,3327,this,function(c){rc(this,this.le[0]+3|0,c)});
a.B.ve(3324,this,function(){return this.me[0]},function(){return this.me[1]},function(){return this.me[2]},function(){return this.me[3]});a.B.ve(3320,this,function(){return this.ne[0]},function(){return this.ne[1]},function(){return this.ne[2]},function(){return this.ne[3]});a.B.ad(3320,this,function(c){this.Yb[0]=c&252},function(c){2===(this.Yb[1]&6)&&6===(c&6)?uc(a):this.Yb[1]=c},function(c){this.Yb[2]=c},function(c){this.Yb[3]=c;c=this.Yb[0]&252;var d=this.lc[this.Yb[2]<<8|this.Yb[1]];void 0!==
d?(this.Sh[0]=-2147483648,this.Qh[0]=c<d.byteLength?d[c>>2]:0):(this.Qh[0]=-1,this.Sh[0]=0)});bc(this,{Oa:0,O:[134,128,55,18,0,0,0,0,2,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0],Lb:[],name:"82441FX PMC"});this.i={Oa:8,O:[134,128,0,112,7,0,0,2,0,0,1,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Lb:[],name:"82371SB PIIX3 ISA"};
this.j=bc(this,this.i);this.h=new Uint8Array(this.j.buffer)}qc.prototype.ha=function(){for(var a=[],b=0;256>b;b++)a[b]=this.lc[b];a[256]=this.Yb;a[257]=this.g;a[258]=this.me;a[259]=this.ne;return a};qc.prototype.H=function(a){for(var b=0;256>b;b++){var c=this.A[b],d=a[b];if(c&&d){for(var e=0;e<c.Lb.length;e++){var f=d[4+e];if(f&1){var g=c.Lb[e];tc(this,g,g.Ph&65534,f&65534)}}this.lc[b].set(d)}}this.Yb.set(a[256]);this.g.set(a[257]);this.me.set(a[258]);this.ne.set(a[259])};
function rc(a,b,c){var d=b&255;(new Uint8Array(a.lc[b>>8&65535].buffer))[d]=c}function sc(a,b,c){var d=b&255;a=new Uint16Array(a.lc[b>>8&65535].buffer);!a||16<=d&&44>d||(a[d>>>1]=c)}function bc(a,b){var c=b.Oa,d=new Int32Array(64);d.set(new Int32Array((new Uint8Array(b.O)).buffer));a.lc[c]=d;a.A[c]=b;c=d.slice(4,10);for(var e=0;e<b.Lb.length;e++){var f=b.Lb[e];if(f){var g=c[e],h=g&1;f.Ph=g;f.entries=[];if(0!==h)for(g&=-2,h=0;h<f.size;h++)f.entries[h]=a.B.ports[g+h]}}return d}
function tc(a,b,c,d){for(var e=b.size,f=a.B.ports,g=0;g<e;g++){4096<=c+g&&(f[c+g]=qb(a.B));var h=b.entries[g];4096<=d+g&&(f[d+g]=h)}}qc.prototype.Ta=function(a){this.u.Xa(this.h[96+((this.lc[a][15]>>8&255)-1+((a>>3)-1&255)&3)])};function vc(a,b){Sb(a.u,a.h[96+((a.lc[b][15]>>8&255)+(b>>3&255)-2&3)])};function wc(a,b){this.B=a.B;this.u=a;this.Eb=a.A.Eb;this.h=0;this.S=new Uint8Array(10);this.U=0;this.i=null;this.g=new Uint8Array(10);this.N=this.D=this.ba=this.fa=this.G=this.s=this.l=this.j=0;this.V=1;this.L=this.C=0;this.md=null;b?this.If(b):(this.ag(),this.u.A.Ad.ea[16]=64);Q(this.B,1008,this,this.Gk);Q(this.B,1010,this,this.Hk);Q(this.B,1012,this,this.Jk);Q(this.B,1013,this,this.Lk);Q(this.B,1015,this,this.Nk);S(this.B,1010,this,this.Ik);S(this.B,1012,this,this.Kk);S(this.B,1013,this,this.Mk)}
p=wc.prototype;p.ag=function(){this.md=null;this.Z=this.M=this.o=0;this.L=128};
p.If=function(a){var b={[163840]:{type:1,Nb:40,Mb:8,Gb:1},[184320]:{type:1,Nb:40,Mb:9,Gb:1},[204800]:{type:1,Nb:40,Mb:10,Gb:1},[327680]:{type:1,Nb:40,Mb:8,Gb:2},[368640]:{type:1,Nb:40,Mb:9,Gb:2},[409600]:{type:1,Nb:40,Mb:10,Gb:2},[737280]:{type:3,Nb:80,Mb:9,Gb:2},[1228800]:{type:2,Nb:80,Mb:15,Gb:2},[1474560]:{type:4,Nb:80,Mb:18,Gb:2},[1763328]:{type:5,Nb:82,Mb:21,Gb:2},[2949120]:{type:5,Nb:80,Mb:36,Gb:2},512:{type:1,Nb:1,Mb:1,Gb:1}};let c=a.byteLength,d=b[c];d||(c=1474560<a.byteLength?2949120:1474560,
d=b[c],b=new Uint8Array(c),b.set(new Uint8Array(a.buffer)),a=new Bb(b.buffer));this.o=d.Mb;this.M=d.Gb;this.Z=d.Nb;this.md=a;this.L=128;this.u.A.Ad.ea[16]=d.type<<4};p.ha=function(){var a=[];a[0]=this.h;a[1]=this.S;a[2]=this.U;a[4]=this.g;a[5]=this.j;a[6]=this.l;a[8]=this.s;a[9]=this.G;a[10]=this.fa;a[11]=this.ba;a[12]=this.D;a[13]=this.N;a[14]=this.V;a[15]=this.C;a[16]=this.o;a[17]=this.M;a[18]=this.Z;return a};
p.H=function(a){this.h=a[0];this.S=a[1];this.U=a[2];this.i=a[3];this.g=a[4];this.j=a[5];this.l=a[6];this.s=a[8];this.G=a[9];this.fa=a[10];this.ba=a[11];this.D=a[12];this.N=a[13];this.V=a[14];this.C=a[15];this.o=a[16];this.M=a[17];this.Z=a[18]};p.Gk=function(){return 0};p.Jk=function(){var a=128;this.j<this.l&&(a|=80);0===(this.C&8)&&(a|=32);return a};p.Nk=function(){return this.L};p.Lk=function(){return this.j<this.l?(Sb(this.u,6),this.g[this.j++]):255};p.Kk=function(a){a&128&&(this.s=192,this.u.Xa(6))};
p.Mk=function(a){if(0<this.h)this.S[this.U++]=a,this.h--,0===this.h&&this.i.call(this,this.S);else{switch(a){case 3:this.i=this.qj;this.h=2;break;case 19:this.i=this.Vi;this.h=3;break;case 4:this.i=this.Si;this.h=1;break;case 5:case 69:case 197:this.i=function(b){xc(this,!0,b)};this.h=8;break;case 6:case 70:case 198:case 230:this.i=function(b){xc(this,!1,b)};this.h=8;break;case 7:this.i=this.Ri;this.h=1;break;case 8:this.j=0;this.l=2;this.g[0]=this.s;this.g[1]=this.D;break;case 74:this.i=this.Yk;
this.h=1;break;case 15:this.h=2;this.i=this.kh;break;case 14:case 16:this.s=128,this.g[0]=this.s,this.j=0,this.l=1,this.h=0}this.U=0}};p.Hk=function(){return this.C};p.Ik=function(a){4===(a&4)&&0===(this.C&4)&&(this.s=192,this.u.Xa(6));this.C=a};p.Si=function(){this.G=this.md?0:5;this.j=0;this.l=1;this.g[0]=0};p.kh=function(a){if(0===(a[0]&3)){var b=a[1];a=a[0]>>2&1;b!==this.D&&(this.L=0);this.G=this.md?0:5;this.s=32;this.D=b;this.N=a}this.Ta()};p.Ri=function(a){this.kh([a[0],0])};
function xc(a,b,c){var d=c[2],e=c[1],f=c[3],g=128<<c[4],h=c[5]-c[3]+1,k=((d+a.M*e)*a.o+f-1)*g;a.md?(a.G=0,b?a.Eb.mf(a.md,k,h*g,2,a.done.bind(a,c,e,d,f)):yc(a.Eb,a.md,k,a.done.bind(a,c,e,d,f))):a.G=5}p.done=function(a,b,c,d,e){e||(d++,d>this.o&&(d=1,c++,c>=this.M&&(c=0,b++)),b!==this.D&&(this.L=0),this.s=32,this.D=b,this.N=c,this.V=d,this.j=0,this.l=7,this.g[0]=c<<2|32,this.g[1]=0,this.g[2]=0,this.g[3]=b,this.g[4]=c,this.g[5]=d,this.g[6]=a[4],this.Ta())};p.qj=function(){};p.Vi=function(){};
p.Yk=function(){this.j=0;this.l=7;this.g[0]=0;this.g[1]=0;this.g[2]=0;this.g[3]=0;this.g[4]=0;this.g[5]=0;this.g[6]=0;this.Ta()};p.Ta=function(){this.C&8&&this.u.Xa(6)};function mc(a,b,c){b.length&&(a.eg(c),a.eg(c+b.length-1),a.zj(c,c+b.length),a.jb.set(b,c))};function zc(a){this.u=a;this.o=new Uint8Array(8);this.s=new Uint8Array(8);this.g=new Uint16Array(8);this.j=new Uint16Array(8);this.h=new Uint16Array(8);this.l=new Uint16Array(8);this.Fc=new Uint8Array(8);this.C=new Uint8Array(8);this.vg=[];this.i=0;a=a.B;S(a,0,this,this.ud.bind(this,0));S(a,2,this,this.ud.bind(this,1));S(a,4,this,this.ud.bind(this,2));S(a,6,this,this.ud.bind(this,3));S(a,1,this,this.wd.bind(this,0));S(a,3,this,this.wd.bind(this,1));S(a,5,this,this.wd.bind(this,2));S(a,7,this,this.wd.bind(this,
3));Q(a,0,this,this.td.bind(this,0));Q(a,2,this,this.td.bind(this,1));Q(a,4,this,this.td.bind(this,2));Q(a,6,this,this.td.bind(this,3));Q(a,1,this,this.vd.bind(this,0));Q(a,3,this,this.vd.bind(this,1));Q(a,5,this,this.vd.bind(this,2));Q(a,7,this,this.vd.bind(this,3));S(a,192,this,this.ud.bind(this,4));S(a,196,this,this.ud.bind(this,5));S(a,200,this,this.ud.bind(this,6));S(a,204,this,this.ud.bind(this,7));S(a,194,this,this.wd.bind(this,4));S(a,198,this,this.wd.bind(this,5));S(a,202,this,this.wd.bind(this,
6));S(a,206,this,this.wd.bind(this,7));Q(a,192,this,this.td.bind(this,4));Q(a,196,this,this.td.bind(this,5));Q(a,200,this,this.td.bind(this,6));Q(a,204,this,this.td.bind(this,7));Q(a,194,this,this.vd.bind(this,4));Q(a,198,this,this.vd.bind(this,5));Q(a,202,this,this.vd.bind(this,6));Q(a,206,this,this.vd.bind(this,7));S(a,135,this,this.yd.bind(this,0));S(a,131,this,this.yd.bind(this,1));S(a,129,this,this.yd.bind(this,2));S(a,130,this,this.yd.bind(this,3));S(a,143,this,this.yd.bind(this,4));S(a,139,
this,this.yd.bind(this,5));S(a,137,this,this.yd.bind(this,6));S(a,138,this,this.yd.bind(this,7));Q(a,135,this,this.xd.bind(this,0));Q(a,131,this,this.xd.bind(this,1));Q(a,129,this,this.xd.bind(this,2));Q(a,130,this,this.xd.bind(this,3));Q(a,143,this,this.xd.bind(this,4));Q(a,139,this,this.xd.bind(this,5));Q(a,137,this,this.xd.bind(this,6));Q(a,138,this,this.xd.bind(this,7));S(a,1159,this,this.qe.bind(this,0));S(a,1155,this,this.qe.bind(this,1));S(a,1153,this,this.qe.bind(this,2));S(a,1154,this,this.qe.bind(this,
3));S(a,1163,this,this.qe.bind(this,5));S(a,1161,this,this.qe.bind(this,6));S(a,1162,this,this.qe.bind(this,7));Q(a,1159,this,this.pe.bind(this,0));Q(a,1155,this,this.pe.bind(this,1));Q(a,1153,this,this.pe.bind(this,2));Q(a,1154,this,this.pe.bind(this,3));Q(a,1163,this,this.pe.bind(this,5));Q(a,1161,this,this.pe.bind(this,6));Q(a,1162,this,this.pe.bind(this,7));S(a,10,this,this.ki.bind(this,0));S(a,212,this,this.ki.bind(this,4));S(a,15,this,this.ji.bind(this,0));S(a,222,this,this.ji.bind(this,4));
Q(a,15,this,this.ii.bind(this,0));Q(a,222,this,this.ii.bind(this,4));S(a,11,this,this.hi.bind(this,0));S(a,214,this,this.hi.bind(this,4));S(a,12,this,this.gi);S(a,216,this,this.gi)}p=zc.prototype;p.ha=function(){return[this.o,this.s,this.g,this.j,this.h,this.l,this.Fc,this.C,this.i]};p.H=function(a){this.o=a[0];this.s=a[1];this.g=a[2];this.j=a[3];this.h=a[4];this.l=a[5];this.Fc=a[6];this.C=a[7];this.i=a[8]};p.wd=function(a,b){this.h[a]=Ac(this,this.h[a],b,!1);this.l[a]=Ac(this,this.l[a],b,!0)};
p.vd=function(a){return Bc(this,this.h[a])};p.ud=function(a,b){this.g[a]=Ac(this,this.g[a],b,!1);this.j[a]=Ac(this,this.j[a],b,!0)};p.td=function(a){return Bc(this,this.g[a])};p.qe=function(a,b){this.s[a]=b};p.pe=function(a){return this.s[a]};p.yd=function(a,b){this.o[a]=b};p.xd=function(a){return this.o[a]};p.ki=function(a,b){Cc(this,(b&3)+a,b&4?1:0)};p.ji=function(a,b){for(var c=0;4>c;c++)Cc(this,a+c,b&1<<c)};
p.ii=function(a){var b=0|this.Fc[a+0];b|=this.Fc[a+1]<<1;b|=this.Fc[a+2]<<2;return b|=this.Fc[a+3]<<3};p.hi=function(a,b){this.C[(b&3)+a]=b};p.gi=function(){this.i=0};function Cc(a,b,c){if(a.Fc[b]!==c&&(a.Fc[b]=c,!c))for(c=0;c<a.vg.length;c++)a.vg[c].cg.call(a.vg[c].ah,b)}function yc(a,b,c,d){var e=a.h[2]+1,f=Dc(a,2);if(c+e>b.byteLength)d(!0);else{var g=a.u;a.g[2]+=e;b.get(c,e,function(h){mc(g,h,f);d(!1)})}}
p.mf=function(a,b,c,d,e){var f=this.h[d]+1&65535,g=5<=d?2:1,h=f*g,k=Dc(this,d),l=!1,n=!1,r=this.C[d]&16;c<h?(f=Math.floor(c/g),h=f*g,l=!0):c>h&&(n=!0);b+h>a.byteLength?e(!0):(this.g[d]+=f,this.h[d]-=f,!l&&r&&(this.g[d]=this.j[d],this.h[d]=this.l[d]),a.set(b,this.u.jb.subarray(k,k+h),()=>{n&&r?this.mf(a,b+h,c-h,d,e):e(!1)}))};function Dc(a,b){var c=a.g[b];5<=b&&(c<<=1);c=c&65535|a.o[b]<<16;return c|=a.s[b]<<24}function Ac(a,b,c,d){d||(a.i^=1);return a.i?b&-256|c:b&-65281|c<<8}
function Bc(a,b){a.i^=1;return a.i?b&255:b>>8&255};function Ec(a,b){this.u=a;this.v=b;this.i=new Float64Array(3);this.j=new Uint16Array(3);this.g=new Uint8Array(4);this.h=new Uint8Array(4);this.ae=new Uint8Array(4);this.s=new Uint8Array(4);this.l=new Uint8Array(4);this.o=new Uint16Array(3);this.Tb=new Uint16Array(3);Q(a.B,97,this,function(){var c=zb(),d=66.66666666666667*c&1;c=Fc(this,2,c);return d<<4|c<<5});S(a.B,97,this,function(c){c&1?this.v.send("pcspeaker-enable"):this.v.send("pcspeaker-disable")});Q(a.B,64,this,function(){return Gc(this,0)});
Q(a.B,65,this,function(){return Gc(this,1)});Q(a.B,66,this,function(){return Gc(this,2)});S(a.B,64,this,function(c){Hc(this,0,c)});S(a.B,65,this,function(c){Hc(this,1,c)});S(a.B,66,this,function(c){Hc(this,2,c);this.v.send("pcspeaker-update",[this.ae[2],this.Tb[2]])});S(a.B,67,this,this.C)}Ec.prototype.ha=function(){var a=[];a[0]=this.g;a[1]=this.h;a[2]=this.ae;a[3]=this.s;a[4]=this.l;a[5]=this.o;a[6]=this.Tb;a[7]=this.i;a[8]=this.j;return a};
Ec.prototype.H=function(a){this.g=a[0];this.h=a[1];this.ae=a[2];this.s=a[3];this.l=a[4];this.o=a[5];this.Tb=a[6];this.i=a[7];this.j=a[8]};Ec.prototype.Dc=function(a,b){var c=100;b||(this.h[0]&&Fc(this,0,a)?(this.j[0]=Ic(this,0,a),this.i[0]=a,Sb(this.u,0),this.u.Xa(0),0===this.ae[0]&&(this.h[0]=0)):Sb(this.u,0),this.h[0]&&(c=(this.j[0]-Math.floor(1193.1816666*(a-this.i[0])))/1193.1816666));return c};
function Ic(a,b,c){if(!a.h[b])return 0;c=a.j[b]-Math.floor(1193.1816666*(c-a.i[b]));a=a.Tb[b];c>=a?c%=a:0>c&&(c=c%a+a);return c}function Fc(a,b,c){c-=a.i[b];return 0>c?!0:a.j[b]<Math.floor(1193.1816666*c)}function Gc(a,b){var c=a.l[b];if(c)return a.l[b]--,2===c?a.o[b]&255:a.o[b]>>8;c=a.g[b];3===a.ae[b]&&(a.g[b]^=1);a=Ic(a,b,zb());return c?a&255:a>>8}
function Hc(a,b,c){a.Tb[b]=a.g[b]?a.Tb[b]&-256|c:a.Tb[b]&255|c<<8;3===a.s[b]&&a.g[b]||(a.Tb[b]||(a.Tb[b]=65535),a.j[b]=a.Tb[b],a.h[b]=!0,a.i[b]=zb());3===a.s[b]&&(a.g[b]^=1)}Ec.prototype.C=function(a){var b=a>>1&7,c=a>>6&3;a=a>>4&3;3!==c&&(0===a?(this.l[c]=2,b=Ic(this,c,zb()),this.o[c]=b?b-1:0):(6<=b&&(b&=-5),this.g[c]=1===a?0:1,0===c&&Sb(this.u,0),this.ae[c]=b,this.s[c]=a,2===c&&this.v.send("pcspeaker-update",[this.ae[2],this.Tb[2]])))};const Jc=Uint32Array.from([655360,655360,720896,753664]),Kc=Uint32Array.from([131072,65536,32768,32768]);
function Lc(a,b,c,d){this.u=a;this.v=b;this.screen=c;this.ma=d;this.S=0;this.Qc=14;this.Ld=15;this.xb=80;this.Zc=25;this.Wd=this.j=this.Ed=this.Ab=0;this.Xc=[];this.Vd=this.g=0;this.Mc=new Uint8Array(25);this.L=this.ba=this.Ud=this.Bb=this.C=this.G=this.Tc=this.Vc=this.o=0;this.h=!1;this.V=new Int32Array(256);this.D=0;this.Rf=45253;this.U=this.s=0;this.i=!1;this.Wa=32;this.Kd=this.Jd=this.Ob=this.uc=0;void 0===this.ma||262144>this.ma?this.ma=262144:268435456<this.ma?this.ma=268435456:this.ma=$a(this.ma);
this.O=[52,18,17,17,3,1,0,0,0,0,0,3,0,0,0,0,8,14680064,57344,224,0,0,0,0,0,0,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,190,254,0,0,0,0,0,0,0,0,0,0,0,0];this.Oa=144;this.Lb=[{size:this.ma}];this.Rh=65536;this.Fj=4272947200;this.name="vga";this.hc=this.Rc=this.fc=this.va=0;this.fb=255;this.eb=new Uint8Array(16);this.N=-1;this.$c=32;this.dc=this.Wc=this.Kc=this.l=0;this.Hd=-1;this.zb=15;this.Pb=this.Id=0;this.Sc=-1;this.sc=this.yb=this.Td=this.cb=0;this.Rd=255;this.Z=this.Rb=this.Qb=this.qc=
this.Sd=this.Cd=0;this.M=this.Ce=255;this.jc=!1;b=a.B;S(b,960,this,this.mk);Q(b,960,this,this.$h,this.lk);Q(b,961,this,this.ai);S(b,962,this,this.nk);b.ad(964,this,this.qk,this.sk);Q(b,964,this,this.pk);Q(b,965,this,this.rk);b.ad(974,this,this.Dk,this.Fk);Q(b,974,this,this.Ck);Q(b,975,this,this.Ek);Q(b,966,this,this.tk);S(b,966,this,this.uk);S(b,967,this,this.wk);Q(b,967,this,this.vk);S(b,968,this,this.yk);Q(b,968,this,this.xk);S(b,969,this,this.Ak);Q(b,969,this,this.zk);Q(b,972,this,this.Bk);S(b,
980,this,this.Og,this.ci);S(b,981,this,this.ng,this.ei);Q(b,980,this,this.bi);Q(b,981,this,this.Pg,this.di);S(b,948,this,this.Og,this.ci);S(b,949,this,this.ng,this.ei);Q(b,948,this,this.bi);Q(b,949,this,this.Pg,this.di);Q(b,970,this,function(){return 0});Q(b,986,this,this.fi);Q(b,954,this,this.fi);this.Qd=-1;this.kb=0;S(b,462,this,void 0,this.Hj);S(b,463,this,void 0,this.Jj);Q(b,463,this,void 0,this.Ij);c=a.Ii(this.ma)>>>0;this.Ge=U(Uint8Array,a.Ia,c,this.ma);this.Nd=this.ma;this.Md=0;this.Pd=this.ma;
this.Od=0;this.wc=null;this.fa=new Uint8Array(262144);this.De=new Uint8Array(this.fa.buffer,0,65536);this.Ee=new Uint8Array(this.fa.buffer,65536,65536);this.Dd=new Uint8Array(this.fa.buffer,131072,65536);this.Fe=new Uint8Array(this.fa.buffer,196608,65536);this.bd=new Uint8Array(524288);rb(b,655360,131072,e=>Mc(this,e),(e,f)=>{if(this.i)this.u.wg((e-655360|this.uc)+3758096384|0,f);else{var g=this.qc>>2&3;e-=Jc[g];if(!(0>e||e>=Kc[g]))if(this.h){var h=f;f=Nc(this.Rd);var k=Oc(this.Cd);g=Oc(this.Sd);
switch(this.yb&3){case 0:h=(h|h<<8)>>>(this.sc&7)&255;var l=Nc(h);h=Oc(this.Cd);l=Pc(this,(l|g&h)&(~g|h),this.D);l=f&l|~f&this.D;break;case 1:l=this.D;break;case 2:l=Oc(h);l=Pc(this,l,this.D);l=f&l|~f&this.D;break;case 3:h=(h|h<<8)>>>(this.sc&7)&255,f&=Nc(h),l=f&k|~f&this.D}f=15;switch(this.Id&12){case 0:f=5<<(e&1);e&=-2;break;case 8:case 12:f=1<<(e&3),e&=-4}f&=this.zb;f&1&&(this.De[e]=l>>0&255);f&2&&(this.Ee[e]=l>>8&255);f&4&&(this.Dd[e]=l>>16&255);f&8&&(this.Fe[e]=l>>24&255);l=Qc(this,e);f=l+7;
l<this.Pd&&(this.Pd=l);f>this.Od&&(this.Od=f);l<this.Nd&&(this.Nd=l);f>this.Md&&(this.Md=f)}else if(this.zb&3){if(g=e,this.fa[g]=f,e=Math.max(this.xb,2*this.ba),g>>1>=this.g?(h=(g>>1)-this.g,l=h/e|0,e=h%e):(h=g>>1,l=(h/e|0)+Rc(this,this.L),e=h%e),!(e>=this.xb||l>=this.Zc)){g&1?(h=f,f=this.fa[g&-2]):h=this.fa[g|1];var n=this.l&8;g=(n&&h&128?this.screen.o:0)|(!this.jc||h&8?0:this.screen.s);k=this.jc?7:15;n=n?7:15;this.v.send("screen-put-char",[l,e,f]);this.screen.j(l,e,f,g,this.V[this.fb&this.eb[h>>
4&n]],this.V[this.fb&this.eb[h&k]])}}else this.zb&4&&(this.Dd[e]=f)}});bc(a.A.$a,this)}p=Lc.prototype;
p.ha=function(){var a=[];a[0]=this.ma;a[1]=this.S;a[2]=this.Qc;a[3]=this.Ld;a[4]=this.xb;a[5]=this.Zc;a[6]=this.fa;a[7]=this.hc;a[8]=this.g;a[9]=this.h;a[10]=this.V;a[11]=this.D;a[12]=this.Qb;a[13]=this.Rb;a[14]=this.qc;a[15]=this.s;a[16]=this.U;a[17]=this.o;a[18]=this.i;a[19]=this.Wa;a[20]=this.uc;a[21]=this.Ob;a[22]=this.va;a[23]=this.fc;a[24]=this.Rc;a[25]=this.eb;a[26]=this.Hd;a[27]=this.zb;a[28]=this.Id;a[29]=this.Sc;a[30]=this.Td;a[31]=this.yb;a[32]=this.sc;a[33]=this.Rd;a[34]=this.Z;a[35]=
this.Ce;a[36]=this.M;a[37]=this.Qd;a[38]=this.kb;a[39]=this.Ge;a[41]=this.N;a[42]=this.ba;a[43]=this.Cd;a[44]=this.Sd;a[45]=this.Vd;a[46]=this.Mc;a[47]=this.Vc;a[48]=this.Tc;a[49]=this.G;a[50]=this.C;a[51]=this.Bb;a[52]=this.Ud;a[53]=this.ba;a[54]=this.$c;a[55]=this.l;a[56]=this.Kc;a[57]=this.Wc;a[58]=this.dc;a[59]=this.Pb;a[60]=this.L;a[61]=this.bd;a[62]=this.fb;a[63]=this.cb;a[64]=this.jc;return a};
p.H=function(a){this.ma=a[0];this.S=a[1];this.Qc=a[2];this.Ld=a[3];this.xb=a[4];this.Zc=a[5];a[6]&&this.fa.set(a[6]);this.hc=a[7];this.g=a[8];this.h=a[9];this.V=a[10];this.D=a[11];this.Qb=a[12];this.Rb=a[13];this.qc=a[14];this.s=a[15];this.U=a[16];this.o=a[17];this.i=a[18];this.Wa=a[19];this.uc=a[20];this.Ob=a[21];this.va=a[22];this.fc=a[23];this.Rc=a[24];this.eb=a[25];this.Hd=a[26];this.zb=a[27];this.Id=a[28];this.Sc=a[29];this.Td=a[30];this.yb=a[31];this.sc=a[32];this.Rd=a[33];this.Z=a[34];this.Ce=
a[35];this.M=a[36];this.Qd=a[37];this.kb=a[38];this.Ge.set(a[39]);this.N=a[41];this.ba=a[42];this.Cd=a[43];this.Sd=a[44];this.Vd=a[45];this.Mc.set(a[46]);this.Vc=a[47];this.Tc=a[48];this.G=a[49];this.C=a[50];this.Bb=a[51];this.Ud=a[52];this.ba=a[53];this.$c=a[54];this.l=a[55];this.Kc=a[56];this.Wc=a[57];this.dc=a[58];this.Pb=a[59];this.L=a[60];a[61]&&this.bd.set(a[61]);this.fb=void 0===a[62]?255:a[62];this.cb=void 0===a[63]?0:a[63];this.jc=void 0===a[64]?0:a[64];this.screen.g(this.h);this.h?(this.Ed=
this.Ab=0,this.i?(Sc(this,this.s,this.U,this.s,this.U,this.Wa),Tc(this)):(Uc(this),Tc(this),Vc(this))):(Wc(this,!0),Xc(this,this.xb,this.Zc),Yc(this),Zc(this),$c(this));ad(this)};
function Mc(a,b){if(a.i)return a.u.ue((b-655360|a.uc)+3758096384|0);var c=a.qc>>2&3;b-=Jc[c];if(0>b||b>=Kc[c])return 0;a.D=a.De[b];a.D|=a.Ee[b]<<8;a.D|=a.Dd[b]<<16;a.D|=a.Fe[b]<<24;if(a.yb&8)return c=255,a.Rb&1&&(c&=a.De[b]^~(a.Qb&1?255:0)),a.Rb&2&&(c&=a.Ee[b]^~(a.Qb&2?255:0)),a.Rb&4&&(c&=a.Dd[b]^~(a.Qb&4?255:0)),a.Rb&8&&(c&=a.Fe[b]^~(a.Qb&8?255:0)),c;c=a.Td;a.h?a.Id&8?(c=b&3,b&=-4):a.yb&16&&(c=b&1,b&=-2):c&=3;return a.fa[c<<16|b]}function Nc(a){return a|a<<8|a<<16|a<<24}
function Oc(a){return(a&1?255:0)|(a&2?255:0)<<8|(a&4?255:0)<<16|(a&8?255:0)<<24}function Pc(a,b,c){switch(a.sc&24){case 8:return b&c;case 16:return b|c;case 24:return b^c}return b}
function bd(a){const b=Rc(a,a.L),c=Math.max(0,2*(2*a.ba-a.xb)),d=a.l&8,e=a.jc?7:15,f=d?7:15,g=a.screen.o,h=a.screen.s;let k=a.g<<1;for(let l=0;l<a.Zc;l++){l===b&&(k=0);for(let n=0;n<a.xb;n++){const r=a.fa[k],x=a.fa[k|1],q=(d&&x&128?g:0)|(!a.jc||x&8?0:h);a.v.send("screen-put-char",[l,n,r]);a.screen.j(l,n,r,q,a.V[a.fb&a.eb[x>>4&f]],a.V[a.fb&a.eb[x&e]]);k+=2}k+=c}}
function $c(a){var b=Math.max(a.xb,2*a.ba);let c;a.S>=a.g?(c=(a.S-a.g)/b|0,b=(a.S-a.g)%b):(c=(a.S/b|0)+Rc(a,a.L),b=a.S%b);a.screen.G(c,b)}function ad(a){a.h?a.i?a.u.Vc():(a.Nd=0,a.Md=524288):bd(a)}function Vc(a){a.h&&!a.i&&(a.Pd=0,a.Od=524288,ad(a))}p.ta=function(){};function cd(a){var b=128+(~a.Bb&a.o&64);b-=a.Bb&64;b-=a.l&64;return b>>>6}
function Qc(a,b){var c=cd(a);if(~a.o&3){var d=b-a.g;d&=a.o<<13|-24577;d<<=c;var e=d/a.j|0;d%=a.j;switch(a.o&3){case 2:e=e<<1|b>>13&1;break;case 1:e=e<<1|b>>14&1;break;case 0:e=e<<2|b>>13&3}return e*a.j+d+(a.g<<c)}return b<<c}function Rc(a,b){a.Z&128&&(b>>>=1);b=Math.ceil(b/(1+(a.Z&31)));a.o&1||(b<<=1);a.o&2||(b<<=1);return b}function Xc(a,b,c){a.xb=b;a.Zc=c;a.screen.i(b,c);a.v.send("screen-set-size",[b,c,0])}
function Sc(a,b,c,d,e,f){d=Math.max(d,1);e=Math.max(e,1);if(a.Ab!==b||a.Ed!==c||a.j!==d||a.Wd!==e){a.Ab=b;a.Ed=c;a.j=d;a.Wd=e;if("undefined"!==typeof ImageData){const g=d*e,h=a.u.Hi(g)>>>0;a.ff=h;a.wc=new ImageData(new Uint8ClampedArray(a.u.Ia.buffer,h,4*g),d,e);a.u.Vc()}a.screen.h(b,c);a.v.send("screen-set-size",[b,c,f])}}
function Uc(a){if(!a.i){var b=Math.min(1+a.Vc,a.Tc),c=Math.min(1+a.G,a.C);if(b&&c)if(a.h){b<<=3;var d=a.ba<<4;a.l&64&&(b>>>=1,d>>>=1);c=Rc(a,c);var e=Kc[0];var f=a.ba<<2;a.Bb&64?f<<=1:a.o&64&&(f>>>=1);Sc(a,b,c,d,f?Math.ceil(e/f):c,8);dd(a);Tc(a)}else a.Z&128&&(c>>>=1),d=c/(1+(a.Z&31))|0,b&&d&&Xc(a,b,d)}}
function Tc(a){a.h||bd(a);if(a.i)a.Xc=[];else if(a.j&&a.Ab)if(!a.$c||a.Pb&32)a.Xc=[],a.screen.M();else{var b=a.Vd,c=a.Wc;a.l&64&&(c>>>=1);var d=a.Ud>>5&3,e=Qc(a,b+d);b=e/a.j|0;var f=e%a.j+c;e=Rc(a,1+a.L);e=Math.min(e,a.Ed);var g=a.Ed-e;a.Xc=[];f=-f;for(var h=0;f<a.Ab;f+=a.j,h++)a.Xc.push({wc:a.wc,Wg:f,Xg:0,Tf:0,Uf:b+h,zg:a.j,yg:e});b=0;a.l&32||(b=Qc(a,d)+c);f=-b;for(h=0;f<a.Ab;f+=a.j,h++)a.Xc.push({wc:a.wc,Wg:f,Xg:e,Tf:0,Uf:h,zg:a.j,yg:g})}}function dd(a){a.M|=8;a.Vd!==a.g&&(a.Vd=a.g,Tc(a))}
function Zc(a){var b=a.Z&31;const c=Math.min(b,a.Qc&31);b=Math.min(b,a.Ld&31);a.screen.L(c,b,!(a.Qc&32)&&c<b)}
p.mk=function(a){if(-1===this.N)this.N=a&31,this.$c!==(a&32)&&(this.$c=a&32,Tc(this));else{if(16>this.N)this.eb[this.N]=a,this.l&64||ad(this);else switch(this.N){case 16:if(this.l!==a){var b=this.l;this.l=a;const c=0!==(a&1);this.i||this.h===c||(this.h=c,this.screen.g(this.h));(b^a)&64&&Vc(this);Uc(this);ad(this);Wc(this,!1)}break;case 18:this.Kc!==a&&(this.Kc=a,ad(this));break;case 19:this.Wc!==a&&(this.Wc=a&15,Tc(this));break;case 20:this.dc!==a&&(this.dc=a,ad(this))}this.N=-1}};
p.$h=function(){return(this.N|this.$c)&255};p.lk=function(){return this.$h()|this.ai()<<8&65280};p.ai=function(){if(16>this.N)return this.eb[this.N]&255;switch(this.N){case 16:return this.l;case 18:return this.Kc;case 19:return this.Wc;case 20:return this.dc}return 255};p.nk=function(a){this.Ce=a};p.qk=function(a){this.Hd=a};p.pk=function(){return this.Hd};
p.sk=function(a){switch(this.Hd){case 1:var b=this.Pb;this.Pb=a;(b^a)&32&&Tc(this);Wc(this,!1);break;case 2:b=this.zb;this.zb=a;this.h||!(b&4)||this.zb&4||Wc(this,!0);break;case 3:b=this.cb;this.cb=a;this.h||b===a||Yc(this);break;case 4:this.Id=a}};p.rk=function(){switch(this.Hd){case 1:return this.Pb;case 2:return this.zb;case 3:return this.cb;case 4:return this.Id;case 6:return 18}return 0};p.uk=function(a){this.fb!==a&&(this.fb=a,ad(this))};p.tk=function(){return this.fb};
p.wk=function(a){this.Rc=3*a;this.hc&=0};p.vk=function(){return this.hc};p.yk=function(a){this.fc=3*a;this.hc|=3};p.xk=function(){return this.fc/3&255};p.Ak=function(a){var b=this.fc/3|0,c=this.fc%3,d=this.V[b];if(0===(this.kb&32)){a&=63;const e=a&1;a=a<<2|e<<1|e}d=0===c?d&-16711681|a<<16:1===c?d&-65281|a<<8:d&-256|a;this.V[b]!==d&&(this.V[b]=d,ad(this));this.fc++};p.zk=function(){var a=this.V[this.Rc/3|0]>>8*(2-this.Rc%3)&255;this.Rc++;return this.kb&32?a:a>>2};p.Bk=function(){return this.Ce};
p.Dk=function(a){this.Sc=a};p.Ck=function(){return this.Sc};p.Fk=function(a){switch(this.Sc){case 0:this.Cd=a;break;case 1:this.Sd=a;break;case 2:this.Qb=a;break;case 3:this.sc=a;break;case 4:this.Td=a;break;case 5:var b=this.yb;this.yb=a;(b^a)&96&&Vc(this);break;case 6:this.qc!==a&&(this.qc=a,Uc(this));break;case 7:this.Rb=a;break;case 8:this.Rd=a}};
p.Ek=function(){switch(this.Sc){case 0:return this.Cd;case 1:return this.Sd;case 2:return this.Qb;case 3:return this.sc;case 4:return this.Td;case 5:return this.yb;case 6:return this.qc;case 7:return this.Rb;case 8:return this.Rd}return 0};p.Og=function(a){this.va=a};p.ci=function(a){this.Og(a&255);this.ng(a>>8&255)};p.bi=function(){return this.va};
p.ng=function(a){switch(this.va){case 1:this.Vc!==a&&(this.Vc=a,Uc(this));break;case 2:this.Tc!==a&&(this.Tc=a,Uc(this));break;case 7:var b=this.G;this.G&=255;this.G=this.G|a<<3&512|a<<7&256;b!==this.G&&Uc(this);this.L=this.L&767|a<<4&256;b=this.C;this.C=this.C&767|a<<5&256;b!==this.C&&Uc(this);Tc(this);break;case 8:this.Ud=a;Tc(this);break;case 9:var c=this.Z;this.Z=a;this.L=this.L&511|a<<3&512;b=this.C;this.C=this.C&511|a<<4&512;((c^this.Z)&159||b!==this.C)&&Uc(this);Zc(this);Tc(this);Wc(this,!1);
break;case 10:this.Qc=a;Zc(this);break;case 11:this.Ld=a;Zc(this);break;case 12:(this.g>>8&255)!==a&&(this.g=this.g&255|a<<8,Tc(this),~this.o&3&&Vc(this));break;case 13:(this.g&255)!==a&&(this.g=this.g&65280|a,Tc(this),~this.o&3&&Vc(this));break;case 14:this.S=this.S&255|a<<8;$c(this);break;case 15:this.S=this.S&65280|a;$c(this);break;case 18:(this.G&255)!==a&&(this.G=this.G&768|a,Uc(this));break;case 19:this.ba!==a&&(this.ba=a,Uc(this),~this.o&3&&Vc(this));break;case 20:this.Bb!==a&&(b=this.Bb,this.Bb=
a,Uc(this),(b^a)&64&&Vc(this));break;case 21:(this.C&255)!==a&&(this.C=this.C&768|a,Uc(this));break;case 23:this.o!==a&&(b=this.o,this.o=a,Uc(this),(b^a)&67&&Vc(this));break;case 24:this.L=this.L&768|a;Tc(this);break;default:this.va<this.Mc.length&&(this.Mc[this.va]=a)}};p.ei=function(a){this.ng(a&255)};
p.Pg=function(){switch(this.va){case 1:return this.Vc;case 2:return this.Tc;case 7:return this.G>>7&2|this.C>>5&8|this.L>>4&16|this.G>>3&64;case 8:return this.Ud;case 9:return this.Z;case 10:return this.Qc;case 11:return this.Ld;case 12:return this.g&255;case 13:return this.g>>8;case 14:return this.S>>8;case 15:return this.S&255;case 18:return this.G&255;case 19:return this.ba;case 20:return this.Bb;case 21:return this.C&255;case 23:return this.o;case 24:return this.L&255}return this.va<this.Mc.length?
this.Mc[this.va]:0};p.di=function(){return this.Pg()};p.fi=function(){var a=this.M;this.h?(this.M^=1,this.M&=1):(this.M&1&&(this.M^=8),this.M^=1);this.N=-1;return a};p.Hj=function(a){this.Qd=a};
p.Jj=function(a){const b=this.i;switch(this.Qd){case 0:45248<=a&&45253>=a&&(this.Rf=a);break;case 1:this.s=a;2560<this.s&&(this.s=2560);break;case 2:this.U=a;1600<this.U&&(this.U=1600);break;case 3:this.Wa=a;break;case 4:(this.i=1===(a&1))&&0===(a&128)&&this.Ge.fill(0);this.kb=a;break;case 5:this.uc=a<<16;break;case 8:this.Jd!==a&&(this.Jd=a,this.Ob=this.Kd*this.s+this.Jd,ad(this));break;case 9:this.Kd!==a&&(this.Kd=a,this.Ob=this.Kd*this.s+this.Jd,ad(this))}!this.i||this.s&&this.U||(this.i=!1);this.i&&
!b&&(this.Kd=this.Jd=this.Ob=0,this.h=!0,this.screen.g(this.h),Sc(this,this.s,this.U,this.s,this.U,this.Wa));this.i||(this.uc=0);Tc(this)};p.Ij=function(){return ed(this,this.Qd)};function ed(a,b){switch(b){case 0:return a.Rf;case 1:return a.kb&2?2560:a.s;case 2:return a.kb&2?1600:a.U;case 3:return a.kb&2?32:a.Wa;case 4:return a.kb;case 5:return a.uc>>>16;case 6:return a.Ab?a.Ab:1;case 8:return a.Jd;case 9:return a.Kd;case 10:return a.ma/65536|0}return 255}
p.Vg=function(){if(this.h){if(0===this.wc.data.byteLength){var a=new Uint8ClampedArray(this.u.Ia.buffer,this.ff,4*this.j*this.Wd);this.wc=new ImageData(a,this.j,this.Wd);Tc(this)}if(this.i){a=0;var b=this.U;if(8===this.Wa)for(var c=new Int32Array(this.u.Ia.buffer,this.ff,this.Ab*this.Ed),d=new Uint8Array(this.u.Ia.buffer,this.Ge.byteOffset,this.ma),e=0;e<c.length;e++){var f=this.V[d[e]];c[e]=f&65280|f<<16|f>>16|4278190080}else this.u.Li(this.Wa,this.Ob),e=15===this.Wa?2:this.Wa/8,a=((this.u.Ki[0]/
e|0)-this.Ob)/this.s|0,b=(((this.u.Ji[0]/e|0)-this.Ob)/this.s|0)+1;a<b&&(a=Math.max(a,0),b=Math.min(b,this.U),this.screen.l([{wc:this.wc,Wg:0,Xg:a,Tf:0,Uf:a,zg:this.s,yg:b-a}]))}else{a=Math.min(this.Od|15,524287);e=cd(this);f=~this.o&3;b=this.yb&96;c=this.l&64;for(d=this.Pd&-16;d<=a;){var g=d>>>e;if(f){var h=d/this.j|0,k=d-this.j*h;switch(f){case 1:g=(h&1)<<13;h>>>=1;break;case 2:g=(h&1)<<14;h>>>=1;break;case 3:g=(h&3)<<13,h>>>=2}g|=(h*this.j+k>>>e)+this.g}h=this.De[g];k=this.Ee[g];var l=this.Dd[g],
n=this.Fe[g];g=new Uint8Array(8);switch(b){case 0:h<<=0;k<<=1;l<<=2;n<<=3;for(var r=7;0<=r;r--)g[7-r]=h>>r&1|k>>r&2|l>>r&4|n>>r&8;break;case 32:g[0]=h>>6&3|l>>4&12;g[1]=h>>4&3|l>>2&12;g[2]=h>>2&3|l>>0&12;g[3]=h>>0&3|l<<2&12;g[4]=k>>6&3|n>>4&12;g[5]=k>>4&3|n>>2&12;g[6]=k>>2&3|n>>0&12;g[7]=k>>0&3|n<<2&12;break;case 64:case 96:g[0]=h>>4&15,g[1]=h>>0&15,g[2]=k>>4&15,g[3]=k>>0&15,g[4]=l>>4&15,g[5]=l>>0&15,g[6]=n>>4&15,g[7]=n>>0&15}if(c)for(h=r=0;4>r;r++,d++,h+=2)this.bd[d]=g[h]<<4|g[h+1];else for(r=0;8>
r;r++,d++)this.bd[d]=g[r]}c=this.Nd;a=Math.min(this.Md,524287);b=new Int32Array(this.u.Ia.buffer,this.ff,this.j*this.Wd);e=255;f=0;this.l&128&&(e&=207,f|=this.dc<<4&48);if(this.l&64)for(;c<=a;c++)d=this.bd[c]&e|f,d=this.V[d],b[c]=d&65280|d<<16|d>>16|4278190080;else for(e&=63,f|=this.dc<<4&192;c<=a;c++)d=this.eb[this.bd[c]&this.Kc]&e|f,d=this.V[d],b[c]=d&65280|d<<16|d>>16|4278190080;this.screen.l(this.Xc)}this.Nd=this.ma;this.Md=0;this.Pd=this.ma;this.Od=0}dd(this)};
function Wc(a,b){const c=a.Z&31;if(c&&!a.h){const d=!!(a.Pb&8);a.screen.C(c+1,!d&&!(a.Pb&1),d,!!(a.l&4),a.Dd,b)}}function Yc(a){const b=[0,2,4,6,1,3,5,7],c=(a.cb&12)>>2|(a.cb&32)>>3,d=a.cb&3|(a.cb&16)>>2;a.jc=c!==d;a.screen.D(b[c],b[d]);ad(a)};function fd(a,b){this.u=a;this.v=b;this.Ae=this.ld=!1;this.uf=!0;this.ke=this.zc=this.yc=0;this.va=!0;this.S=this.N=this.G=this.M=this.U=this.L=this.nf=!1;this.ra=new Jb(1024);this.l=0;this.Bd=100;this.j=this.i=0;this.C=!1;this.Ec=0;this.We=4;this.s=!1;this.g=new Jb(1024);this.D=this.o=!1;this.v.register("keyboard-code",function(c){this.nf&&(this.ra.push(c),this.Ta())},this);this.v.register("mouse-click",function(c){this.uf&&this.Ae&&(this.ke=c[0]|c[2]<<1|c[1]<<2,this.ld&&gd(this,0,0))},this);this.v.register("mouse-delta",
function(c){var d=c[1];if(this.uf&&this.Ae){var e=this.We*this.Bd/80;this.yc+=c[0]*e;this.zc+=d*e;this.ld&&(c=this.yc|0,d=this.zc|0,c||d)&&(this.yc-=c,this.zc-=d,gd(this,c,d))}},this);this.v.register("mouse-wheel",function(c){this.Ec-=c[0];this.Ec-=2*c[1];this.Ec=Math.min(7,Math.max(-8,this.Ec));gd(this,0,0)},this);this.h=5;this.fa=0;this.Z=this.V=this.ba=!1;Q(a.B,96,this,this.Sk);Q(a.B,100,this,this.Uk);S(a.B,96,this,this.Tk);S(a.B,100,this,this.Vk)}p=fd.prototype;
p.ha=function(){var a=[];a[0]=this.ld;a[1]=this.Ae;a[2]=this.uf;a[3]=this.yc;a[4]=this.zc;a[5]=this.ke;a[6]=this.va;a[7]=this.nf;a[8]=this.L;a[9]=this.U;a[10]=this.M;a[11]=this.G;a[12]=this.N;a[13]=this.S;a[15]=this.l;a[16]=this.Bd;a[17]=this.We;a[18]=this.s;a[20]=this.h;a[21]=this.ba;a[22]=this.V;a[23]=this.fa;a[24]=this.Z;a[25]=this.j;a[26]=this.i;a[27]=this.C;return a};
p.H=function(a){this.ld=a[0];this.Ae=a[1];this.uf=a[2];this.yc=a[3];this.zc=a[4];this.ke=a[5];this.va=a[6];this.nf=a[7];this.L=a[8];this.U=a[9];this.M=a[10];this.G=a[11];this.N=a[12];this.S=a[13];this.l=a[15];this.Bd=a[16];this.We=a[17];this.s=a[18];this.h=a[20];this.ba=a[21];this.V=a[22];this.fa=a[23];this.Z=a[24];this.j=a[25]||0;this.i=a[26]||0;this.C=a[27]||!1;this.D=this.o=!1;this.ra.clear();this.g.clear();this.v.send("mouse-enable",this.Ae)};
p.Ta=function(){this.o||(this.ra.length?hd(this):this.g.length&&id(this))};function id(a){a.o=!0;a.D=!0;a.h&2&&(Sb(a.u,12),a.u.Xa(12))}function hd(a){a.o=!0;a.D=!1;a.h&1&&(Sb(a.u,1),a.u.Xa(1))}function gd(a,b,c){a.g.push((0>c)<<5|(0>b)<<4|8|a.ke);a.g.push(b);a.g.push(c);4===a.j?(a.g.push(0|a.Ec&15),a.Ec=0):3===a.j&&(a.g.push(a.Ec&255),a.Ec=0);a.Ta()}
p.Sk=function(){this.o=!1;if(!this.ra.length&&!this.g.length)return this.l;this.D?(Sb(this.u,12),this.l=this.g.shift()):(Sb(this.u,1),this.l=this.ra.shift());(this.ra.length||this.g.length)&&this.Ta();return this.l};p.Uk=function(){var a=16;this.o&&(a|=1);this.D&&(a|=32);return a};
p.Tk=function(a){if(this.V)this.h=a,this.V=!1;else if(this.ba)this.ba=!1,this.g.clear(),this.g.push(a),id(this);else if(this.U){this.U=!1;this.g.clear();this.g.push(250);this.Bd=a;switch(this.i){case -1:60===a?(this.C=!0,this.i=0):(this.C=!1,this.i=200===a?1:0);break;case 0:200===a&&(this.i=1);break;case 1:this.i=100===a?2:200===a?3:0;break;case 2:80===a&&(this.j=3);this.i=-1;break;case 3:80===a&&(this.j=4),this.i=-1}this.Bd||(this.Bd=100);id(this)}else if(this.S)this.S=!1,this.g.clear(),this.g.push(250),
this.We=3<a?4:1<<a,id(this);else if(this.M)this.M=!1,this.ra.push(250),hd(this);else if(this.G)this.G=!1,this.ra.push(250),hd(this),a||this.ra.push(1);else if(this.N)this.N=!1,this.ra.push(250),hd(this);else if(this.L){if(this.L=!1,this.uf){this.ra.clear();this.g.clear();this.g.push(250);switch(a){case 230:this.s=!1;break;case 231:this.s=!0;break;case 232:this.S=!0;break;case 233:gd(this,0,0);break;case 235:gd(this,0,0);break;case 242:this.g.push(this.j);this.ke=this.yc=this.zc=0;this.Ta();break;
case 243:this.U=!0;break;case 244:this.Ae=this.ld=!0;this.v.send("mouse-enable",!0);this.ke=this.yc=this.zc=0;break;case 245:this.ld=!1;break;case 246:this.ld=!1;this.Bd=100;this.s=!1;this.We=4;break;case 255:this.g.push(170),this.g.push(0),this.Ae=!0,this.v.send("mouse-enable",!0),this.ld=!1,this.Bd=100,this.s=!1,this.We=4,this.C||(this.j=0),this.ke=this.yc=this.zc=0}id(this)}}else if(this.Z)this.Z=!1,this.fa=a;else{this.g.clear();this.ra.clear();this.ra.push(250);switch(a){case 237:this.M=!0;break;
case 240:this.G=!0;break;case 242:this.ra.push(171);this.ra.push(131);break;case 243:this.N=!0;break;case 244:this.nf=!0;break;case 245:this.nf=!1;break;case 255:this.ra.clear(),this.ra.push(250),this.ra.push(170),this.ra.push(0)}hd(this)}};
p.Vk=function(a){switch(a){case 32:this.ra.clear();this.g.clear();this.ra.push(this.h);hd(this);break;case 96:this.V=!0;break;case 209:this.Z=!0;break;case 211:this.ba=!0;break;case 212:this.L=!0;break;case 167:this.h|=32;break;case 168:this.h&=-33;break;case 169:this.ra.clear();this.g.clear();this.ra.push(0);hd(this);break;case 170:this.ra.clear();this.g.clear();this.ra.push(85);hd(this);break;case 171:this.ra.clear();this.g.clear();this.ra.push(0);hd(this);break;case 173:this.h|=16;break;case 174:this.h&=
-17;break;case 254:uc(this.u)}};function jd(a){this.u=a;this.$d=0;this.ea=new Uint8Array(128);this.D=this.g=Date.now();this.l=this.j=0;this.s=!1;this.C=.9765625;this.o=38;this.h=2;this.Lg=this.i=0;S(a.B,112,this,function(b){this.$d=b&127;this.Lg=b>>7});S(a.B,113,this,this.Ui);Q(a.B,113,this,this.Ti)}p=jd.prototype;p.ha=function(){var a=[];a[0]=this.$d;a[1]=this.ea;a[2]=this.g;a[3]=this.D;a[4]=this.j;a[5]=this.l;a[6]=this.s;a[7]=this.C;a[8]=this.o;a[9]=this.h;a[10]=this.i;a[11]=this.Lg;return a};
p.H=function(a){this.$d=a[0];this.ea=a[1];this.g=a[2];this.D=a[3];this.j=a[4];this.l=a[5];this.s=a[6];this.C=a[7];this.o=a[8];this.h=a[9];this.i=a[10];this.Lg=a[11]};p.Dc=function(a){a=Date.now();this.g+=a-this.D;this.D=a;this.s&&this.j<a?(this.u.Xa(8),this.i|=192,this.j+=this.C*Math.ceil((a-this.j)/this.C)):this.l&&this.l<a&&(this.u.Xa(8),this.i|=160,this.l=0);let b=100;this.s&&this.j&&(b=Math.min(b,Math.max(0,this.j-a)));this.l&&(b=Math.min(b,Math.max(0,this.l-a)));return b};
function kd(a,b){if(a.h&4)a=b;else{a=b;for(var c=b=0,d;a;)d=a%10,c|=d<<4*b,b++,a=(a-d)/10;a=c}return a}function ld(a,b){var c;a.h&4?c=b:c=(b&15)+10*(b>>4&15);return c}
p.Ti=function(){switch(this.$d){case 0:return kd(this,(new Date(this.g)).getUTCSeconds());case 2:return kd(this,(new Date(this.g)).getUTCMinutes());case 4:return kd(this,(new Date(this.g)).getUTCHours());case 6:return kd(this,(new Date(this.g)).getUTCDay()+1);case 7:return kd(this,(new Date(this.g)).getUTCDate());case 8:return kd(this,(new Date(this.g)).getUTCMonth()+1);case 9:return kd(this,(new Date(this.g)).getUTCFullYear()%100);case 10:return 999<=zb()%1E3?this.o|128:this.o;case 11:return this.h;
case 12:Sb(this.u,8);var a=this.i;this.i&=-241;return a;case 13:return 0;case 50:case 55:return kd(this,(new Date(this.g)).getUTCFullYear()/100|0);default:return this.ea[this.$d]}};
p.Ui=function(a){switch(this.$d){case 10:this.o=a&127;this.C=1E3/(32768>>(this.o&15)-1);break;case 11:this.h=a;this.h&64&&(this.j=Date.now());if(this.h&32){a=new Date;const b=ld(this,this.ea[1]),c=ld(this,this.ea[3]),d=ld(this,this.ea[5]);this.l=+new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),d,c,b))}break;case 1:case 3:case 5:this.ea[this.$d]=a}this.s=64===(this.h&64)&&0<(this.o&15)};function md(a,b,c){this.v=c;this.u=a;this.h=4;this.pd=this.fd=0;this.ie=96;this.Oc=this.qf=0;this.Pc=1;this.ka=this.og=this.Sa=this.ig=0;this.input=[];switch(b){case 1016:this.g=0;this.ka=4;break;case 760:this.g=1;this.ka=3;break;case 1E3:this.g=2;this.ka=4;break;case 744:this.ka=this.g=3;break;default:this.g=0,this.ka=4}this.v.register("serial"+this.g+"-input",function(d){this.input.push(d);this.ie|=1;this.qf&1?nd(this,12):nd(this,4)},this);this.v.register("serial"+this.g+"-modem-status-input",function(d){od(this,
d)},this);this.v.register("serial"+this.g+"-carrier-detect-input",function(d){od(this,d?this.Sa|136:this.Sa&-137)},this);this.v.register("serial"+this.g+"-ring-indicator-input",function(d){od(this,d?this.Sa|68:this.Sa&-69)},this);this.v.register("serial"+this.g+"-data-set-ready-input",function(d){od(this,d?this.Sa|34:this.Sa&-35)},this);this.v.register("serial"+this.g+"-clear-to-send-input",function(d){od(this,d?this.Sa|17:this.Sa&-18)},this);a=a.B;S(a,b,this,function(d){pd(this,d)},function(d){pd(this,
d&255);pd(this,d>>8)});S(a,b|1,this,function(d){this.pd&128?this.fd=this.fd&255|d<<8:(0===(this.Oc&2)&&d&2&&nd(this,2),this.Oc=d&15,qd(this))});Q(a,b,this,function(){if(this.pd&128)return this.fd&255;let d=0;0!==this.input.length&&(d=this.input.shift());0===this.input.length&&(this.ie&=-2,rd(this,12),rd(this,4));return d});Q(a,b|1,this,function(){return this.pd&128?this.fd>>8:this.Oc&15});Q(a,b|2,this,function(){var d=this.Pc&15;2===this.Pc&&rd(this,2);this.qf&1&&(d|=192);return d});S(a,b|2,this,
function(d){this.qf=d});Q(a,b|3,this,function(){return this.pd});S(a,b|3,this,function(d){this.pd=d});Q(a,b|4,this,function(){return this.ig});S(a,b|4,this,function(d){this.ig=d});Q(a,b|5,this,function(){return this.ie});S(a,b|5,this,function(){});Q(a,b|6,this,function(){return this.Sa&=240});S(a,b|6,this,function(d){od(this,d)});Q(a,b|7,this,function(){return this.og});S(a,b|7,this,function(d){this.og=d})}
md.prototype.ha=function(){var a=[];a[0]=this.h;a[1]=this.fd;a[2]=this.pd;a[3]=this.ie;a[4]=this.qf;a[5]=this.Oc;a[6]=this.Pc;a[7]=this.ig;a[8]=this.Sa;a[9]=this.og;a[10]=this.ka;return a};md.prototype.H=function(a){this.h=a[0];this.fd=a[1];this.pd=a[2];this.ie=a[3];this.qf=a[4];this.Oc=a[5];this.Pc=a[6];this.ig=a[7];this.Sa=a[8];this.og=a[9];this.ka=a[10]};
function qd(a){a.h&4096&&a.Oc&1?(a.Pc=12,a.u.Xa(a.ka)):a.h&16&&a.Oc&1?(a.Pc=4,a.u.Xa(a.ka)):a.h&4&&a.Oc&2?(a.Pc=2,a.u.Xa(a.ka)):a.h&1&&a.Oc&8?(a.Pc=0,a.u.Xa(a.ka)):(a.Pc=1,Sb(a.u,a.ka))}function nd(a,b){a.h|=1<<b;qd(a)}function rd(a,b){a.h&=~(1<<b);qd(a)}function pd(a,b){a.pd&128?a.fd=a.fd&-256|b:(nd(a,2),a.v.send("serial"+a.g+"-output-byte",b))}function od(a,b){let c=(a.Sa^b)>>4;c|=a.Sa&15;a.Sa=b;a.Sa|=c};function sd(a){this.u=a;var b=a.B;bc(a.A.$a,{Oa:56,O:[134,128,19,113,7,0,128,2,8,0,128,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1,0,0],Lb:[],name:"acpi"});this.g=this.h=0;this.status=1;this.Bf=this.oe=0;this.i=td(this,zb());this.vc=new Uint8Array(4);Q(b,45056,this,void 0,function(){return this.oe});S(b,45056,this,void 0,function(c){this.oe&=~c});Q(b,45058,this,void 0,function(){return this.Bf});S(b,45058,this,void 0,function(c){this.Bf=
c});Q(b,45060,this,void 0,function(){return this.status});S(b,45060,this,void 0,function(c){this.status=c});Q(b,45064,this,void 0,void 0,function(){return td(this,zb())&16777215});Q(b,45024,this,function(){return this.vc[0]});Q(b,45025,this,function(){return this.vc[1]});Q(b,45026,this,function(){return this.vc[2]});Q(b,45027,this,function(){return this.vc[3]});S(b,45024,this,function(c){this.vc[0]=c});S(b,45025,this,function(c){this.vc[1]=c});S(b,45026,this,function(c){this.vc[2]=c});S(b,45027,this,
function(c){this.vc[3]=c})}sd.prototype.Dc=function(a){a=td(this,a);var b=0!==((a^this.i)&8388608);this.Bf&1&&b?(this.oe|=1,this.u.Xa(9)):Sb(this.u,9);this.i=a;return 100};function td(a,b){b=Math.round(3579.545*b);b===a.h?3579.545>a.g&&a.g++:a.h+a.g<=b&&(a.g=0,a.h=b);return a.h+a.g}sd.prototype.ha=function(){var a=[];a[0]=this.status;a[1]=this.oe;a[2]=this.Bf;a[3]=this.vc;return a};sd.prototype.H=function(a){this.status=a[0];this.oe=a[1];this.Bf=a[2];this.vc=a[3]};function ud(a){this.u=a;this.fa=this.C=0;this.va=1;this.g=this.l=0;this.j=zb();this.N=this.U=this.S=this.V=this.h=65536;this.L=this.G=this.s=0;this.i=new Int32Array(8);this.Za=new Int32Array(8);this.o=new Int32Array(8);this.ba=254;this.D=-1;this.Z=this.error=this.M=0;rb(a.B,4276092928,1048576,b=>{var c=b&3;return this.Ef(b&-4)>>8*c&255},()=>{},b=>this.Ef(b),(b,c)=>this.Aa(b,c))}p=ud.prototype;
p.Ef=function(a){a=a-4276092928|0;switch(a){case 32:return this.C;case 48:return 327700;case 128:return this.s;case 208:return this.M;case 224:return this.D;case 240:return this.ba;case 256:case 272:case 288:case 304:case 320:case 336:case 352:case 368:return this.Za[a-256>>4];case 384:case 400:case 416:case 432:case 448:case 464:case 480:case 496:return this.o[a-384>>4];case 512:case 528:case 544:case 560:case 576:case 592:case 608:case 624:return this.i[a-512>>4];case 640:return this.Z;case 768:return this.G;
case 784:return this.L;case 800:return this.h;case 832:return this.V;case 848:return this.S;case 864:return this.U;case 880:return this.N;case 992:return this.fa;case 896:return this.l;case 912:return this.g;default:return 0}};
p.Aa=function(a,b){switch(a-4276092928|0){case 32:this.C=b;break;case 128:this.s=b&255;vd(this);break;case 176:b=wd(this.Za);if(-1!==b){xd(this.Za,b);if(this.o[b>>5]>>(b&31)&1){a=this.u.A.nd;for(var c=0;24>c;c++){var d=a.g[c];(d&255)===b&&d&16384&&(a.g[c]&=-16385,yd(a,c))}}vd(this)}break;case 208:this.M=b&4278190080;break;case 224:this.D=b|16777215;break;case 240:this.ba=b;break;case 640:this.Z=this.error;this.error=0;break;case 768:a=b&255;c=b>>8&7;d=b>>15&1;var e=b>>18&3;this.G=b&-4097;0===e?zd(this,
a,c,d):1===e?zd(this,a,0,d):2===e&&zd(this,a,c,d);break;case 784:this.L=b;break;case 800:this.h=b;break;case 832:this.V=b;break;case 848:this.S=b;break;case 864:this.U=b;break;case 880:this.N=b;break;case 992:this.fa=b;b=b&3|(b&8)>>1;this.va=7===b?0:b+1;break;case 896:this.l=b>>>0,this.g=b>>>0,this.j=zb()}};
p.Dc=function(a){if(0===this.g)return 100;const b=1E6/(1<<this.va);a=(a-this.j)*b>>>0;this.j+=a/b;this.g-=a;0>=this.g&&(a=this.h&393216,131072===a?(this.g%=this.l,0>=this.g&&(this.g+=this.l),0===(this.h&65536)&&zd(this,this.h&255,0,!1)):0===a&&(this.g=0,0===(this.h&65536)&&zd(this,this.h&255,0,!1)));return Math.max(0,this.g/b)};function zd(a,b,c,d){5===c||4===c||a.i[b>>5]>>(b&31)&1||(Ad(a.i,b),d?Ad(a.o,b):xd(a.o,b),vd(a))}
function vd(a){var b=wd(a.i);-1!==b&&(wd(a.Za)>=b||(b&240)<=(a.s&240)||a.u.Kd())}p.ha=function(){var a=[];a[0]=this.C;a[1]=this.fa;a[2]=this.va;a[3]=this.l;a[4]=this.g;a[5]=this.j;a[6]=this.h;a[7]=this.V;a[8]=this.S;a[9]=this.U;a[10]=this.N;a[11]=this.s;a[12]=this.G;a[13]=this.L;a[14]=this.i;a[15]=this.Za;a[16]=this.o;a[17]=this.ba;a[18]=this.D;a[19]=this.M;a[20]=this.error;a[21]=this.Z;return a};
p.H=function(a){this.C=a[0];this.fa=a[1];this.va=a[2];this.l=a[3];this.g=a[4];this.j=a[5];this.h=a[6];this.V=a[7];this.S=a[8];this.U=a[9];this.N=a[10];this.s=a[11];this.G=a[12];this.L=a[13];this.i=a[14];this.Za=a[15];this.o=a[16];this.ba=a[17];this.D=a[18];this.M=a[19];this.error=a[20];this.Z=a[21]};function Ad(a,b){a[b>>5]|=1<<(b&31)}function xd(a,b){a[b>>5]&=~(1<<(b&31))}function wd(a){for(var b=7;0<=b;b--){var c=a[b];if(c)return Ab(c>>>0)|b<<5}return-1};function Bd(a){this.u=a;this.g=new Int32Array(24);this.o=new Int32Array(24);for(var b=0;b<this.g.length;b++)this.g[b]=65536;this.i=this.h=this.l=this.j=0;rb(a.B,4273995776,131072,c=>{c=c-4273995776|0;return 16<=c&&20>c?(c-=16,this.read(this.j)>>8*c&255):0},()=>{},c=>{c=c-4273995776|0;return 0===c?this.j:16===c?this.read(this.j):0},(c,d)=>{c=c-4273995776|0;0===c?this.j=d:16===c&&this.write(this.j,d)})}
function yd(a,b){var c=1<<b;if(0!==(a.h&c)){var d=a.g[b];if(0===(d&65536)){var e=d>>8&7;if(0===(d&32768))a.h&=~c;else if(a.g[b]|=16384,d&16384)return;0!==e&&1!==e||zd(a.u.A.He,d&255,e,32768===(d&32768));a.g[b]&=-4097}}}Bd.prototype.read=function(a){if(0===a)return this.l<<24;if(1===a)return 1507345;if(2===a)return this.l<<24;if(16<=a&&64>a){var b=a-16>>1;return a&1?this.o[b]:this.g[b]}return 0};
Bd.prototype.write=function(a,b){if(0===a)this.l=b>>>24&15;else if(1!==a&&2!==a&&16<=a&&64>a){var c=a-16>>1;a&1?this.o[c]=b&4278190080:(this.g[c]=b&110591|this.g[c]&-110592,yd(this,c))}};Bd.prototype.ha=function(){var a=[];a[0]=this.g;a[1]=this.o;a[2]=this.j;a[3]=this.l;a[4]=this.h;a[5]=this.i;return a};Bd.prototype.H=function(a){this.g=a[0];this.o=a[1];this.j=a[2];this.l=a[3];this.h=a[4];this.i=a[5]};function Cd(a){this.message=a}Cd.prototype=Error();const Dd={Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Float32Array,Float64Array};
function Ed(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array)return a.map(e=>Ed(e,b));a.constructor===Object&&console.log(a);if(a.BYTES_PER_ELEMENT){var c=new Uint8Array(a.buffer,a.byteOffset,a.length*a.BYTES_PER_ELEMENT);return{__state_type__:a.constructor.name.replace("bound ",""),buffer_id:b.push(c)-1}}a=a.ha();c=[];for(var d=0;d<a.length;d++)c[d]=Ed(a[d],b);return c}
function Fd(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array){for(let c=0;c<a.length;c++)a[c]=Fd(a[c],b);return a}return new Dd[a.__state_type__](b[a.buffer_id])}
ub.prototype.Hf=function(){for(var a=[],b=Ed(this,a),c=[],d=0,e=0;e<a.length;e++){var f=a[e].byteLength;c[e]={offset:d,length:f};d+=f;d=d+3&-4}e=JSON.stringify({buffer_infos:c,state:b});e=(new TextEncoder).encode(e);b=16+e.length;b=b+3&-4;f=b+d;d=new ArrayBuffer(f);var g=new Int32Array(d,0,4);(new Uint8Array(d,16,e.length)).set(e);b=new Uint8Array(d,b);g[0]=-2039052682;g[1]=6;g[2]=f;g[3]=e.length;for(e=0;e<a.length;e++)b.set(a[e],c[e].offset);return d};
ub.prototype.Xe=function(a){function b(r,x){const q=r.length;if(16>q)throw new Cd("Invalid length: "+q);r=new Int32Array(r.buffer,r.byteOffset,4);if(-2039052682!==r[0])throw new Cd("Invalid header: "+Hb(r[0]>>>0));if(6!==r[1])throw new Cd("Version mismatch: dump="+r[1]+" we=6");if(x&&r[2]!==q)throw new Cd("Length doesn't match header: real="+q+" header="+r[2]);return r[3]}function c(r){r=(new TextDecoder).decode(r);return JSON.parse(r)}a=new Uint8Array(a);if(4247762216===(new Uint32Array(a.buffer,
0,1))[0]){var d=this.Ai(a.length);(new Uint8Array(this.Ia.buffer,this.Di(d),a.length)).set(a);var e=this.df(d,16),f=new Uint8Array(this.Ia.buffer,e,16),g=b(f,!1);this.ef(e,16);e=this.df(d,g);f=new Uint8Array(this.Ia.buffer,e,g);f=c(f);this.ef(e,g);e=f.state;var h=f.buffer_infos;f=[];g=16+g;for(var k of h){h=(g+3&-4)-g;if(1048576<k.length){var l=this.df(d,h);this.ef(l,h);l=new Uint8Array(k.length);f.push(l.buffer);for(var n=0;n<k.length;){const r=Math.min(k.length-n,1048576),x=this.df(d,r);l.set(new Uint8Array(this.Ia.buffer,
x,r),n);this.ef(x,r);n+=r}}else l=this.df(d,h+k.length),n=l+h,f.push(this.Ia.buffer.slice(n,n+k.length)),this.ef(l,h+k.length);g+=h+k.length}e=Fd(e,f);this.H(e);this.Ci(d)}else{k=b(a,!0);if(0>k||k+12>=a.length)throw new Cd("Invalid info block length: "+k);e=c(a.subarray(16,16+k));d=e.state;e=e.buffer_infos;let r=16+k;r=r+3&-4;k=e.map(x=>{const q=r+x.offset;return a.buffer.slice(q,q+x.length)});d=Fd(d,k);this.H(d)}};function Gd(a,b,c){a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5]);a[6]===b[0]&&a[7]===b[1]&&a[8]===b[2]&&a[9]===b[3]&&a[10]===b[4]&&a[11]===b[5]&&(a[6]=c[0],a[7]=c[1],a[8]=c[2],a[9]=c[3],a[10]=c[4],a[11]=c[5]);var d=a[12]<<8|a[13];if(2048===d){if(a=a.subarray(14),4===a[0]>>4&&17===a[9]&&(a=a.subarray(20),d=a[2]<<8|a[3],67===(a[0]<<8|a[1])||67===d)){const e=a.subarray(8);if(1669485411===(e[236]<<24|e[237]<<
16|e[238]<<8|e[239]))for(e[28]===b[0]&&e[29]===b[1]&&e[30]===b[2]&&e[31]===b[3]&&e[32]===b[4]&&e[33]===b[5]&&(e[28]=c[0],e[29]=c[1],e[30]=c[2],e[31]=c[3],e[32]=c[4],e[33]=c[5],a[6]=a[7]=0),d=240;d<e.length;){const f=e[d++];if(255===f)break;const g=e[d++];61===f&&1===e[d+0]&&e[d+1]===b[0]&&e[d+2]===b[1]&&e[d+3]===b[2]&&e[d+4]===b[3]&&e[d+5]===b[4]&&e[d+6]===b[5]&&(e[d+1]=c[0],e[d+2]=c[1],e[d+3]=c[2],e[d+4]=c[3],e[d+5]=c[4],e[d+6]=c[5],a[6]=a[7]=0);d+=g}}}else 2054===d&&(a=a.subarray(14),a[8]===b[0]&&
a[9]===b[1]&&a[10]===b[2]&&a[11]===b[3]&&a[12]===b[4]&&a[13]===b[5]&&(a[8]=c[0],a[9]=c[1],a[10]=c[2],a[11]=c[3],a[12]=c[4],a[13]=c[5]))}function Hd(a){return[a[0].toString(16).padStart(2,"0"),a[1].toString(16).padStart(2,"0"),a[2].toString(16).padStart(2,"0"),a[3].toString(16).padStart(2,"0"),a[4].toString(16).padStart(2,"0"),a[5].toString(16).padStart(2,"0")].join(":")}
function Id(a,b,c,d){this.u=a;this.$a=a.A.$a;this.id=0;this.se=c;this.Jb=d;this.v=b;this.v.register("net"+this.id+"-receive",function(e){this.Ha(e)},this);this.port=768+256*this.id;this.name="ne2k";this.O=[236,16,41,128,3,1,0,0,0,0,0,2,0,0,0,0,this.port&255|1,this.port>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,184,254,0,0,0,0,0,0,0,0,0,1,0,0];this.Oa=(0===this.id?5:7+this.id)<<3;this.Lb=[{size:32}];this.dg=this.Za=0;this.gb=1;this.sg=this.ye=this.Zb=this.kf=0;this.memory=
new Uint8Array(32768);this.fh=this.Ze=0;this.eh=1;this.ja=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);this.v.send("net"+this.id+"-mac",Hd(this.ja));this.qd=Uint8Array.of(255,255,255,255,255,255,255,255);this.yf=null;for(b=0;6>b;b++)this.memory[b<<1]=this.memory[b<<1|1]=this.ja[b];this.memory[28]=this.memory[29]=87;this.memory[30]=this.memory[31]=87;this.Fa=0;this.Bc=64;this.ob=128;this.gd=this.ic=76;b=a.B;Q(b,this.port|0,this,function(){return this.gb});S(b,
this.port|0,this,function(e){this.gb=e;this.gb&1||(e&24&&0===this.Zb&&Jd(this,64),e&4&&(e=this.sg<<8,e=this.memory.subarray(e,e+this.ye),this.yf&&(e=new Uint8Array(e),Gd(e,this.yf,this.ja)),this.v.send("net"+this.id+"-send",e),this.v.send("eth-transmit-end",[e.length]),this.gb&=-5,Jd(this,2)))});Q(b,this.port|13,this,function(){return 1===V(this)?this.qd[5]:0});Q(b,this.port|14,this,function(){return 1===V(this)?this.qd[6]:0},function(){return 0});Q(b,this.port|15,this,function(){return 1===V(this)?
this.qd[7]:0});Q(b,this.port|31,this,function(){Jd(this,128);return 0});S(b,this.port|31,this,function(){});Q(b,this.port|1,this,function(){var e=V(this);return 0===e?this.Bc:1===e?this.ja[0]:2===e?this.Bc:0});S(b,this.port|1,this,function(e){var f=V(this);0===f?this.Bc=e:1===f&&(this.ja[0]=e)});Q(b,this.port|2,this,function(){var e=V(this);return 0===e?this.ob:1===e?this.ja[1]:2===e?this.ob:0});S(b,this.port|2,this,function(e){var f=V(this);0===f?(e>this.memory.length>>8&&(e=this.memory.length>>
8),this.ob=e):1===f&&(this.ja[1]=e)});Q(b,this.port|7,this,function(){var e=V(this);return 0===e?this.Za:1===e?this.ic:0});S(b,this.port|7,this,function(e){var f=V(this);0===f?(this.Za&=~e,Kd(this)):1===f&&(this.ic=e)});S(b,this.port|13,this,function(e){0===V(this)&&(this.fh=e)});S(b,this.port|14,this,function(e){0===V(this)&&(this.kf=e)});Q(b,this.port|10,this,function(){var e=V(this);return 0===e?80:1===e?this.qd[2]:0});S(b,this.port|10,this,function(e){0===V(this)&&(this.Zb=this.Zb&65280|e&255)});
Q(b,this.port|11,this,function(){var e=V(this);return 0===e?67:1===e?this.qd[3]:0});S(b,this.port|11,this,function(e){0===V(this)&&(this.Zb=this.Zb&255|e<<8&65280)});Q(b,this.port|8,this,function(){var e=V(this);return 0===e?this.Fa&255:1===e?this.qd[0]:0});S(b,this.port|8,this,function(e){0===V(this)&&(this.Fa=this.Fa&65280|e&255)});Q(b,this.port|9,this,function(){var e=V(this);return 0===e?this.Fa>>8&255:1===e?this.qd[1]:0});S(b,this.port|9,this,function(e){0===V(this)&&(this.Fa=this.Fa&255|e<<
8&65280)});S(b,this.port|15,this,function(e){0===V(this)&&(this.dg=e,Kd(this))});Q(b,this.port|3,this,function(){var e=V(this);return 0===e?this.gd:1===e?this.ja[2]:0});S(b,this.port|3,this,function(e){var f=V(this);0===f?this.gd=e:1===f&&(this.ja[2]=e)});Q(b,this.port|4,this,function(){var e=V(this);return 0===e?this.eh:1===e?this.ja[3]:0});S(b,this.port|4,this,function(e){var f=V(this);0===f?this.sg=e:1===f&&(this.ja[3]=e)});Q(b,this.port|5,this,function(){var e=V(this);return 0===e?0:1===e?this.ja[4]:
0});S(b,this.port|5,this,function(e){var f=V(this);0===f?this.ye=this.ye&-256|e:1===f&&(this.ja[4]=e)});Q(b,this.port|6,this,function(){var e=V(this);return 0===e?0:1===e?this.ja[5]:0});S(b,this.port|6,this,function(e){var f=V(this);0===f?this.ye=this.ye&255|e<<8:1===f&&(this.ja[5]=e)});Q(b,this.port|12,this,function(){var e=V(this);return 0===e?9:1===e?this.qd[4]:0});S(b,this.port|12,this,function(e){0===V(this)&&(this.Ze=e)});Q(b,this.port|16,this,this.Zi,this.ph,this.Yi);S(b,this.port|16,this,
this.qh,this.qh,this.$i);bc(a.A.$a,this)}p=Id.prototype;p.ha=function(){var a=[];a[0]=this.Za;a[1]=this.dg;a[2]=this.gb;a[3]=this.kf;a[4]=this.Zb;a[5]=this.ye;a[6]=this.sg;a[7]=this.Fa;a[8]=this.Bc;a[9]=this.ic;a[10]=this.gd;a[11]=this.ob;a[12]=this.Ze;a[13]=this.fh;a[14]=this.eh;a[15]=this.ja;a[16]=this.memory;return a};
p.H=function(a){this.Za=a[0];this.dg=a[1];this.gb=a[2];this.kf=a[3];this.Zb=a[4];this.ye=a[5];this.sg=a[6];this.Fa=a[7];this.Bc=a[8];this.ic=a[9];this.gd=a[10];this.ob=a[11];this.Ze=a[12];this.fh=a[13];this.eh=a[14];this.se?(this.ja=a[15],this.memory=a[16]):this.Jb&&(this.yf=a[15],this.memory=a[16]);this.v.send("net"+this.id+"-mac",Hd(this.ja))};function Jd(a,b){a.Za|=b;Kd(a)}function Kd(a){a.dg&a.Za?a.$a.Ta(a.Oa):vc(a.$a,a.Oa)}
function Ld(a,b){if(16>=a.Fa||16384<=a.Fa&&32768>a.Fa)a.memory[a.Fa]=b;a.Fa++;a.Zb--;a.Fa>=a.ob<<8&&(a.Fa+=a.Bc-a.ob<<8);0===a.Zb&&Jd(a,64)}p.qh=function(a){Ld(this,a);this.kf&1&&Ld(this,a>>8)};p.$i=function(a){Ld(this,a);Ld(this,a>>8);Ld(this,a>>16);Ld(this,a>>24)};function Md(a){let b=0;32768>a.Fa&&(b=a.memory[a.Fa]);a.Fa++;a.Zb--;a.Fa>=a.ob<<8&&(a.Fa+=a.Bc-a.ob<<8);0===a.Zb&&Jd(a,64);return b}p.Zi=function(){return this.ph()&255};p.ph=function(){return this.kf&1?Md(this)|Md(this)<<8:Md(this)};
p.Yi=function(){return Md(this)|Md(this)<<8|Md(this)<<16|Md(this)<<24};
p.Ha=function(a){if(!(this.gb&1)&&(this.v.send("eth-receive-end",[a.length]),this.Ze&16||this.Ze&4&&255===a[0]&&255===a[1]&&255===a[2]&&255===a[3]&&255===a[4]&&255===a[5]||!(this.Ze&8&&1===(a[0]&1)||a[0]!==this.ja[0]||a[1]!==this.ja[1]||a[2]!==this.ja[2]||a[3]!==this.ja[3]||a[4]!==this.ja[4]||a[5]!==this.ja[5]))){this.yf&&(a=new Uint8Array(a),Gd(a,this.ja,this.yf));var b=this.ic<<8,c=Math.max(60,a.length)+4,d=b+4,e=this.ic+1+(c>>8);if(!((this.gd>this.ic?this.gd-this.ic:this.ob-this.ic+this.gd-this.Bc)<
1+(c>>8)&&0!==this.gd)){if(b+c>this.ob<<8){var f=(this.ob<<8)-d;this.memory.set(a.subarray(0,f),d);this.memory.set(a.subarray(f),this.Bc<<8)}else this.memory.set(a,d),60>a.length&&this.memory.fill(0,d+a.length,d+60);e>=this.ob&&(e+=this.Bc-this.ob);this.memory[b]=1;this.memory[b+1]=e;this.memory[b+2]=c;this.memory[b+3]=c>>8;this.ic=e;Jd(this,1)}}};function V(a){return a.gb>>6&3};var Nd=new Uint8Array(256),Od=[],Pd=[],Qd=[],Rd=new Uint8Array(256),Sd=[];
function Td(a,b){this.u=a;this.v=b;this.Qa=new Jb(64);this.pa=new Jb(64);this.i=this.o=this.Sb=this.L=0;this.R=new Uint8Array(256);Yd(this);this.Oe=!1;this.Kf=0;this.Vb=this.Ub=this.ce=this.Ic=!1;this.kc=[new Kb,new Kb];this.Eb=a.A.Eb;this.Fb=this.Hc=this.j=this.nc=this.l=this.D=0;this.oc=1;this.be=5;this.mc=!1;this.g=new ArrayBuffer(65536);this.ba=new Int8Array(this.g);this.C=new Uint8Array(this.g);this.Z=new Int16Array(this.g);this.fa=new Uint16Array(this.g);this.Wa=new Bb(this.g);this.pc=this.s=
!1;this.wb=22050;b.send("dac-tell-sampling-rate",this.wb);this.h=1;this.N=170;this.M=0;this.Xd=new Uint8Array(256);this.G=new Jb(64);this.U=this.S=this.eb=0;this.rj=!1;this.ka=5;this.fe=new Uint8Array(16);a.B.ve(544,this,this.Wh,this.Yh,this.Kj,this.Mj);a.B.ve(904,this,this.Wh,this.Yh);a.B.ve(548,this,this.Oj,this.Qj);Q(a.B,550,this,this.Sj);Q(a.B,551,this,this.Uj);Q(a.B,552,this,this.Wj);Q(a.B,553,this,this.Yj);Q(a.B,554,this,this.$j);Q(a.B,555,this,this.bk);Q(a.B,556,this,this.dk);Q(a.B,557,this,
this.fk);a.B.ve(558,this,this.hk,this.jk);a.B.ad(544,this,this.Xh,this.Zh,this.Lj,this.Nj);a.B.ad(904,this,this.Xh,this.Zh);a.B.ad(548,this,this.Pj,this.Rj);S(a.B,550,this,this.Tj);S(a.B,551,this,this.Vj);a.B.ad(552,this,this.Xj,this.Zj);S(a.B,554,this,this.ak);S(a.B,555,this,this.ck);S(a.B,556,this,this.ek);S(a.B,557,this,this.gk);S(a.B,558,this,this.ik);S(a.B,559,this,this.kk);a.B.ve(816,this,this.Ok,this.Qk);a.B.ad(816,this,this.Pk,this.Rk);this.Eb.vg.push({cg:this.va,ah:this});b.register("dac-request-data",
function(){!this.nc||this.pc?Zd(this):$d(this)},this);b.register("speaker-has-initialized",function(){Yd(this)},this);b.send("speaker-confirm-initialized");ae(this)}function ae(a){a.Qa.clear();a.pa.clear();a.Sb=0;a.o=0;a.Oe=!1;a.Kf=0;a.Ic=!1;a.ce=!1;a.Ub=!1;a.Vb=!1;a.kc[0].clear();a.kc[1].clear();a.D=0;a.l=0;a.nc=0;a.j=0;a.Hc=0;a.Fb=0;a.mc=!1;a.C.fill(0);a.s=!1;a.pc=!1;a.N=170;a.M=0;a.wb=22050;a.h=1;be(a,1);a.fe.fill(0);a.Xd.fill(0);a.Xd[5]=1;a.Xd[9]=248}p=Td.prototype;
p.ha=function(){var a=[];a[2]=this.L;a[3]=this.Sb;a[4]=this.o;a[5]=this.i;a[6]=this.R;a[7]=this.Oe;a[8]=this.Kf;a[9]=this.Ic;a[10]=this.ce;a[11]=this.Ub;a[12]=this.Vb;a[15]=this.D;a[16]=this.l;a[17]=this.nc;a[18]=this.j;a[19]=this.Hc;a[20]=this.Fb;a[21]=this.oc;a[22]=this.be;a[23]=this.mc;a[24]=this.C;a[25]=this.s;a[26]=this.pc;a[27]=this.wb;a[28]=this.h;a[29]=this.N;a[30]=this.M;a[31]=this.Xd;a[33]=this.kb;a[34]=this.ka;a[35]=this.fe;return a};
p.H=function(a){this.L=a[2];this.Sb=a[3];this.o=a[4];this.i=a[5];this.R=a[6];ce(this);this.Oe=a[7];this.Kf=a[8];this.Ic=a[9];this.ce=a[10];this.Ub=a[11];this.Vb=a[12];this.D=a[15];this.l=a[16];this.nc=a[17];this.j=a[18];this.Hc=a[19];this.Fb=a[20];this.oc=a[21];this.be=a[22];this.mc=a[23];this.C=a[24];this.s=a[25];this.pc=a[26];this.wb=a[27];this.h=a[28];this.N=a[29];this.M=a[30];this.Xd=a[31];this.kb=a[33];this.ka=a[34];this.fe=a[35];this.g=this.C.buffer;this.ba=new Int8Array(this.g);this.Z=new Int16Array(this.g);
this.fa=new Uint16Array(this.g);this.Wa=new Bb(this.g);this.pc?this.v.send("dac-disable"):this.v.send("dac-enable")};p.Wh=function(){return 255};p.Yh=function(){return 255};p.Kj=function(){return 255};p.Mj=function(){return 255};p.Oj=function(){return this.i};p.Qj=function(){var a=this.i,b=Pd[a];return b?b.call(this):this.R[a]};p.Sj=function(){return 255};p.Uj=function(){return 255};p.Wj=function(){return 255};p.Yj=function(){return 255};p.$j=function(){this.pa.length&&(this.L=this.pa.shift());return this.L};
p.bk=function(){return 255};p.dk=function(){return 127};p.fk=function(){return 255};p.hk=function(){this.fe[1]&&be(this,1);return(this.pa.length&&!this.Ic)<<7|127};p.jk=function(){be(this,2);return 0};p.Xh=function(){this.S=0};p.Zh=function(a){var b=Sd[this.S];b||(b=this.V);b.call(this,a,0,this.S)};p.Lj=function(){this.U=0};p.Nj=function(a){var b=Sd[this.U];b||(b=this.V);b.call(this,a,1,this.U)};p.Pj=function(a){this.i=a};p.Rj=function(a){de(this,this.i,a)};
p.Tj=function(a){this.Ic?this.Ic=!1:a&&ae(this);this.pa.clear();this.pa.push(170)};p.Vj=function(){};p.Xj=function(){};p.Zj=function(){};p.ak=function(){};p.ck=function(){};p.ek=function(a){0===this.Sb?(this.Sb=a,this.Qa.clear(),this.o=Nd[a]):this.Qa.push(a);this.Qa.length>=this.o&&(a=Od[this.Sb],a||(a=this.th),a.call(this),this.o=this.Sb=0,this.Qa.clear())};p.gk=function(){};p.ik=function(){};p.kk=function(){};p.Ok=function(){this.G.length&&(this.eb=this.G.shift());return this.eb};p.Pk=function(){};
p.Qk=function(){return 0|128*!this.G.length};p.Rk=function(a){255===a&&(this.G.clear(),this.G.push(254))};p.th=function(){};function W(a,b,c){c||(c=Td.prototype.th);for(var d=0;d<a.length;d++)Nd[a[d]]=b,Od[a[d]]=c}function ee(a){for(var b=[],c=0;16>c;c++)b.push(a+c);return b}W([14],2,function(){this.Xd[this.Qa.shift()]=this.Qa.shift()});W([15],1,function(){this.pa.clear();this.pa.push(this.Xd[this.Qa.shift()])});
W([16],1,function(){var a=this.Qa.shift();a=fe(a/127.5+-1);this.kc[0].push(a);this.kc[1].push(a);this.v.send("dac-enable")});W([20,21],2,function(){this.Hc=1;this.Fb=this.oc;this.Ic=this.Ub=this.Vb=this.mc=!1;ge(this);he(this)});W([22],2);W([23],2);W([28],0,function(){this.Hc=1;this.Fb=this.oc;this.mc=!0;this.Ic=this.Ub=this.Vb=!1;he(this)});W([31],0);W([32],0,function(){this.pa.clear();this.pa.push(127)});W([36],2);W([44],0);W([48],0);W([49],0);W([52],0);W([53],0);W([54],0);W([55],0);W([56],0);
W([64],1,function(){ie(this,1E6/(256-this.Qa.shift())/(this.ce?2:1))});W([65,66],2,function(){ie(this,this.Qa.shift()<<8|this.Qa.shift())});W([72],2,function(){ge(this)});W([116],2);W([117],2);W([118],2);W([119],2);W([125],0);W([127],0);W([128],2);W([144],0,function(){this.Hc=1;this.Fb=this.oc;this.mc=!0;this.Vb=!1;this.Ic=!0;this.Ub=!1;he(this)});W([145],0);W([152],0);W([153],0);W([160],0);W([168],0);
W(ee(176),3,function(){if(!(this.Sb&8)){var a=this.Qa.shift();this.Hc=2;this.Fb=this.be;this.mc=!!(this.Sb&4);this.Vb=!!(a&16);this.ce=!!(a&32);this.Ub=!0;ge(this);he(this)}});W(ee(192),3,function(){if(!(this.Sb&8)){var a=this.Qa.shift();this.Hc=1;this.Fb=this.oc;this.mc=!!(this.Sb&4);this.Vb=!!(a&16);this.ce=!!(a&32);this.Ub=!1;ge(this);he(this)}});W([208],0,function(){this.pc=!0;this.v.send("dac-disable")});W([209],0,function(){this.Oe=!0});W([211],0,function(){this.Oe=!1});
W([212],0,function(){this.pc=!1;this.v.send("dac-enable")});W([213],0,function(){this.pc=!0;this.v.send("dac-disable")});W([214],0,function(){this.pc=!1;this.v.send("dac-enable")});W([216],0,function(){this.pa.clear();this.pa.push(255*this.Oe)});W([217,218],0,function(){this.mc=!1});W([224],1,function(){this.pa.clear();this.pa.push(~this.Qa.shift())});W([225],0,function(){this.pa.clear();this.pa.push(4);this.pa.push(5)});W([226],1);
W([227],0,function(){this.pa.clear();for(var a=0;44>a;a++)this.pa.push("COPYRIGHT (C) CREATIVE TECHNOLOGY LTD, 1992.".charCodeAt(a));this.pa.push(0)});W([228],1,function(){this.Kf=this.Qa.shift()});W([232],0,function(){this.pa.clear();this.pa.push(this.Kf)});W([242,243],0,function(){this.Ta()});var je=new Uint8Array(256);je[14]=255;je[15]=7;je[55]=56;W([249],1,function(){var a=this.Qa.shift();this.pa.clear();this.pa.push(je[a])});function de(a,b,c){(b=Qd[b])&&b.call(a,c)}Td.prototype.cb=function(){return this.R[this.i]};
Td.prototype.fb=function(a){this.R[this.i]=a};function Yd(a){a.R[4]=204;a.R[34]=204;a.R[38]=204;a.R[40]=0;a.R[46]=0;a.R[10]=0;a.R[48]=192;a.R[49]=192;a.R[50]=192;a.R[51]=192;a.R[52]=192;a.R[53]=192;a.R[54]=0;a.R[55]=0;a.R[56]=0;a.R[57]=0;a.R[59]=0;a.R[60]=31;a.R[61]=21;a.R[62]=11;a.R[63]=0;a.R[64]=0;a.R[65]=0;a.R[66]=0;a.R[67]=0;a.R[68]=128;a.R[69]=128;a.R[70]=128;a.R[71]=128;ce(a)}function ce(a){for(var b=1;b<a.R.length;b++)Rd[b]||de(a,b,a.R[b])}function ke(a,b){b||(b=Td.prototype.cb);Pd[a]=b}
function le(a,b){b||(b=Td.prototype.fb);Qd[a]=b}function me(a,b,c){Rd[a]=1;Pd[a]=function(){return this.R[b]&240|this.R[c]>>>4};Qd[a]=function(d){this.R[a]=d;var e=d<<4&240|this.R[c]&15;de(this,b,d&240|this.R[b]&15);de(this,c,e)}}function ne(a,b,c){Pd[a]=Td.prototype.cb;Qd[a]=function(d){this.R[a]=d;this.v.send("mixer-volume",[b,c,(d>>>2)-62])}}ke(0,function(){Yd(this);return 0});le(0);me(4,50,51);me(34,48,49);me(38,52,53);me(40,54,55);me(46,56,57);ne(48,0,0);ne(49,0,1);ne(50,2,0);ne(51,2,1);ke(59);
le(59,function(a){this.R[59]=a;this.v.send("mixer-volume",[1,2,6*(a>>>6)-18])});ke(65);le(65,function(a){this.R[65]=a;this.v.send("mixer-gain-left",6*(a>>>6))});ke(66);le(66,function(a){this.R[66]=a;this.v.send("mixer-gain-right",6*(a>>>6))});ke(68);le(68,function(a){this.R[68]=a;a>>>=3;this.v.send("mixer-treble-left",a-(16>a?14:16))});ke(69);le(69,function(a){this.R[69]=a;a>>>=3;this.v.send("mixer-treble-right",a-(16>a?14:16))});ke(70);
le(70,function(a){this.R[70]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});ke(71);le(71,function(a){this.R[71]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});ke(128,function(){switch(this.ka){case 2:return 1;case 5:return 2;case 7:return 4;case 10:return 8;default:return 0}});le(128,function(a){a&1&&(this.ka=2);a&2&&(this.ka=5);a&4&&(this.ka=7);a&8&&(this.ka=10)});
ke(129,function(){var a=0;switch(this.oc){case 0:a|=1;break;case 1:a|=2;break;case 3:a|=8}switch(this.be){case 5:a|=32;break;case 6:a|=64;break;case 7:a|=128}return a});le(129,function(a){a&1&&(this.oc=0);a&2&&(this.oc=1);a&8&&(this.oc=3);a&32&&(this.be=5);a&64&&(this.be=6);a&128&&(this.be=7)});ke(130,function(){for(var a=32,b=0;16>b;b++)a|=b*this.fe[b];return a});Td.prototype.V=function(){};function oe(a,b){b||(b=Td.prototype.V);for(var c=0;c<a.length;c++)Sd[a[c]]=b}
function pe(a,b){for(var c=[];a<=b;a++)c.push(a);return c}var qe=new Uint8Array(32);qe[0]=0;qe[1]=1;qe[2]=2;qe[3]=3;qe[4]=4;qe[5]=5;qe[8]=6;qe[9]=7;qe[10]=8;qe[11]=9;qe[12]=10;qe[13]=11;qe[16]=12;qe[17]=13;qe[18]=14;qe[19]=15;qe[20]=16;qe[21]=17;oe([1],function(a,b){this.rj[b]=a&1});oe([2]);oe([3]);oe([4],function(){});oe([5],function(){});oe([8],function(){});oe(pe(32,53),function(){});oe(pe(64,85),function(){});oe(pe(96,117),function(){});oe(pe(128,149),function(){});oe(pe(160,168),function(){});
oe(pe(176,184),function(){});oe([189],function(){});oe(pe(192,200),function(){});oe(pe(224,245),function(){});function ie(a,b){a.wb=b;a.v.send("dac-tell-sampling-rate",b)}function ge(a){a.D=1+(a.Qa.shift()<<0)+(a.Qa.shift()<<8)}function he(a){a.h=1;a.Ub&&(a.h*=2);a.l=a.D*a.h;a.j=1024*a.h;a.j=Math.min(Math.max(a.l>>2&-4,32),a.j);a.s=!0;a.Eb.Fc[a.Fb]||a.va(a.Fb)}Td.prototype.va=function(a){a===this.Fb&&this.s&&(this.s=!1,this.nc=this.l,this.pc=!1,this.v.send("dac-enable"))};
function $d(a){var b=Math.min(a.nc,a.j),c=Math.floor(b/a.h);a.Eb.mf(a.Wa,0,b,a.Fb,d=>{if(!d){d=a.Ub?32767.5:127.5;var e=a.Vb?0:-1,f=a.ce?1:2,g;a.Ub?g=a.Vb?a.Z:a.fa:g=a.Vb?a.ba:a.C;for(var h=0,k=0;k<c;k++)for(var l=fe(g[k]/d+e),n=0;n<f;n++)a.kc[h].push(l),h^=1;Zd(a);a.nc-=b;a.nc||(a.Ta(a.Hc),a.mc&&(a.nc=a.l))}})}function Zd(a){if(a.kc[0].length){var b=Lb(a.kc[0],a.kc[0].length),c=Lb(a.kc[1],a.kc[1].length);a.v.send("dac-send-data",[b,c],[b.buffer,c.buffer])}}
Td.prototype.Ta=function(a){this.fe[a]=1;this.u.Xa(this.ka)};function be(a,b){a.fe[b]=0;Sb(a.u,a.ka)}function fe(a){return-1*(-1>a)+1*(1<a)+(-1<=a&&1>=a)*a};function fa(a,b){this.u=a;this.$a=a.A.$a;this.Ne=b.Ne;this.O=[244,26,b.Ne&255,b.Ne>>8,7,5,16,0,1,0,2,0,0,0,0,0,1,168,0,0,0,16,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,b.rg&255,b.rg>>8,0,0,0,0,64,0,0,0,0,0,0,0,0,1,0,0];this.O=this.O.concat(Array(256-this.O.length).fill(0));this.Oa=b.Oa;this.Lb=[];this.name=b.name;this.i=this.s=0;this.o=new Uint32Array(4);this.h=new Uint32Array(4);for(var c of b.Ke.features)this.o[c>>>5]|=1<<(c&31),this.h[c>>>5]|=1<<(c&31);b.Ke.features.includes(32);this.C=
!0;this.j=0;this.G=!1;this.D=0;this.aa=[];for(var d of b.Ke.aa)this.aa.push(new re(a,this,d));this.l=0;this.g=this.aa[0];this.Xb=0;c=[];c.push(se(this,b.Ke));c.push(te(b.notification));c.push(ue(this,b.Xb));b.Xf&&(d=c.push,b=b.Xf,b={type:4,Je:3,port:b.ib,Mf:!1,offset:0,pf:new Uint8Array(0),dd:b.dd},d.call(c,b));ve(this,c);bc(a.A.$a,this);this.reset()}
function se(a,b){return{type:1,Je:0,port:b.ib,Mf:!1,offset:0,pf:new Uint8Array(0),dd:[{bytes:4,name:"device_feature_select",read:()=>a.s,write:c=>{a.s=c}},{bytes:4,name:"device_feature",read:()=>a.o[a.s]||0,write:()=>{}},{bytes:4,name:"driver_feature_select",read:()=>a.i,write:c=>{a.i=c}},{bytes:4,name:"driver_feature",read:()=>a.h[a.i]||0,write:c=>{const d=a.o[a.i];a.i<a.h.length&&(a.h[a.i]=c&d);a.C=a.C&&!(c&~d)}},{bytes:2,name:"msix_config",read:()=>65535,write:()=>{}},{bytes:2,name:"num_queues",
read:()=>a.aa.length,write:()=>{}},{bytes:1,name:"device_status",read:()=>a.j,write:c=>{0===c&&a.reset();c&~a.j&4&&a.j&64&&(a.G=!0,a.j&4&&a.Ta(2));a.C||(c&=-9);a.j=c}},{bytes:1,name:"config_generation",read:()=>a.D,write:()=>{}},{bytes:2,name:"queue_select",read:()=>a.l,write:c=>{a.l=c;a.l<a.aa.length?a.g=a.aa[a.l]:a.g=null}},{bytes:2,name:"queue_size",read:()=>a.g?a.g.size:0,write:c=>{if(a.g){c&c-1&&(c=1<<Ab(c-1)+1);c>a.g.bb&&(c=a.g.bb);var d=a.g;d.size=c;d.j=c-1}}},{bytes:2,name:"queue_msix_vector",
read:()=>65535,write:()=>{}},{bytes:2,name:"queue_enable",read:()=>a.g?a.g.enabled|0:0,write:c=>{a.g&&1===c&&we(a.g)&&(a.g.enabled=!0)}},{bytes:2,name:"queue_notify_off",read:()=>a.g?a.g.nb:0,write:()=>{}},{bytes:4,name:"queue_desc (low dword)",read:()=>a.g?a.g.o:0,write:c=>{a.g&&(a.g.o=c)}},{bytes:4,name:"queue_desc (high dword)",read:()=>0,write:()=>{}},{bytes:4,name:"queue_avail (low dword)",read:()=>a.g?a.g.g:0,write:c=>{a.g&&(a.g.g=c)}},{bytes:4,name:"queue_avail (high dword)",read:()=>0,write:()=>
{}},{bytes:4,name:"queue_used (low dword)",read:()=>a.g?a.g.h:0,write:c=>{a.g&&(a.g.h=c)}},{bytes:4,name:"queue_used (high dword)",read:()=>0,write:()=>{}}]}}function te(a){const b=[];let c;c=a.$g?0:2;for(const [d,e]of a.Fg.entries())b.push({bytes:2,name:"notify"+d,read:()=>65535,write:e||(()=>{})});return{type:2,Je:1,port:a.ib,Mf:!1,offset:0,pf:new Uint8Array([c&255,c>>8&255,c>>16&255,c>>24]),dd:b}}
function ue(a,b){return{type:3,Je:2,port:b.ib,Mf:!1,offset:0,pf:new Uint8Array(0),dd:[{bytes:1,name:"isr_status",read:()=>{const c=a.Xb;a.Xb=0;vc(a.$a,a.Oa);return c},write:()=>{}}]}}
function ve(a,b){let c=a.O[52]=64;var d=c;for(const f of b){b=16+f.pf.length;d=c;c=d+b;var e=f.dd.reduce((g,h)=>g+h.bytes,0);e+=f.offset;e=16>e?16:1<<Ab(e-1)+1;a.Lb[f.Je]={size:e};a.O[d]=9;a.O[d+1]=c;a.O[d+2]=b;a.O[d+3]=f.type;a.O[d+4]=f.Je;a.O[d+5]=0;a.O[d+6]=0;a.O[d+7]=0;a.O[d+8]=f.offset&255;a.O[d+9]=f.offset>>>8&255;a.O[d+10]=f.offset>>>16&255;a.O[d+11]=f.offset>>>24;a.O[d+12]=e&255;a.O[d+13]=e>>>8&255;a.O[d+14]=e>>>16&255;a.O[d+15]=e>>>24;for(const [g,h]of f.pf.entries())a.O[d+16+g]=h;d=16+4*
f.Je;a.O[d]=f.port&254|!f.Mf;a.O[d+1]=f.port>>>8&255;a.O[d+2]=f.port>>>16&255;a.O[d+3]=f.port>>>24&255;d=f.port+f.offset;for(const g of f.dd){let h=g.read;b=g.write;if(!f.Mf){e=function(l){return h(l&-2)>>((l&1)<<3)&255};const k=function(l){return h(l&-4)>>((l&3)<<3)&255};switch(g.bytes){case 4:Q(a.u.B,d,a,k,void 0,h);S(a.u.B,d,a,void 0,void 0,b);break;case 2:Q(a.u.B,d,a,e,h);S(a.u.B,d,a,void 0,b);break;case 1:Q(a.u.B,d,a,h),S(a.u.B,d,a,b)}}d+=g.bytes}}a.O[c]=9;a.O[c+1]=0;a.O[c+2]=20;a.O[c+3]=5;a.O[c+
4]=0;a.O[c+5]=0;a.O[c+6]=0;a.O[c+7]=0;a.O[c+8]=0;a.O[c+9]=0;a.O[c+10]=0;a.O[c+11]=0;a.O[c+12]=0;a.O[c+13]=0;a.O[c+14]=0;a.O[c+15]=0;a.O[c+16]=0;a.O[c+17]=0;a.O[c+18]=0;a.O[c+19]=0}fa.prototype.ha=function(){let a=[];a[0]=this.s;a[1]=this.i;a[2]=this.o;a[3]=this.h;a[4]=this.C;a[5]=this.j;a[6]=this.G;a[7]=this.D;a[8]=this.Xb;a[9]=this.l;return a=a.concat(this.aa)};
fa.prototype.H=function(a){this.s=a[0];this.i=a[1];this.o=a[2];this.h=a[3];this.C=a[4];this.j=a[5];this.G=a[6];this.D=a[7];this.Xb=a[8];this.l=a[9];let b=0;for(const c of a.slice(10))this.aa[b].H(c),b++;this.g=this.aa[this.l]||null};fa.prototype.reset=function(){this.i=this.s=0;this.h.set(this.o);this.C=!0;this.l=this.j=0;this.g=this.aa[0];for(const a of this.aa)a.reset();this.G=!1;this.Xb=this.D=0;vc(this.$a,this.Oa)};fa.prototype.Ta=function(a){this.Xb|=a;this.$a.Ta(this.Oa)};
function re(a,b,c){this.u=a;this.X=b;this.bb=this.size=c.bb;this.j=this.size-1;this.enabled=!1;this.nb=c.nb;this.l=this.h=this.i=this.g=this.o=0;this.reset()}re.prototype.ha=function(){const a=[];a[0]=this.size;a[1]=this.bb;a[2]=this.enabled;a[3]=this.nb;a[4]=this.o;a[5]=this.g;a[6]=this.i;a[7]=this.h;a[8]=this.l;return a};re.prototype.H=function(a){this.size=a[0];this.bb=a[1];this.enabled=a[2];this.nb=a[3];this.o=a[4];this.g=a[5];this.i=a[6];this.h=a[7];this.l=a[8];this.j=this.size-1};
re.prototype.reset=function(){this.enabled=!1;this.l=this.h=this.i=this.g=this.o=0;var a=this.bb;this.size=a;this.j=a-1};function we(a){return a.o&&a.g&&a.h}function xe(a){return a.u.ab(a.g+2)-a.i&a.j}function ha(a){return(a.u.ab(a.g+2)&a.j)!==a.i}function ia(a){ha(a);var b=a.u.ab(a.g+4+2*a.i);b=new ye(a,b);a.i=a.i+1&a.j;return b}function na(a,b){const c=a.u.ab(a.h+2)+a.l&a.j;var d=b.i;a.u.Aa(a.h+4+8*c,b.C);a.u.Aa(a.h+8+8*c,d);a.l++}
function oa(a){if(0!==a.l){var b=a.u.ab(a.h+2)+a.l&65535;a.u.Qf(a.h+2,b);a.l=0;0<(a.X.h[0]&536870912)?(a.u.ab(a.g+4+2*a.size),a.X.Ta(1)):~a.u.ab(a.g)&1&&a.X.Ta(1)}}
function ye(a,b){this.u=a.u;this.X=a.X;this.C=b;this.l=[];this.he=this.g=this.j=0;this.s=[];this.i=this.h=this.o=0;let c=a.o;var d=b;b=0;let e=a.size,f=!1;const g=0<(this.X.h[0]&268435456);do{var h=a,k=c;h={xg:h.u.h(k+16*d),wl:h.u.h(k+16*d+4),Te:h.u.h(k+16*d+8),flags:h.u.ab(k+16*d+12),next:h.u.ab(k+16*d+14)};if(g&&h.flags&4)c=h.xg,b=d=0,e=h.Te/16;else{if(h.flags&2)f=!0,this.s.push(h);else{if(f)break;this.l.push(h);this.he+=h.Te}b++;if(b>e)break;if(h.flags&1)d=h.next;else break}}while(1)}
function pa(a,b){let c=0,d=b.length;for(;d&&a.j!==a.l.length;){var e=a.l[a.j],f=e.xg+a.g;let l=e.Te-a.g;l>d?(l=d,a.g+=d):(a.j++,a.g=0);e=b;var g=e.set,h=a.u,k=l;k&&(h.eg(f),h.eg(f+k-1));g.call(e,h.jb.subarray(f,f+k),c);c+=l;d-=l}}function ma(a,b){let c=0,d=b.length;for(;d&&a.o!==a.s.length;){var e=a.s[a.o];const f=e.xg+a.h;e=e.Te-a.h;e>d?(e=d,a.h+=d):(a.o++,a.h=0);mc(a.u,b.subarray(c,c+e),f);c+=e;d-=e}a.i+=c};function ze(a,b){this.v=b;this.rows=25;this.cols=80;this.ports=4;b=[{bb:16,nb:0},{bb:16,nb:1},{bb:16,nb:2},{bb:16,nb:3}];for(let c=1;c<this.ports;++c)b.push({bb:16,nb:0}),b.push({bb:8,nb:1});this.X=new fa(a,{name:"virtio-console",Oa:56,Ne:4163,rg:3,Ke:{ib:47104,aa:b,features:[0,1,32],Kh:()=>{}},notification:{ib:47360,$g:!1,Fg:[c=>{for(c=this.X.aa[c];xe(c)>c.size-2;)ia(c)},c=>{const d=this.X.aa[c],e=3<c?c-3>>1:0;for(;ha(d);){const f=ia(d),g=new Uint8Array(f.he);pa(f,g);this.v.send("virtio-console"+
e+"-output-bytes",g);Ae(this,c,f)}},c=>{if(2===c)for(c=this.X.aa[c];xe(c)>c.size-2;)ia(c)},c=>{if(3===c)for(var d=this.X.aa[c];ha(d);){var e=ia(d),f=new Uint8Array(e.he);pa(e,f);var g=I(["w","h","h"],f,{offset:0});f=g[0];g=g[1];Ae(this,c,e);switch(g){case 0:for(f=0;f<this.ports;++f)Be(this,f,1,0);break;case 3:Ae(this,c,e);Be(this,f,4,1);g=f;var h="virtio-"+f;e=ia(this.X.aa[2]);h=(new TextEncoder).encode(h);const k=new Uint8Array(h.length+9);w(["w","h","h"],[g,7,1],k,0);for(g=0;g<h.length;++g)k[g+
8]=h[g];k[8+h.length]=0;this.ed(2,e,k);Be(this,f,6,1);break;case 6:Ae(this,c,e);0===f&&Ce(this,f);break;default:return}}}]},Xb:{ib:46848},Xf:{ib:46592,dd:[{bytes:2,name:"cols",read:()=>this.cols,write:()=>{}},{bytes:2,name:"rows",read:()=>this.rows,write:()=>{}},{bytes:4,name:"max_nr_ports",read:()=>this.ports,write:()=>{}},{bytes:4,name:"emerg_wr",read:()=>0,write:()=>{}}]}});for(let c=0;c<this.ports;++c){const d=0===c?0:2*c+2;this.v.register("virtio-console"+c+"-input-bytes",function(e){var f=this.X.aa[d];
ha(f)&&(f=ia(f),this.ed(d,f,new Uint8Array(e)))},this);this.v.register("virtio-console"+c+"-resize",function(e){this.cols=e[0];this.rows=e[1];we(this.X.aa[2])&&ha(this.X.aa[2])&&Ce(this,c)},this)}}function Ce(a,b){const c=ia(a.X.aa[2]),d=new Uint8Array(12);w(["w","h","h","h","h"],[b,5,0,a.rows,a.cols],d,0);a.ed(2,c,d)}ze.prototype.ha=function(){const a=[];a[0]=this.X;a[1]=this.rows;a[2]=this.cols;a[3]=this.ports;return a};
ze.prototype.H=function(a){this.X.H(a[0]);this.rows=a[1];this.cols=a[2];this.ports=a[3]};ze.prototype.reset=function(){this.X.reset()};function Be(a,b,c,d){const e=ia(a.X.aa[2]),f=new Uint8Array(8);w(["w","h","h"],[b,c,d],f,0);a.ed(2,e,f)}ze.prototype.ed=function(a,b,c){ma(b,c);na(this.X.aa[a],b);oa(this.X.aa[a])};function Ae(a,b,c){ma(c,new Uint8Array(0));na(a.X.aa[b],c);oa(a.X.aa[b])};function De(a,b,c){this.v=b;this.id=a.A.la?1:0;this.status=1;this.se=c;this.ja=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);this.v.send("net"+this.id+"-mac",Hd(this.ja));b=[];for(c=0;1>c;++c)b.push({bb:32,nb:0}),b.push({bb:32,nb:1});b.push({bb:16,nb:2});this.X=new fa(a,{name:"virtio-net",Oa:80,Ne:4161,rg:1,Ke:{ib:51200,aa:b,features:[5,16,22,3,17,23,32],Kh:()=>{}},notification:{ib:51456,$g:!1,Fg:[d=>{d=this.X.aa[d];var e=d.u.ab(d.g+4+2*d.i);e=new ye(d,e);d.i=
d.i+1&d.j;na(this.X.aa[0],e);oa(this.X.aa[0])},d=>{const e=this.X.aa[d];for(;ha(e);){const f=ia(e),g=new Uint8Array(f.he);pa(f,g);this.v.send("net"+this.id+"-send",g.subarray(12));this.v.send("eth-transmit-end",[g.length-12]);na(this.X.aa[d],f)}oa(this.X.aa[d])},d=>{if(2===d)for(var e=this.X.aa[d];ha(e);){const f=ia(e),g=new Uint8Array(f.he);pa(f,g);const h=I(["b","b"],g,{offset:0});switch(h[0]<<8|h[1]){case 1024:I(["h"],g,{offset:2});this.ed(d,f,new Uint8Array([0]));break;case 257:this.ja=g.subarray(2,
8);this.ed(d,f,new Uint8Array([0]));this.v.send("net"+this.id+"-mac",Hd(this.ja));break;default:this.ed(d,f,new Uint8Array([1]));return}}}]},Xb:{ib:50944},Xf:{ib:50688,dd:[0,1,2,3,4,5].map((d,e)=>({bytes:1,name:"mac_"+e,read:()=>this.ja[e],write:()=>{}})).concat([{bytes:2,name:"status",read:()=>this.status,write:()=>{}},{bytes:2,name:"max_pairs",read:()=>1,write:()=>{}},{bytes:2,name:"mtu",read:()=>1500,write:()=>{}}])}});this.v.register("net"+this.id+"-receive",d=>{this.v.send("eth-receive-end",
[d.length]);const e=new Uint8Array(12+d.byteLength);(new DataView(e.buffer,e.byteOffset,e.byteLength)).setInt16(10,1);e.set(d,12);d=this.X.aa[0];ha(d)?(d=ia(d),ma(d,e),na(this.X.aa[0],d),oa(this.X.aa[0])):console.log("No buffer to write into!")},this)}De.prototype.ha=function(){const a=[];a[0]=this.X;a[1]=this.id;this.se&&(this.ja=a[2],this.v.send("net"+this.id+"-mac",Hd(this.ja)));return a};De.prototype.H=function(a){this.X.H(a[0])};De.prototype.reset=function(){this.X.reset()};
De.prototype.ed=function(a,b,c){ma(b,c);na(this.X.aa[a],b);oa(this.X.aa[a])};function Ee(){this.wf={};this.g=void 0}Ee.prototype.register=function(a,b,c){var d=this.wf[a];void 0===d&&(d=this.wf[a]=[]);d.push({cg:b,ah:c})};Ee.prototype.unregister=function(a,b){var c=this.wf[a];void 0!==c&&(this.wf[a]=c.filter(function(d){return d.cg!==b}))};Ee.prototype.send=function(a,b){if(this.g&&(a=this.g.wf[a],void 0!==a))for(var c=0;c<a.length;c++){var d=a[c];d.cg.call(d.ah,b)}};function Fe(){var a=new Ee,b=new Ee;a.g=b;b.g=a;return[a,b]};function Ge(){};function ub(a,b,c){this.Fi=c;this.Ja=b;He(this);b=Object.create(null);b.m=this.Ja.exports.memory;for(var d of Object.keys(this.Ja.exports))d.startsWith("_")||d.startsWith("zstd")||d.endsWith("_js")||(b[d]=this.Ja.exports[d]);this.Md=b;this.Ia=d=this.Ja.exports.memory;this.F=U(Uint32Array,d,812,1);this.jb=new Uint8Array(0);this.uc=new Int32Array(this.jb.buffer);this.s=U(Uint8Array,d,724,8);this.cb=U(Int32Array,d,736,8);this.Wa=U(Uint32Array,d,768,8);this.o=U(Uint8Array,d,512,8);this.fa=U(Int32Array,
d,800,1);this.fc=U(Int32Array,d,564,1);this.dc=U(Int32Array,d,568,1);this.Qb=U(Int32Array,d,572,1);this.Pb=U(Int32Array,d,576,1);this.$c=U(Int32Array,d,1128,1);this.Kc=U(Uint32Array,d,540,8);this.gb=U(Int32Array,d,580,8);this.xb=U(Uint8Array,d,612,1);this.Z=U(Int32Array,d,804,1);this.fb=U(Int32Array,d,808,1);this.hc=U(Uint8Array,d,616,1);this.sc=U(Int32Array,d,620,1);this.zb=U(Int32Array,d,624,1);this.Wc=U(Int32Array,d,636,1);this.Zc=U(Int32Array,d,640,1);this.Xc=U(Int32Array,d,644,1);this.Mc=U(Int32Array,
d,648,1);this.flags=U(Int32Array,d,120,1);this.Ab=U(Int32Array,d,100,1);this.qc=U(Int32Array,d,96,1);this.jc=U(Int32Array,d,104,1);U(Int32Array,d,112,1);this.Ed=U(Uint32Array,d,960,2);this.A={};this.V=U(Int32Array,d,556,1);this.Qc=U(Int32Array,d,560,1);U(Uint8Array,d,548,1);this.kb=U(Uint8Array,d,552,1);this.g=[];this.j=[];this.ba=[];this.i=[];this.sb={Ig:null,Fd:null};this.yj=U(Uint32Array,d,664,1);this.l=U(Int32Array,d,64,8);this.Bb=U(Int32Array,d,1152,32);this.S=U(Uint8Array,d,816,1);this.S[0]=
255;this.U=U(Uint8Array,d,1032,1);this.U[0]=0;this.C=U(Uint16Array,d,1036,1);this.C[0]=895;this.Hd=U(Uint16Array,d,1040,1);this.Hd[0]=0;this.L=U(Int32Array,d,1048,1);this.L[0]=0;this.M=U(Int32Array,d,1052,1);this.M[0]=0;this.N=U(Int32Array,d,1044,1);this.N[0]=0;this.D=U(Int32Array,d,1056,1);this.D[0]=0;this.G=U(Int32Array,d,1060,1);this.G[0]=0;this.Sc=U(Int32Array,d,832,32);U(Int32Array,d,824,1);this.eb=U(Uint16Array,d,668,8);this.yb=U(Int32Array,d,684,8);this.Rc=U(Int32Array,d,968,8);this.Ki=U(Uint32Array,
d,716,1);this.Ji=U(Uint32Array,d,720,1);this.ub=[];this.Eg=0;this.sd=[];this.B=void 0;this.v=a;this.Tc(0,0);Ie(this)}
function He(a){const b=c=>{const d=a.Ja.exports[c];console.assert(d,"Missing import: "+c);return d};a.va=b("reset_cpu");b("getiopl");b("get_eflags");a.Kd=b("handle_irqs");a.Nd=b("main_loop");a.Rf=b("set_jit_config");a.ue=b("read8");a.ab=b("read16");a.h=b("read32s");a.wg=b("write8");a.Qf=b("write16");a.Aa=b("write32");a.eg=b("in_mapped_range");b("fpu_load_tag_word");b("fpu_load_status_word");b("fpu_get_sti_f64");b("translate_address_system_read_js");a.Jd=b("get_seg_cs");b("get_real_eip");b("clear_tlb");
a.Id=b("full_clear_tlb");a.bd=b("update_state_flags");a.Tc=b("set_tsc");a.Gi=b("store_current_tsc");a.ff=b("set_cpuid_level");a.Pd=b("pic_set_irq");a.Od=b("pic_clear_irq");a.Ld=b("jit_clear_cache_js");a.zj=b("jit_dirty_cache");a.Dd=b("codegen_finalize_finished");a.Cd=b("allocate_memory");a.Mi=b("zero_memory");a.Ii=b("svga_allocate_memory");a.Hi=b("svga_allocate_dest_buffer");a.Li=b("svga_fill_pixel_buffer");a.Vc=b("svga_mark_dirty");a.Rb=b("get_pic_addr_master");a.Ob=b("get_pic_addr_slave");a.Ai=
b("zstd_create_ctx");a.Di=b("zstd_get_src_ptr");a.Ci=b("zstd_free_ctx");a.df=b("zstd_read");a.ef=b("zstd_read_free");a.Qd=b("port20_read");a.Sd=b("port21_read");a.De=b("portA0_read");a.Fe=b("portA1_read");a.Rd=b("port20_write");a.Td=b("port21_write");a.Ee=b("portA0_write");a.Ge=b("portA1_write");a.Ud=b("port4D0_read");a.Wd=b("port4D1_read");a.Vd=b("port4D0_write");a.Ce=b("port4D1_write")}
ub.prototype.ha=function(){var a=[];a[0]=this.F[0];a[1]=new Uint8Array([...this.s,...this.o]);a[2]=this.cb;a[3]=this.Wa;a[4]=this.fa[0];a[5]=this.dc[0];a[6]=this.fc[0];a[7]=this.Pb[0];a[8]=this.Qb[0];a[9]=this.Kc[0];a[10]=this.gb;a[11]=this.xb[0];a[13]=this.Z[0];a[16]=this.fb[0];a[17]=this.hc[0];a[18]=this.sc[0];a[19]=this.zb[0];a[22]=this.Wc[0];a[23]=this.Xc[0];a[24]=this.Zc[0];a[25]=this.Mc[0];a[26]=this.flags[0];a[27]=this.Ab[0];a[28]=this.jc[0];a[30]=this.qc[0];a[37]=this.V[0];a[38]=this.Qc[0];
a[39]=this.l;a[40]=this.eb;a[41]=this.yb;a[42]=this.Rc;this.Gi();a[43]=this.Ed;a[45]=this.A.Of;a[46]=this.A.He;a[47]=this.A.Ad;a[48]=this.A.$a;a[49]=this.A.Eb;a[50]=this.A.sa;a[52]=this.A.Fd;a[53]=this.A.Qg;a[54]=this.A.gh;a[55]=this.A.ee;a[56]=this.A.Y;a[57]=this.A.I;a[58]=this.A.mg;a[59]=this.A.la;var b=new Uint8Array(this.Ia.buffer,this.Rb(),13),c=new Uint8Array(this.Ia.buffer,this.Ob(),13),d=[],e=[];d[0]=b[0];d[1]=b[1];d[2]=b[2];d[3]=b[3];d[4]=b[4];d[5]=e;d[6]=b[6];d[7]=b[7];d[8]=b[8];d[9]=b[9];
d[10]=b[10];d[11]=b[11];d[12]=b[12];e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[3];e[4]=c[4];e[5]=null;e[6]=c[6];e[7]=c[7];e[8]=c[8];e[9]=c[9];e[10]=c[10];e[11]=c[11];e[12]=c[12];a[60]=d;a[61]=this.A.Ug;a[62]=this.ub;a[63]=this.A.nd;a[64]=this.$c[0];a[66]=this.Sc;a[67]=this.Bb;a[68]=this.S[0];a[69]=this.U[0];a[70]=this.C[0];a[71]=this.L[0];a[72]=this.M[0];a[73]=this.D[0];a[74]=this.G[0];a[75]=this.N[0];c=this.jb.length>>12;b=[];for(d=0;d<c;d++){e=d<<12;e=this.uc.subarray(e>>2,e+4096>>2);let h=!0;for(let k=
0;k<e.length;k++)if(0!==e[k]){h=!1;break}h||b.push(d)}c=new Mb(c);d=new Uint8Array(b.length<<12);for(const [h,k]of b.entries())c.set(k,1),b=k<<12,d.set(this.jb.subarray(b,b+4096),h<<12);const {Ej:f,Pi:g}={Pi:c,Ej:d};a[77]=f;a[78]=new Uint8Array(g.Wb());a[79]=this.A.af;a[80]=this.A.bf;a[81]=this.A.cf;a[82]=this.A.Gd;a[83]=this.A.Be;return a};
ub.prototype.H=function(a){this.F[0]=a[0];this.jb.length!==this.F[0]&&console.warn("Note: Memory size mismatch. we="+this.jb.length+" state="+this.F[0]);8===a[1].length?(this.s.set(a[1]),this.o.fill(242),this.o[1]=250):16===a[1].length&&(this.s.set(a[1].subarray(0,8)),this.o.set(a[1].subarray(8,16)));this.cb.set(a[2]);this.Wa.set(a[3]);this.fa[0]=a[4];this.dc[0]=a[5];this.fc[0]=a[6];this.Pb[0]=a[7];this.Qb[0]=a[8];this.Kc[0]=a[9];this.gb.set(a[10]);this.xb[0]=a[11];this.Z[0]=a[13];this.fb[0]=a[16];
this.hc[0]=a[17];this.sc[0]=a[18];this.zb[0]=a[19];this.Wc[0]=a[22];this.Xc[0]=a[23];this.Zc[0]=a[24];this.Mc[0]=a[25];this.flags[0]=a[26];this.Ab[0]=a[27];this.jc[0]=a[28];this.qc[0]=a[30];this.V[0]=a[37];this.Qc[0]=a[38];this.l.set(a[39]);this.eb.set(a[40]);this.yb.set(a[41]);a[42]&&this.Rc.set(a[42]);this.Tc(a[43][0],a[43][1]);this.A.Of&&this.A.Of.H(a[45]);this.A.He&&this.A.He.H(a[46]);this.A.Ad&&this.A.Ad.H(a[47]);this.A.$a&&this.A.$a.H(a[48]);this.A.Eb&&this.A.Eb.H(a[49]);this.A.sa&&this.A.sa.H(a[50]);
this.A.Fd&&this.A.Fd.H(a[52]);this.A.Qg&&this.A.Qg.H(a[53]);this.A.gh&&this.A.gh.H(a[54]);this.A.ee&&this.A.ee.H(a[55]);this.A.Y&&this.A.Y.H(a[56]);this.A.I&&this.A.I.H(a[57]);this.A.mg&&this.A.mg.H(a[58]);this.A.la&&this.A.la.H(a[59]);var b=a[60],c=new Uint8Array(this.Ia.buffer,this.Rb(),13),d=new Uint8Array(this.Ia.buffer,this.Ob(),13);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];var e=b[5];c[6]=b[6];c[7]=b[7];c[8]=b[8];c[9]=b[9];c[10]=b[10];c[11]=b[11];c[12]=b[12];d[0]=e[0];d[1]=e[1];d[2]=
e[2];d[3]=e[3];d[4]=e[4];d[6]=e[6];d[7]=e[7];d[8]=e[8];d[9]=e[9];d[10]=e[10];d[11]=e[11];d[12]=e[12];this.A.Ug&&this.A.Ug.H(a[61]);this.A.af&&this.A.af.H(a[79]);this.A.bf&&this.A.bf.H(a[80]);this.A.cf&&this.A.cf.H(a[81]);this.A.Gd&&this.A.Gd.H(a[82]);this.A.Be&&this.A.Be.H(a[83]);this.ub=a[62];this.A.nd&&this.A.nd.H(a[63]);this.$c[0]=a[64];this.Sc.set(a[66]);this.Bb.set(a[67]);this.S[0]=a[68];this.U[0]=a[69];this.C[0]=a[70];this.L[0]=a[71];this.M[0]=a[72];this.D[0]=a[73];this.G[0]=a[74];this.N[0]=
a[75];b=new Mb(a[78].buffer);a=a[77];this.Mi(this.F[0]);c=this.F[0]>>12;d=0;for(e=0;e<c;e++)if(b.get(e)){const f=d<<12;this.jb.set(a.subarray(f,f+4096),e<<12);d++}this.bd();this.Id();this.Ld()};function uc(a){a.va();a.ub=[];a.A.Of&&a.A.Of.reset();a.A.Gd&&a.A.Gd.reset();a.A.Be&&a.A.Be.reset();xb(a)}
function Je(a,b,c){b<c?b=c:0>(b|0)&&(b=Math.pow(2,31)-131072);b=(b-1|131071)+1|0;console.assert(0===a.F[0],"Expected uninitialised memory");a.F[0]=b;c=a.Cd(b);a.jb=U(Uint8Array,a.Ia,c,b);a.uc=U(Uint32Array,a.Ia,c,b>>2)}
ub.prototype.Hb=function(a,b){Je(this,a.F||67108864,a.Ib?67108864:1048576);a.lf&&this.Rf(0,1);a.jd&&this.ff(a.jd);this.kb[0]=+a.sa;this.va();var c=new pb(this);this.B=c;this.sb.Ig=a.sb;this.sb.Fd=a.Nf;xb(this);if(a.tb){const e=Ke(this.jb,a.tb,a.Ib,a.Db||"");e&&this.sd.push(e)}Q(c,179,this,function(){return 0});var d=0;Q(c,146,this,function(){return d});S(c,146,this,function(e){d=e});Q(c,1297,this,function(){return this.Eg<this.ub.length?this.ub[this.Eg++]:0});S(c,1296,this,void 0,function(e){function f(k){return new Uint8Array(Int32Array.of(k).buffer)}
function g(k){return k>>8|k<<8&65280}function h(k){return k<<24|k<<8&16711680|k>>8&65280|k>>>24}this.Eg=0;if(0===e)this.ub=f(1431127377);else if(1===e)this.ub=f(0);else if(3===e)this.ub=f(this.F[0]);else if(5===e)this.ub=f(1);else if(15===e)this.ub=f(1);else if(13===e)this.ub=new Uint8Array(16);else if(25===e){e=new Int32Array(4+64*this.sd.length);const k=new Uint8Array(e.buffer);e[0]=h(this.sd.length);for(let l=0;l<this.sd.length;l++){const {name:n,data:r}=this.sd[l],x=4+64*l;e[x>>2]=h(r.length);
e[x+4>>2]=g(49152+l);for(let q=0;q<n.length;q++)k[x+8+q]=n.charCodeAt(q)}this.ub=k}else this.ub=32768<=e&&49152>e?f(0):49152<=e&&e-49152<this.sd.length?this.sd[e-49152].data:f(0)});Q(c,32,this,this.Qd);Q(c,33,this,this.Sd);Q(c,160,this,this.De);Q(c,161,this,this.Fe);S(c,32,this,this.Rd);S(c,33,this,this.Td);S(c,160,this,this.Ee);S(c,161,this,this.Ge);Q(c,1232,this,this.Ud);Q(c,1233,this,this.Wd);S(c,1232,this,this.Vd);S(c,1233,this,this.Ce);this.A={};a.Aj&&(this.A.$a=new qc(this),this.kb[0]&&(this.A.nd=
new Bd(this),this.A.He=new ud(this),this.A.sa=new sd(this)),this.A.Ad=new jd(this),Le(this,this.A.Ad,a),this.A.Eb=new zc(this),this.A.Fd=new Lc(this,b,a.screen,a.ma||8388608),this.A.Qg=new fd(this,b),this.A.gh=new md(this,1016,b),a.af&&(this.A.af=new md(this,760,b)),a.bf&&(this.A.bf=new md(this,1E3,b)),a.cf&&(this.A.cf=new md(this,744,b)),this.A.ee=new wc(this,a.T),c=0,a.I&&(this.A.I=new Qb(this,a.I,a.Lc,!1,c++,b)),a.Y&&(this.A.Y=new Qb(this,a.Y,void 0,!0,c++,b)),this.A.mg=new Ec(this,b),"ne2k"===
a.rd.type?this.A.la=new Id(this,b,a.se,a.Jb):"virtio"===a.rd.type&&(this.A.Be=new De(this,b,a.se)),a.tc&&(this.A.Of=new ea(a.tc,this,b)),a.Gd&&(this.A.Gd=new ze(this,b)),this.A.Ug=new Td(this,b));a.Kb&&(a=Me(this,a.Kb,a.Ib,a.Db))&&(this.sb.Ig?this.sd.push(a):this.l[0]=sb(this.B,244))};
function Me(a,b,c,d){if(8192>b.byteLength){var e=new Int32Array(2048);(new Uint8Array(e.buffer)).set(new Uint8Array(b))}else e=new Int32Array(b,0,2048);for(var f=0;8192>f;f+=4){if(464367618===e[f>>2]){var g=e[f+4>>2];if(464367618+g+e[f+8>>2]|0)continue}else continue;var h=a;Q(a.B,244,a,function(){return 0},function(){return 0},function(){var n=31860,r=0;if(d){r|=4;h.Aa(31760,n);d+="\x00";var x=(new TextEncoder).encode(d);mc(h,x,n);n+=x.length}if(g&2){r|=64;x=0;h.Aa(31788,0);h.Aa(31792,n);var q=0;
var y=!1;for(let m=0;4294967296>m;m+=131072)y&&void 0!==h.g[m>>>17]?(h.Aa(n,20),h.Aa(n+4,q),h.Aa(n+8,0),h.Aa(n+12,m-q),h.Aa(n+16,0),h.Aa(n+20,1),n+=24,x+=24,y=!1):y||void 0!==h.g[m>>>17]||(q=m,y=!0);h.Aa(31788,x)}h.Aa(31744,r);x=r=0;if(g&65536){r=e[f+16>>2];var t=e[f+20>>2];x=e[f+24>>2];q=e[f+28>>2];y=new Uint8Array(b,f-(e[f+12>>2]-r),0===t?void 0:t-r);mc(h,y,r);r=q|0;x=Math.max(t,x)}else if(1179403647===e[0]){q=new DataView(b);const [m,u]=Ne(q,Oe);console.assert(52===u);console.assert(1179403647===
m.Jh,"Bad magic");console.assert(1===m.Zd,"Unimplemented: 64 bit elf");console.assert(1===m.data,"Unimplemented: big endian");console.assert(1===m.pl,"Bad version0");console.assert(2===m.type,"Unimplemented type");console.assert(1===m.ql,"Bad version1");console.assert(52===m.lj,"Bad header size");console.assert(32===m.Th,"Bad program header size");console.assert(40===m.si,"Bad section header size");[r]=Pe(new DataView(q.buffer,q.byteOffset+m.Gj,m.Th*m.Uh),Qe,m.Uh);Pe(new DataView(q.buffer,q.byteOffset+
m.gl,m.si*m.ti),Re,m.ti);q=m;y=r;r=q.uh;for(t of y)0!==t.type&&1===t.type&&t.lg+t.Kg<h.F[0]&&(t.xh&&(y=new Uint8Array(b,t.offset,t.xh),mc(h,y,t.lg)),x=Math.max(x,t.lg+t.Kg),r===q.uh&&t.hh<=r&&t.hh+t.Kg>r&&(r=r-t.hh+t.lg))}c&&(h.Aa(31764,1),h.Aa(31768,n),t=x,0!==(t&4095)&&(t=(t&-4096)+4096),x=t+c.byteLength,h.Aa(n,t),h.Aa(n+4,x),h.Aa(n+8,0),h.Aa(n+12,0),mc(h,new Uint8Array(c),t));h.l[3]=31744;h.gb[0]=1;h.fa[0]=1;h.flags[0]=2;h.Z[0]=1;h.fb[0]=1;for(n=0;6>n;n++)h.s[n]=0,h.cb[n]=0,h.Wa[n]=4294967295,
h.eb[n]=45058;h.V[0]=h.Jd()+r|0;h.bd();return 732803074});a.B.ad(244,a,function(n){console.log("Test exited with code "+Hb(n,2));throw"HALT";},function(){},function(){},function(){});for(let n=0;15>=n;n++){function r(x){x?this.Xa(n):Sb(this,n)}S(a.B,8192+n,a,r,r,r)}a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=43605;a[2]=1;var k=3;a[k++]=102;a[k++]=229;a[k++]=244;let l=a[k]=0;for(let n=0;n<a.length;n++)l+=a[n];a[k]=-l;return{name:"genroms/multiboot.bin",data:a}}}
function Le(a,b,c){var d=c.Cb||291;b.ea[56]=1|d>>4&240;b.ea[61]=d&255;b.ea[21]=128;b.ea[22]=2;d=0;1048576<=a.F[0]&&(d=a.F[0]-1048576>>10,d=Math.min(d,65535));b.ea[23]=d&255;b.ea[24]=d>>8&255;b.ea[48]=d&255;b.ea[49]=d>>8&255;d=0;16777216<=a.F[0]&&(d=a.F[0]-16777216>>16,d=Math.min(d,65535));b.ea[52]=d&255;b.ea[53]=d>>8&255;b.ea[91]=0;b.ea[92]=0;b.ea[93]=0;b.ea[20]=47;b.ea[95]=0;c.wh&&(b.ea[63]=1)}
function xb(a){var b=a.sb.Ig,c=a.sb.Fd;if(b){var d=new Uint8Array(b);mc(a,d,1048576-b.byteLength);if(c){var e=new Uint8Array(c);mc(a,e,786432);rb(a.B,4272947200,1048576,function(f){f=f-4272947200|0;return f<e.length?e[f]:0},function(){})}rb(a.B,4293918720,1048576,function(f){return this.jb[f&1048575]}.bind(a),function(f,g){this.jb[f&1048575]=g}.bind(a))}}
function Se(a,b,c,d,e,f){const g=new Uint8Array(a.Ia.buffer,e>>>0,f>>>0);WebAssembly.instantiate(g,{e:a.Md}).then(h=>{a.Ja.ih.set(b+1024,h.instance.exports.f);a.Dd(b,c,d);a.Ei&&a.Ei(g)})}ub.prototype.Xa=function(a){this.Pd(a);if(this.A.nd){var b=this.A.nd;if(!(24<=a)){var c=1<<a;0===(b.i&c)&&(b.i|=c,65536!==(b.g[a]&98304)&&(b.h|=c,yd(b,a)))}}};function Sb(a,b){a.Od(b);if(a.A.nd&&(a=a.A.nd,!(24<=b))){var c=1<<b;(a.i&c)===c&&(a.i&=~c,a.g[b]&32768&&(a.h&=~c))}};function Ie(a){var b={};a.debug=b;b.Hb=function(){};b.Ql=function(){};b.Il=function(){};b.ha=function(){};b.Kl=function(){};b.Jl=function(){};b.Hl=function(){if(a.gb[4]&32)for(var f=0;4>f;f++)a.h(a.gb[3]+8*f)};b.Fl=function(){};b.Gl=function(){};b.Pl=function(){};b.Vl=function(){};b.cm=function(){};b.zl=function(){};let c,d;b.El=function(f,g,h){if(!d){if(void 0===c&&(c="function"===typeof require?require("./capstone-x86.min.js"):window.cs,void 0===c))return;d=[new c.Capstone(c.ARCH_X86,c.MODE_16),
new c.Capstone(c.ARCH_X86,c.MODE_32)]}try{d[f].disasm(g,h).forEach(function(k){Ge(Hb(k.yl>>>0)+": "+Gb(k.bytes.map(l=>Hb(l,2).slice(-2)).join(" "),20)+" "+k.mnemonic+" "+k.op_str)})}catch(k){Ge("Could not disassemble: "+Array.from(g).map(l=>Hb(l,2)).join(" "))}};let e;b.Ll=function(f){if(void 0===e&&(e="function"===typeof require?require("./libwabt.js"):new window.WabtModule,void 0===e))return;f=f.slice();try{var g=e.readWasm(f,{$l:!1});g.generateNames();g.applyNames();g.toText({Ol:!0,Sl:!0})}catch(l){var h=
new Blob([f]),k=document.createElement("a");k.download="failed.wasm";k.href=window.URL.createObjectURL(h);k.dataset.downloadurl=["application/octet-stream",k.download,k.href].join(":");k.click();window.URL.revokeObjectURL(k.src);console.log(l.toString())}finally{g&&g.ta()}}};const Te=DataView.prototype,Ue={size:1,get:Te.getUint8,set:Te.setUint8},Ve={size:2,get:Te.getUint16,set:Te.setUint16},Y={size:4,get:Te.getUint32,set:Te.setUint32},Oe=We([{Jh:Y},{Zd:Ue},{data:Ue},{pl:Ue},{Xl:Ue},{ul:Ue},{Yl:function(a){return{size:a,get:()=>-1}}(7)},{type:Ve},{Ul:Ve},{ql:Y},{uh:Y},{Gj:Y},{gl:Y},{flags:Y},{lj:Ve},{Th:Ve},{Uh:Ve},{si:Ve},{ti:Ve},{am:Ve}]);console.assert(52===Oe.reduce((a,b)=>a+b.size,0));const Qe=We([{type:Y},{offset:Y},{hh:Y},{lg:Y},{xh:Y},{Kg:Y},{flags:Y},{align:Y}]);
console.assert(32===Qe.reduce((a,b)=>a+b.size,0));const Re=We([{name:Y},{type:Y},{flags:Y},{vl:Y},{offset:Y},{size:Y},{link:Y},{info:Y},{xl:Y},{Nl:Y}]);console.assert(40===Re.reduce((a,b)=>a+b.size,0));function We(a){return a.map(function(b){var c=Object.keys(b);console.assert(1===c.length);c=c[0];b=b[c];console.assert(0<b.size);return{name:c,type:b,size:b.size,get:b.get,set:b.set}})}
function Ne(a,b){const c={};let d=0;for(const e of b)b=e.get.call(a,d,!0),console.assert(void 0===c[e.name]),c[e.name]=b,d+=e.size;return[c,d]}function Pe(a,b,c){const d=[];let e=0;for(var f=0;f<c;f++){const [g,h]=Ne(new DataView(a.buffer,a.byteOffset+e,void 0),b);d.push(g);e+=h}return[d,e]};function Ke(a,b,c,d){var e=new Uint8Array(b);const f=new Uint16Array(b);var g=new Uint32Array(b),h=e[497]||4;if(43605===f[255]&&1400005704===(f[257]|f[258]<<16)){var k=e[529];e[528]=255;e[529]=k&-97|128;f[274]=56832;f[253]=65535;d+="\x00";g[138]=581632;for(e=0;e<d.length;e++)a[581632+e]=d.charCodeAt(e);h=512*(h+1);d=new Uint8Array(b,0,h);b=new Uint8Array(b,h);e=h=0;c&&(h=67108864,e=c.byteLength,a.set(new Uint8Array(c),h));g[134]=h;g[135]=e;a.set(d,524288);a.set(b,1048576);a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=
43605;a[2]=1;c=3;a[c++]=250;a[c++]=184;a[c++]=32768;a[c++]=128;a[c++]=142;a[c++]=192;a[c++]=142;a[c++]=216;a[c++]=142;a[c++]=224;a[c++]=142;a[c++]=232;a[c++]=142;a[c++]=208;a[c++]=188;a[c++]=57344;a[c++]=224;a[c++]=234;a[c++]=0;a[c++]=0;a[c++]=32800;a[c++]=128;g=a[c]=0;for(b=0;b<a.length;b++)g+=a[b];a[c]=-g;return{name:"genroms/kernel.bin",data:a}}};var Ia=32768,Da=16384,Oa=4;function Xe(a){this.g=[];this.C=[];this.j=a;this.s={Hg:0};this.h={};this.l=274877906944;this.o=0;this.i=[];Ca(this,"",-1)}Xe.prototype.ha=function(){let a=[];a[0]=this.g;a[1]=this.s.Hg;a[2]=[];for(const [b,c]of Object.entries(this.h))0===(this.g[b].mode&Da)&&a[2].push([b,c]);a[3]=this.l;a[4]=this.o;return a=a.concat(this.i)};
Xe.prototype.H=function(a){this.g=a[0].map(b=>{const c=new Ye(0);c.H(b);return c});this.s.Hg=a[1];this.h={};for(let [b,c]of a[2])c.buffer.byteLength!==c.byteLength&&(c=c.slice()),this.h[b]=c;this.l=a[3];this.o=a[4];this.i=a.slice(5)};function xa(a,b,c){var d=a.g[b];0===d.status||2===d.status?c():5===d.status?xa(Z(a,d),d.g,c):a.C.push({id:b,tl:c})}
function Ze(a,b,c){var d=$e(a);const e=b[0];d.size=b[1];d.Uc=b[2];d.Me=d.Uc;d.Yd=d.Uc;d.mode=b[3];d.uid=b[4];d.Ya=b[5];var f=d.mode&61440;if(f===Da)for(af(a,d,c,e),c=a.g.length-1,b=b[6],d=0;d<b.length;d++)Ze(a,b[d],c);else f===Ia?(d.status=2,d.we=b[6],af(a,d,c,e)):40960===f&&(d.Jf=b[6],af(a,d,c,e))}function bf(a,b,c,d){const e=a.g[c],f=a.g[b];cf(a,b);f.qa.has(d);f.qa.set(d,c);e.mb++;cf(a,c)&&(e.qa.has(".."),e.qa.has(".")||e.mb++,e.qa.set(".",c),e.qa.set("..",b),f.mb++)}
function df(a,b,c){const d=Ua(a,b,c),e=a.g[d],f=a.g[b];cf(a,b);f.qa.delete(c)&&(e.mb--,cf(a,d)&&(e.qa.get(".."),e.qa.delete(".."),f.mb--))}function af(a,b,c,d){-1!==c?(a.g.push(b),b.Jc=a.g.length-1,bf(a,c,b.Jc,d)):0===a.g.length&&(a.g.push(b),b.qa.set(".",0),b.qa.set("..",0),b.mb=2)}
function Ye(a){this.qa=new Map;this.gg=this.fg=this.Uc=this.Yd=this.Me=this.Jc=this.Ya=this.uid=this.size=this.status=0;this.Jf="";this.mode=493;this.Pa={type:0,version:0,path:a};this.mb=0;this.we="";this.h=[];this.g=this.i=-1}
Ye.prototype.ha=function(){const a=[];a[0]=this.mode;a[1]=(this.mode&61440)===Da?[...this.qa]:(this.mode&61440)===Ia?this.we:40960===(this.mode&61440)?this.Jf:49152===(this.mode&61440)?[this.gg,this.fg]:null;a[2]=this.h;a[3]=this.status;a[4]=this.size;a[5]=this.uid;a[6]=this.Ya;a[7]=this.Jc;a[8]=this.Me;a[9]=this.Yd;a[10]=this.Uc;a[11]=this.Pa.version;a[12]=this.Pa.path;a[13]=this.mb;return a};
Ye.prototype.H=function(a){this.mode=a[0];if((this.mode&61440)===Da){this.qa=new Map;for(const [b,c]of a[1])this.qa.set(b,c)}else(this.mode&61440)===Ia?this.we=a[1]:40960===(this.mode&61440)?this.Jf=a[1]:49152===(this.mode&61440)&&([this.gg,this.fg]=a[1]);this.h=[];for(const b of a[2]){const c=new ef;c.H(b);this.h.push(c)}this.status=a[3];this.size=a[4];this.uid=a[5];this.Ya=a[6];this.Jc=a[7];this.Me=a[8];this.Yd=a[9];this.Uc=a[10];this.Pa.type=(this.mode&61440)>>8;this.Pa.version=a[11];this.Pa.path=
a[12];this.mb=a[13]};function ff(a,b){Object.assign(b,a,{Jc:b.Jc,qa:b.qa,mb:b.mb})}function $e(a){const b=Math.round(Date.now()/1E3);a=new Ye(++a.s.Hg);a.Yd=a.Me=a.Uc=b;return a}function Ca(a,b,c){var d=a.g[c];if(0<=c&&5===d.status)return c=d.g,b=Ca(Z(a,d),b,c),gf(a,d.i,b);d=$e(a);d.mode=511|Da;0<=c&&(d.uid=a.g[c].uid,d.Ya=a.g[c].Ya,d.mode=a.g[c].mode&511|Da);d.Pa.type=Da>>8;af(a,d,c,b);return a.g.length-1}
function Ha(a,b,c){var d=a.g[c];if(5===d.status)return c=d.g,b=Ha(Z(a,d),b,c),gf(a,d.i,b);d=$e(a);d.uid=a.g[c].uid;d.Ya=a.g[c].Ya;d.Pa.type=Ia>>8;d.mode=a.g[c].mode&438|Ia;af(a,d,c,b);return a.g.length-1}function Ba(a,b,c,d,e){var f=a.g[c];if(5===f.status)return c=f.g,b=Ba(Z(a,f),b,c,d,e),gf(a,f.i,b);f=$e(a);f.fg=d;f.gg=e;f.uid=a.g[c].uid;f.Ya=a.g[c].Ya;f.Pa.type=192;f.mode=a.g[c].mode&438;af(a,f,c,b);return a.g.length-1}
function Aa(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,b=Aa(Z(a,e),b,c,d),gf(a,e.i,b);e=$e(a);e.uid=a.g[c].uid;e.Ya=a.g[c].Ya;e.Pa.type=160;e.Jf=d;e.mode=40960;af(a,e,c,b);return a.g.length-1}async function hf(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,d=await hf(Z(a,e),b,c,d),gf(a,e.i,d);e=Ha(a,b,c);b=a.g[e];c=new Uint8Array(d.length);c.set(d);await jf(a,e,c);b.size=d.length;return e}
function wa(a,b,c){var d=a.g[b];if(5===d.status)return wa(Z(a,d),d.g,c);(d.mode&61440)===Da&&kf(a,b);return!0}async function Ya(a,b){var c=a.g[b];if(5===c.status)return await Ya(Z(a,c),c.g);2===c.status&&a.j.g(c.we);c.status===Oa&&(c.status=-1,await lf(a,b))}
async function Ta(a,b,c,d,e){if(b===d&&c===e)return 0;var f=Ua(a,b,c);if(-1===f)return-2;var g=b;cf(a,g);for(var h="";0!==g;)h="/"+mf(a,g)+h,g=nf(a,g);if(-1!==Ua(a,d,e)&&(g=Va(a,d,e),0>g))return g;h=a.g[f];var k=a.g[b];g=a.g[d];if(5===k.status||5===g.status)if(5===k.status&&k.i===g.i){if(a=await Ta(Z(a,k),k.g,c,g.g,e),0>a)return a}else{if(0===ua(a,f).Jc||!cf(a,f)&&1<ua(a,f).mb)return-1;k=Ua(a,b,c);var l=a.g[k],n=new Ye(-1);cf(a,k);Object.assign(n,l);const r=a.g.length;a.g.push(n);n.Jc=r;5===l.status&&
a.i[l.i].g.set(l.g,r);if(5!==l.status||0===l.g)df(a,b,c),bf(a,b,r,c);if(cf(a,k)&&5!==l.status)for(const [x,q]of n.qa)"."!==x&&".."!==x&&cf(a,q)&&a.g[q].qa.set("..",r);a.h[r]=a.h[k];delete a.h[k];l.qa=new Map;l.mb=0;k=r;l=ua(a,f);n=await Ra(a,k,0,l.size);5===g.status?(d=Z(a,g),e=cf(a,k)?Ca(d,e,g.g):Ha(d,e,g.g),d=ua(d,e),ff(l,d),of(a,f,g.i,e)):(h.status=-1,a.i[h.i].g.delete(h.g),ff(l,h),bf(a,d,f,e));await Pa(a,f,l.size);n&&n.length&&await Sa(a,f,0,n.length,n);if(cf(a,f))for(const x of pf(a,k))if(e=
await Ta(a,k,x,f,x),0>e)return e;await lf(a,k);a=Va(a,b,c);if(0>a)return a}else df(a,b,c),bf(a,d,f,e),h.Pa.version++;return 0}async function Sa(a,b,c,d,e){var f=a.g[b];if(5===f.status)b=f.g,await Sa(Z(a,f),b,c,d,e);else{var g=await a.Wb(b);!g||g.length<c+d?(await Pa(a,b,Math.floor(3*(c+d)/2)),f.size=c+d,g=await a.Wb(b)):f.size<c+d&&(f.size=c+d);e&&g.set(e.subarray(0,d),c);await jf(a,b,g)}}
async function Ra(a,b,c,d){const e=a.g[b];return 5===e.status?(b=e.g,await Ra(Z(a,e),b,c,d)):await qf(a,b,c,d)}function Ua(a,b,c){b=a.g[b];if(5===b.status){const d=b.g;c=Ua(Z(a,b),d,c);return-1===c?-1:rf(a,b.i,c)}a=b.qa.get(c);return void 0===a?-1:a}function sa(a){let b=a.g.length;for(const {h:c,g:d}of a.i)b+=sa(c),b-=d.size;return b}function ta(a){let b=1048576;for(const {h:c}of a.i)b+=ta(c);return b}function qa(a){let b=a.o;for(const {h:c}of a.i)b+=qa(c);return b}
function ra(a){let b=a.l;for(const {h:c}of a.i)b+=ra(c);return a.l}function mf(a,b){const c=a.g[nf(a,b)];if(5===c.status)return mf(Z(a,c),a.g[b].g);if(!c)return"";for(const [d,e]of c.qa)if(e===b)return d;return""}function ya(a,b,c,d){if(cf(a,c))return-1;const e=a.g[b],f=a.g[c];if(5===e.status)return 5!==f.status||f.i!==e.i?-1:ya(Z(a,e),e.g,f.g,d);if(5===f.status)return-1;bf(a,b,c,d);return 0}
function Va(a,b,c){if("."===c||".."===c)return-1;var d=Ua(a,b,c);const e=a.g[d];var f=a.g[b];if(5===f.status)return b=f.g,Va(Z(a,f),b,c);if(f=cf(a,d)){a:if(d=a.g[d],5===d.status)var g=cf(Z(a,d),d.g);else{for(g of d.qa.keys())if("."!==g&&".."!==g){g=!1;break a}g=!0}f=!g}if(f)return-39;df(a,b,c);0===e.mb&&(e.status=Oa);return 0}async function lf(a,b){const c=a.g[b];5===c.status?await lf(Z(a,c),c.g):(c.size=0,delete a.h[b])}
Xe.prototype.Wb=async function(a){const b=this.g[a];return this.h[a]?this.h[a]:2===b.status?await this.j.read(b.we,0,b.size):null};async function qf(a,b,c,d){const e=a.g[b];return a.h[b]?a.h[b].subarray(c,c+d):2===e.status?await a.j.read(e.we,c,d):null}async function jf(a,b,c){a.h[b]=c;2===a.g[b].status&&(a.g[b].status=0,a.j.g(a.g[b].we))}function ua(a,b){b=a.g[b];return 5===b.status?ua(Z(a,b),b.g):b}
async function Pa(a,b,c){var d=ua(a,b),e=await qf(a,b,0,d.size);if(c!==d.size){var f=new Uint8Array(c);d.size=c;e&&f.set(e.subarray(0,Math.min(e.length,d.size)),0);await jf(a,b,f)}}
function sf(a,b){b=b.replace("//","/");b=b.split("/");0<b.length&&0===b[b.length-1].length&&b.pop();0<b.length&&0===b[0].length&&b.shift();const c=b.length;var d=-1,e=0;let f=null;for(var g=0;g<c;g++)if(d=e,e=Ua(a,d,b[g]),!f&&5===a.g[d].status&&(f="/"+b.slice(g).join("/")),-1===e)return g<c-1?{id:-1,Ng:-1,name:b[g],zh:f}:{id:-1,Ng:d,name:b[g],zh:f};return{id:e,Ng:d,name:b[g],zh:f}}
function kf(a,b){var c=a.g[b];if(5===c.status)kf(Z(a,c),c.g);else{var d=0;for(const e of c.qa.keys())d+=24+tf.encode(e).length;b=a.h[b]=new Uint8Array(d);c.size=d;d=0;for(const [e,f]of c.qa)c=ua(a,f),d+=w(["Q","d","b","s"],[c.Pa,d+13+8+1+2+tf.encode(e).length,c.mode>>12,e],b,d)}}function Qa(a,b,c){a=a.h[b];if(c>=a.length)return a.length;for(b=0;;){const d=I(["Q","d"],a,{offset:b})[1];if(d>c)break;b=d}return b}function cf(a,b){b=a.g[b];return 5===b.status?cf(Z(a,b),b.g):(b.mode&61440)===Da}
function pf(a,b){cf(a,b);b=a.g[b];if(5===b.status)return pf(Z(a,b),b.g);a=[];for(const c of b.qa.keys())"."!==c&&".."!==c&&a.push(c);return a}function nf(a,b){cf(a,b);b=a.g[b];if(5!==b.status||0===b.g)return b.qa.get("..");const c=nf(Z(a,b),b.g);return rf(a,b.i,c)}function of(a,b,c,d){const e=a.g[b];5===e.status&&a.i[e.i].g.delete(e.g);e.status=5;e.i=c;e.g=d;a.i[c].g.set(d,b)}function gf(a,b,c){const d=$e(a),e=a.g.length;a.g.push(d);d.Jc=e;of(a,e,b,c);return e}
function rf(a,b,c){const d=a.i[b].g.get(c);return void 0===d?gf(a,b,c):d}function Z(a,b){return a.i[b.i].h}function ef(){this.type=2;this.start=0;this.length=Infinity;this.h=-1;this.g=""}ef.prototype.ha=function(){const a=[];a[0]=this.type;a[1]=this.start;a[2]=Infinity===this.length?0:this.length;a[3]=this.h;a[4]=this.g;return a};ef.prototype.H=function(a){this.type=a[0];this.start=a[1];this.length=0===a[2]?Infinity:a[2];this.h=a[3];this.g=a[4]};
function uf(a){const b=new ef;b.H(a.ha());return b}function vf(a,b){return b.h===a.h&&b.g===a.g&&b.type===a.type}function wf(a,b){return vf(a,b)&&b.start+b.length===a.start}function Ja(a,b,c,d,e){const f=new ef;f.type=a;f.start=b;f.length=c;f.h=d;f.g=e;return f}
function La(a,b,c){b=a.g[b];if(5===b.status){var d=b.g;return La(Z(a,b),d,c)}for(d of b.h)if(!(c.h===d.h&&c.g===d.g||2===c.type||2===d.type||1!==c.type&&1!==d.type||c.start+c.length<=d.start||d.start+d.length<=c.start))return uf(d);return null}
function Ka(a,b,c,d){const e=a.g[b];if(5===e.status)return b=e.g,Ka(Z(a,e),b,c,d);c=uf(c);if(2!==c.type&&La(a,b,c))return 1;for(a=0;a<e.h.length;a++){d=e.h[a];if(d.start+d.length<=c.start)continue;if(c.start+c.length<=d.start)break;if(d.h!==c.h||d.g!==c.g)continue;b=c.start+c.length;const f=c.start-d.start,g=d.start+d.length-b;if(0<f&&0<g&&d.type===c.type)return 0;0<f&&(d.length=f);if(0>=f&&0<g)d.start=b,d.length=g;else if(0<g){for(;a<e.h.length&&e.h[a].start<b;)a++;e.h.splice(a,0,Ja(d.type,b,g,d.h,
d.g))}else 0>=f&&(e.h.splice(a,1),a--)}if(2!==c.type){a=c;d=!1;for(b=0;b<e.h.length&&!(wf(a,e.h[b])&&(e.h[b].length+=c.length,a=e.h[b],d=!0),c.start<=e.h[b].start);b++);d||(e.h.splice(b,0,a),b++);for(;b<e.h.length;b++)if(vf(e.h[b],a)){wf(e.h[b],a)&&(a.length+=e.h[b].length,e.h.splice(b,1));break}}return 0}function xf(a,b){b=sf(a,b);if(-1!==b.id)return a=ua(a,b.id),Array.from(a.qa.keys()).filter(c=>"."!==c&&".."!==c)}
Xe.prototype.Ff=function(a){a=sf(this,a);if(-1===a.id)return Promise.resolve(null);const b=ua(this,a.id);return Ra(this,a.id,0,b.size)};const yf=new TextDecoder,tf=new TextEncoder;
function w(a,b,c,d){for(var e,f=0,g=0;g<a.length;g++)switch(e=b[g],a[g]){case "w":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;f+=4;break;case "d":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;c[d++]=0;c[d++]=0;c[d++]=0;c[d++]=0;f+=8;break;case "h":c[d++]=e&255;c[d++]=e>>8;f+=2;break;case "b":c[d++]=e;f+=1;break;case "s":var h=d,k=0;c[d++]=0;c[d++]=0;f+=2;e=tf.encode(e);f+=e.byteLength;k+=e.byteLength;c.set(e,d);d+=e.byteLength;c[h+0]=k&255;c[h+1]=k>>8&255;break;
case "Q":w(["b","w","d"],[e.type,e.version,e.path],c,d),d+=13,f+=13}return f}
function I(a,b,c){let d=c.offset;for(var e=[],f=0;f<a.length;f++)switch(a[f]){case "w":var g=b[d++];g+=b[d++]<<8;g+=b[d++]<<16;g+=b[d++]<<24>>>0;e.push(g);break;case "d":g=b[d++];g+=b[d++]<<8;g+=b[d++]<<16;g+=b[d++]<<24>>>0;d+=4;e.push(g);break;case "h":g=b[d++];e.push(g+(b[d++]<<8));break;case "b":e.push(b[d++]);break;case "s":g=b[d++];g+=b[d++]<<8;var h=b.slice(d,d+g);d+=g;e.push(yf.decode(h));break;case "Q":c.offset=d,g=I(["b","w","d"],b,c),d=c.offset,e.push({type:g[0],version:g[1],path:g[2]})}c.offset=
d;return e};const zf="undefined"!==typeof window&&0<=window.navigator.platform.toString().toLowerCase().search("win");
function Af(a){function b(u){!u.altKey&&k[56]&&g(56,!1);return e(u,!1)}function c(u){!u.altKey&&k[56]&&g(56,!1);return e(u,!0)}function d(){for(var u=Object.keys(k),D,K=0;K<u.length;K++)D=+u[K],k[D]&&g(D,!1);k={}}function e(u,D){if(x.v&&(u.shiftKey&&u.ctrlKey&&(73===u.keyCode||74===u.keyCode||75===u.keyCode)||!x.bg?0:u.target?u.target.classList.contains("phone_keyboard")||"INPUT"!==u.target.nodeName&&"TEXTAREA"!==u.target.nodeName:1)){u.preventDefault&&u.preventDefault();if(zf&&(l&&(clearTimeout(r),
u.getModifierState&&u.getModifierState("AltGraph")&&n===D&&"ControlLeft"===l.code&&"AltRight"===u.code||f(l,n),l=null),"ControlLeft"===u.code))return l=u,n=D,r=setTimeout(()=>{f(l,n);l=null},10),!1;f(u,D);return!1}}function f(u,D){a:{if(void 0!==u.code){var K=m[u.code];if(void 0!==K)break a}K=q[u.keyCode]}K?g(K,D,u.repeat):console.log("Missing char in map: keyCode="+(u.keyCode||-1).toString(16)+" code="+u.code)}function g(u,D,K){if(D)k[u]&&!K&&g(u,!1);else if(!k[u])return;(k[u]=D)||(u|=128);255<u?
(h(u>>8),h(u&255)):h(u)}function h(u){x.v.send("keyboard-code",u)}var k={},l=null,n=!1,r=0,x=this;this.bg=!0;var q=new Uint16Array([0,0,0,0,0,0,0,0,14,15,0,0,0,28,0,0,42,29,56,0,58,0,0,0,0,0,0,1,0,0,0,0,57,57417,57425,57423,57415,57419,57416,57421,80,0,0,0,0,82,83,0,11,2,3,4,5,6,7,8,9,10,0,39,0,13,0,0,0,30,48,46,32,18,33,34,35,23,36,37,38,50,49,24,25,16,19,31,20,22,47,17,45,21,44,57435,57436,57437,0,0,82,79,80,81,75,76,77,71,72,73,0,0,0,0,0,0,59,60,61,62,63,64,65,66,67,68,87,88,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,39,13,51,12,52,53,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,43,27,40,0,57435,57400,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),y={8:8,10:13,32:32,39:222,44:188,45:189,46:190,47:191,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,59:186,61:187,91:219,92:220,93:221,96:192,97:65,98:66,99:67,100:68,101:69,102:70,103:71,104:72,105:73,106:74,107:75,108:76,109:77,110:78,111:79,112:80,
113:81,114:82,115:83,116:84,117:85,118:86,119:87,120:88,121:89,122:90},t={33:49,34:222,35:51,36:52,37:53,38:55,40:57,41:48,42:56,43:187,58:186,60:188,62:190,63:191,64:50,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,94:54,95:189,123:219,124:220,125:221,126:192},m={Escape:1,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Digit0:11,Minus:12,Equal:13,Backspace:14,
Tab:15,KeyQ:16,KeyW:17,KeyE:18,KeyR:19,KeyT:20,KeyY:21,KeyU:22,KeyI:23,KeyO:24,KeyP:25,BracketLeft:26,BracketRight:27,Enter:28,ControlLeft:29,KeyA:30,KeyS:31,KeyD:32,KeyF:33,KeyG:34,KeyH:35,KeyJ:36,KeyK:37,KeyL:38,Semicolon:39,Quote:40,Backquote:41,ShiftLeft:42,Backslash:43,KeyZ:44,KeyX:45,KeyC:46,KeyV:47,KeyB:48,KeyN:49,KeyM:50,Comma:51,Period:52,Slash:53,IntlRo:53,ShiftRight:54,NumpadMultiply:55,AltLeft:56,Space:57,CapsLock:58,F1:59,F2:60,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,F10:68,NumLock:69,
ScrollLock:70,Numpad7:71,Numpad8:72,Numpad9:73,NumpadSubtract:74,Numpad4:75,Numpad5:76,Numpad6:77,NumpadAdd:78,Numpad1:79,Numpad2:80,Numpad3:81,Numpad0:82,NumpadDecimal:83,IntlBackslash:86,F11:87,F12:88,NumpadEnter:57372,ControlRight:57373,NumpadDivide:57397,AltRight:57400,Home:57415,ArrowUp:57416,PageUp:57417,ArrowLeft:57419,ArrowRight:57421,End:57423,ArrowDown:57424,PageDown:57425,Insert:57426,Delete:57427,OSLeft:57435,OSRight:57436,ContextMenu:57437};this.v=a;this.ta=function(){"undefined"!==typeof window&&
(window.removeEventListener("keyup",b,!1),window.removeEventListener("keydown",c,!1),window.removeEventListener("blur",d,!1))};this.Hb=function(){"undefined"!==typeof window&&(this.ta(),window.addEventListener("keyup",b,!1),window.addEventListener("keydown",c,!1),window.addEventListener("blur",d,!1))};this.Hb();this.g=function(u){u={keyCode:u};e(u,!0);e(u,!1)};this.il=function(u){var D=u.charCodeAt(0);D in y?this.g(y[D]):D in t?(h(42),this.g(t[D]),h(170)):console.log("ascii -> keyCode not found: ",
D,u)}};function Bf(a,b){function c(m){if(!t.enabled||!t.bg)return!1;var u=b||document.body,D;if(!(D=document.pointerLockElement))a:{for(m=m.target;m.parentNode;){if(m===u){D=!0;break a}m=m.parentNode}D=!1}return D}function d(m){c(m)&&(m=m.changedTouches)&&m.length&&(m=m[m.length-1],q=m.clientX,y=m.clientY)}function e(){if(n||x||r)t.v.send("mouse-click",[!1,!1,!1]),n=x=r=!1}function f(m){if(t.v&&c(m)&&t.od){var u=0,D=0,K=m.changedTouches;K?K.length&&(K=K[K.length-1],u=K.clientX-q,D=K.clientY-y,q=K.clientX,
y=K.clientY,m.preventDefault()):"number"===typeof m.movementX?(u=m.movementX,D=m.movementY):"number"===typeof m.webkitMovementX?(u=m.webkitMovementX,D=m.webkitMovementY):"number"===typeof m.mozMovementX?(u=m.mozMovementX,D=m.mozMovementY):(u=m.clientX-q,D=m.clientY-y,q=m.clientX,y=m.clientY);t.v.send("mouse-delta",[.15*u,-(.15*D)]);b&&t.v.send("mouse-absolute",[m.pageX-b.offsetLeft,m.pageY-b.offsetTop,b.offsetWidth,b.offsetHeight])}}function g(m){c(m)&&k(m,!0)}function h(m){c(m)&&k(m,!1)}function k(m,
u){t.v&&(1===m.which?n=u:2===m.which?x=u:3===m.which&&(r=u),t.v.send("mouse-click",[n,x,r]),m.preventDefault())}function l(m){if(c(m)){var u=m.wheelDelta||-m.detail;0>u?u=-1:0<u&&(u=1);t.v.send("mouse-wheel",[u,0]);m.preventDefault()}}var n=!1,r=!1,x=!1,q=0,y=0,t=this;this.enabled=!1;this.bg=!0;this.v=a;this.v.register("mouse-enable",function(m){this.enabled=m},this);this.od=!1;this.v.register("emulator-stopped",function(){this.od=!1},this);this.v.register("emulator-started",function(){this.od=!0},
this);this.ta=function(){"undefined"!==typeof window&&(window.removeEventListener("touchstart",d,!1),window.removeEventListener("touchend",e,!1),window.removeEventListener("touchmove",f,!1),window.removeEventListener("mousemove",f,!1),window.removeEventListener("mousedown",g,!1),window.removeEventListener("mouseup",h,!1),window.removeEventListener("wheel",l,{passive:!1}))};this.Hb=function(){"undefined"!==typeof window&&(this.ta(),window.addEventListener("touchstart",d,!1),window.addEventListener("touchend",
e,!1),window.addEventListener("touchmove",f,!1),window.addEventListener("mousemove",f,!1),window.addEventListener("mousedown",g,!1),window.addEventListener("mouseup",h,!1),window.addEventListener("wheel",l,{passive:!1}))};this.Hb()};function Cf(a){if("undefined"!==typeof window)if(window.AudioContext||window.webkitAudioContext){var b=window.AudioWorklet?Df:Ef;this.v=a;this.$=window.AudioContext?new AudioContext:new webkitAudioContext;this.hg=new Ff(a,this.$);this.h=new Gf(a,this.$,this.hg);this.g=new b(a,this.$,this.hg);this.h.start();a.register("emulator-stopped",function(){this.$.suspend()},this);a.register("emulator-started",function(){this.$.resume()},this);a.register("speaker-confirm-initialized",function(){a.send("speaker-has-initialized")},
this);a.send("speaker-has-initialized")}else console.warn("Web browser doesn't support Web Audio API")}Cf.prototype.ta=function(){this.$&&this.$.close();this.$=null;this.g&&this.g.Ac&&this.g.Ac.port.close();this.g=null};
function Ff(a,b){function c(d){return function(e){d.gain.setValueAtTime(e,this.$.currentTime)}}this.$=b;this.sources=new Map;this.Ch=this.Bh=this.G=this.D=this.s=1;this.i=this.$.createBiquadFilter();this.j=this.$.createBiquadFilter();this.i.type="highshelf";this.j.type="highshelf";this.i.frequency.setValueAtTime(2E3,this.$.currentTime);this.j.frequency.setValueAtTime(2E3,this.$.currentTime);this.g=this.$.createBiquadFilter();this.h=this.$.createBiquadFilter();this.g.type="lowshelf";this.h.type="lowshelf";
this.g.frequency.setValueAtTime(200,this.$.currentTime);this.h.frequency.setValueAtTime(200,this.$.currentTime);this.l=this.$.createGain();this.o=this.$.createGain();this.C=this.$.createChannelMerger(2);this.L=this.i;this.M=this.j;this.i.connect(this.g);this.g.connect(this.l);this.l.connect(this.C,0,0);this.j.connect(this.h);this.h.connect(this.o);this.o.connect(this.C,0,1);this.C.connect(this.$.destination);a.register("mixer-connect",function(d){var e=d[1];d=this.sources.get(d[0]);void 0===d||d.connect(e)},
this);a.register("mixer-disconnect",function(d){var e=d[1];d=this.sources.get(d[0]);void 0===d||d.disconnect(e)},this);a.register("mixer-volume",function(d){var e=d[0],f=d[1];d=Math.pow(10,d[2]/20);e=0===e?this:this.sources.get(e);void 0===e||e.pg(d,f)},this);a.register("mixer-gain-left",function(d){this.Bh=Math.pow(10,d/20);this.update()},this);a.register("mixer-gain-right",function(d){this.Ch=Math.pow(10,d/20);this.update()},this);a.register("mixer-treble-left",c(this.i),this);a.register("mixer-treble-right",
c(this.j),this);a.register("mixer-bass-left",c(this.g),this);a.register("mixer-bass-right",c(this.h),this)}function Hf(a,b,c){b=new If(a.$,b,a.L,a.M);a.sources.has(c);a.sources.set(c,b);return b}Ff.prototype.pg=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.D=a;break;case 1:this.G=a;break;case 2:this.s=a;break;default:return}this.update()};
Ff.prototype.update=function(){var a=this.s*this.G*this.Ch;this.l.gain.setValueAtTime(this.s*this.D*this.Bh,this.$.currentTime);this.o.gain.setValueAtTime(a,this.$.currentTime)};function If(a,b,c,d){this.$=a;this.o=this.l=!0;this.D=this.C=this.j=this.g=1;this.s=a.createChannelSplitter(2);this.h=a.createGain();this.i=a.createGain();b.connect(this.s);this.s.connect(this.h,0);this.h.connect(c);this.s.connect(this.i,1);this.i.connect(d)}
If.prototype.update=function(){var a=this.o*this.g*this.j*this.D;this.h.gain.setValueAtTime(this.l*this.g*this.j*this.C,this.$.currentTime);this.i.gain.setValueAtTime(a,this.$.currentTime)};If.prototype.connect=function(a){var b=!a||2===a;if(b||0===a)this.l=!0;if(b||1===a)this.o=!0;this.update()};If.prototype.disconnect=function(a){var b=!a||2===a;if(b||0===a)this.l=!1;if(b||1===a)this.o=!1;this.update()};
If.prototype.pg=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.C=a;break;case 1:this.D=a;break;case 2:this.j=a;break;default:return}this.update()};
function Gf(a,b,c){this.Ue=b.createOscillator();this.Ue.type="square";this.Ue.frequency.setValueAtTime(440,b.currentTime);this.g=Hf(c,this.Ue,1);this.g.disconnect();a.register("pcspeaker-enable",function(){var d=c.sources.get(1);void 0===d||d.connect(void 0)},this);a.register("pcspeaker-disable",function(){var d=c.sources.get(1);void 0===d||d.disconnect(void 0)},this);a.register("pcspeaker-update",function(d){var e=d[1],f=0;3===d[0]&&(f=Math.min(1193181.6665999999/e,this.Ue.frequency.maxValue),f=
Math.max(f,0));this.Ue.frequency.setValueAtTime(f,b.currentTime)},this)}Gf.prototype.start=function(){this.Ue.start()};
function Df(a,b,c){this.v=a;this.$=b;this.enabled=!1;this.wb=48E3;b=function(){function e(h){if(0===h)return 1;h*=Math.PI;return Math.sin(h)/h}function f(){var h=Reflect.construct(AudioWorkletProcessor,[],f);h.D=3;h.l=Array(1024);h.s=0;h.L=0;h.o=0;h.G=h.l.length;h.C=0;h.M=g;h.g=g;h.N=1;h.j=0;h.i=0;h.h=0;h.port.onmessage=k=>{switch(k.data.type){case "queue":h.fa(k.data.value);break;case "sampling-rate":h.N=k.data.value/sampleRate}};return h}var g=[new Float32Array(256),new Float32Array(256)];Reflect.setPrototypeOf(f.prototype,
AudioWorkletProcessor.prototype);Reflect.setPrototypeOf(f,AudioWorkletProcessor);f.prototype.process=f.prototype.process=function(h,k){for(h=0;h<k[0][0].length;h++){for(var l=0,n=0,r=this.h+this.D,x=this.h-this.D+1;x<=r;x++){var q=this.j+x;l+=this.S(q,0)*this.U(this.i-x);n+=this.S(q,1)*this.U(this.i-x)}if(isNaN(l)||isNaN(n))l=n=0;k[0][0][h]=l;k[0][1][h]=n;this.i+=this.N;this.h=Math.floor(this.i)}k=this.h;k+=this.D+2;this.i-=this.h;this.j+=this.h;this.h=0;this.Z(k);return!0};f.prototype.U=function(h){return e(h)*
e(h/this.D)};f.prototype.S=function(h,k){return 0>h?(h+=this.M[0].length,this.M[k][h]):this.g[k][h]};f.prototype.Z=function(h){var k=this.g[0].length;k-this.j<h&&(this.ba(),this.j-=k)};f.prototype.ba=function(){this.M=this.g;this.g=this.V();var h=this.g[0].length;if(256>h){for(var k=this.s,l=0;256>h&&l<this.o;)h+=this.l[k][0].length,k=k+1&this.G-1,l++;h=Math.max(h,256);h=[new Float32Array(h),new Float32Array(h)];h[0].set(this.g[0]);h[1].set(this.g[1]);k=this.g[0].length;for(var n=0;n<l;n++){var r=
this.V();h[0].set(r[0],k);h[1].set(r[1],k);k+=r[0].length}this.g=h}this.pb()};f.prototype.pb=function(){1024>this.C/this.N&&this.port.postMessage({type:"pump"})};f.prototype.fa=function(h){this.o<this.G&&(this.l[this.L]=h,this.L=this.L+1&this.G-1,this.o++,this.C+=h[0].length,this.pb())};f.prototype.V=function(){if(!this.o)return g;var h=this.l[this.s];this.l[this.s]=null;this.s=this.s+1&this.G-1;this.o--;this.C-=h[0].length;return h};registerProcessor("dac-processor",f)}.toString();var d=URL.createObjectURL(new Blob([b.substring(b.indexOf("{")+
1,b.lastIndexOf("}"))],{type:"application/javascript"}));this.Ac=null;this.g=this.$.createGain();this.$.audioWorklet.addModule(d).then(()=>{URL.revokeObjectURL(d);this.Ac=new AudioWorkletNode(this.$,"dac-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[2],parameterData:{},processorOptions:{}});this.Ac.port.postMessage({type:"sampling-rate",value:this.wb});this.Ac.port.onmessage=e=>{switch(e.data.type){case "pump":this.pb()}};this.Ac.connect(this.g)});this.h=Hf(c,this.g,2);this.h.g=
3;a.register("dac-send-data",function(e){this.Sg(e)},this);a.register("dac-enable",function(){this.enabled=!0},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(e){this.wb=e;this.Ac&&this.Ac.port.postMessage({type:"sampling-rate",value:e})},this)}Df.prototype.Sg=function(a){this.Ac&&this.Ac.port.postMessage({type:"queue",value:a},[a[0].buffer,a[1].buffer])};Df.prototype.pb=function(){this.enabled&&this.v.send("dac-request-data")};
function Ef(a,b,c){this.v=a;this.$=b;this.enabled=!1;this.wb=22050;this.g=0;this.Df=1;this.jg=this.$.createBiquadFilter();this.jg.type="lowpass";this.i=this.jg;this.h=Hf(c,this.i,2);this.h.g=3;a.register("dac-send-data",function(d){this.Sg(d)},this);a.register("dac-enable",function(){this.enabled=!0;this.pb()},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(d){this.wb=d;this.Df=Math.ceil(8E3/d);this.jg.frequency.setValueAtTime(d/2,this.$.currentTime)},
this)}
Ef.prototype.Sg=function(a){var b=a[0].length,c=b/this.wb;if(1<this.Df){var d=this.$.createBuffer(2,b*this.Df,this.wb*this.Df);for(var e=d.getChannelData(0),f=d.getChannelData(1),g=0,h=0;h<b;h++)for(var k=0;k<this.Df;k++,g++)e[g]=a[0][h],f[g]=a[1][h]}else d=this.$.createBuffer(2,b,this.wb),d.copyToChannel?(d.copyToChannel(a[0],0),d.copyToChannel(a[1],1)):(d.getChannelData(0).set(a[0]),d.getChannelData(1).set(a[1]));a=this.$.createBufferSource();a.buffer=d;a.connect(this.jg);a.addEventListener("ended",this.pb.bind(this));
d=this.$.currentTime;if(this.g<d)for(this.g=d,d=.2-c,b=0;b<=d;)b+=c,this.g+=c,setTimeout(()=>this.pb(),1E3*b);a.start(this.g);this.g+=c;setTimeout(()=>this.pb(),0)};Ef.prototype.pb=function(){this.enabled&&(.2<this.g-this.$.currentTime||this.v.send("dac-request-data"))};function Jf(a,b){function c(h){g.v&&g.enabled&&(g.h(h.which),h.preventDefault())}function d(h){var k=h.which;8===k?(g.h(127),h.preventDefault()):9===k&&(g.h(9),h.preventDefault())}function e(h){if(g.enabled){for(var k=h.clipboardData.getData("text/plain"),l=0;l<k.length;l++)g.h(k.charCodeAt(l));h.preventDefault()}}function f(h){h.target!==a&&a.blur()}var g=this;this.enabled=!0;this.v=b;this.text="";this.j=!1;this.i=0;this.v.register("serial0-output-byte",function(h){this.hl(String.fromCharCode(h))},
this);this.ta=function(){a.removeEventListener("keypress",c,!1);a.removeEventListener("keydown",d,!1);a.removeEventListener("paste",e,!1);window.removeEventListener("mousedown",f,!1)};this.Hb=function(){this.ta();a.style.display="block";a.addEventListener("keypress",c,!1);a.addEventListener("keydown",d,!1);a.addEventListener("paste",e,!1);window.addEventListener("mousedown",f,!1)};this.Hb();this.hl=function(h){"\b"===h?(this.text=this.text.slice(0,-1),this.update()):"\r"!==h&&(this.text+=h,"\n"===
h&&(this.j=!0),this.update())};this.update=function(){var h=Date.now(),k=h-this.i;16>k?void 0===this.g&&(this.g=setTimeout(()=>{this.g=void 0;this.i=Date.now();this.l()},16-k)):(void 0!==this.g&&(clearTimeout(this.g),this.g=void 0),this.i=h,this.l())};this.l=function(){a.value=this.text;this.j&&(this.j=!1,a.scrollTop=1E9)};this.h=function(h){g.v&&g.v.send("serial0-input",h)}}
function nb(a,b){this.element=a;if(window.Terminal){var c=this.g=new window.Terminal({logLevel:"off"});c.write("This is the serial console. Whatever you type or paste here will be sent to COM1");var d=c.onData(function(e){for(let f=0;f<e.length;f++)b.send("serial0-input",e.charCodeAt(f))});b.register("serial0-output-byte",function(e){c.write(Uint8Array.of(e))},this);this.ta=function(){d.dispose();c.dispose()}}}nb.prototype.show=function(){this.g&&this.g.open(this.element)};function Kf(a,b){this.v=b;this.g=void 0;this.id=0;this.h=[];this.url=a;this.j=Date.now()-1E4;this.i=!1;this.v.register("net"+this.id+"-send",function(c){this.send(c)},this)}p=Kf.prototype;p.uj=function(a){this.v&&this.v.send("net"+this.id+"-receive",new Uint8Array(a.data))};p.sj=function(){this.i||(this.connect(),setTimeout(this.connect.bind(this),1E4))};p.vj=function(){for(var a=0;a<this.h.length;a++)this.send(this.h[a]);this.h=[]};p.tj=function(){};p.ta=function(){this.i=!0;this.g&&this.g.close()};
p.connect=function(){if("undefined"!==typeof WebSocket){if(this.g){var a=this.g.readyState;if(0===a||1===a)return}if(!(this.j+1E4>Date.now())){this.j=Date.now();try{this.g=new WebSocket(this.url)}catch(b){console.error(b);return}this.g.binaryType="arraybuffer";this.g.onopen=this.vj.bind(this);this.g.onmessage=this.uj.bind(this);this.g.onclose=this.sj.bind(this);this.g.onerror=this.tj.bind(this)}}};
p.send=function(a){this.g&&1===this.g.readyState?this.g.send(a):(this.h.push(a),128<this.h.length&&(this.h=this.h.slice(-64)),this.connect())};function ab(a){this.Wf=!1;this.C=function(){};var b=Fe();this.v=b[0];this.de=b[1];var c,d;const e=new WebAssembly.Table({element:"anyfunc",initial:1924});b={cpu_exception_hook:()=>this.C(),run_hardware_timers:function(g,h){var k=c;const l=k.A.mg.Dc(h,!1),n=k.A.Ad.Dc(h,!1);let r=100,x=100;g&&(r=k.A.sa.Dc(h),x=k.A.He.Dc(h));return Math.min(l,n,r,x)},cpu_event_halt:()=>{this.de.send("cpu-event-halt")},abort:function(){},microtick:zb,get_rand_int:function(){return Ib()},apic_acknowledge_irq:function(){var g=
c.A.He;var h=wd(g.i);-1===h||wd(g.Za)>=h||(h&240)<=(g.s&240)?g=-1:(xd(g.i,h),Ad(g.Za,h),vd(g),g=h);return g},stop_idling:function(){return c.Fi()},io_port_read8:function(g){g=c.B.ports[g];return g.ue.call(g.za)},io_port_read16:function(g){g=c.B.ports[g];return g.ab.call(g.za)},io_port_read32:function(g){return sb(c.B,g)},io_port_write8:function(g,h){g=c.B.ports[g];g.wg.call(g.za,h)},io_port_write16:function(g,h){g=c.B.ports[g];g.Qf.call(g.za,h)},io_port_write32:function(g,h){g=c.B.ports[g];g.Aa.call(g.za,
h)},mmap_read8:function(g){return c.g[g>>>17](g)},mmap_read16:function(g){var h=c.g[g>>>17];return h(g)|h(g+1|0)<<8},mmap_read32:function(g){return c.ba[g>>>17](g)},mmap_write8:function(g,h){c.j[g>>>17](g,h)},mmap_write16:function(g,h){var k=c.j[g>>>17];k(g,h&255);k(g+1|0,h>>8)},mmap_write32:function(g,h){c.i[g>>>17](g,h)},mmap_write64:function(g,h,k){var l=c.i[g>>>17];l(g,h);l(g+4,k)},mmap_write128:function(g,h,k,l,n){var r=c.i[g>>>17];r(g,h);r(g+4,k);r(g+8,l);r(g+12,n)},log_from_wasm:function(g,
h){[...(new Uint8Array(d.buffer,g>>>0,h>>>0))]},console_log_from_wasm:function(g,h){g=String.fromCharCode(...(new Uint8Array(d.buffer,g>>>0,h>>>0)));console.error(g)},dbg_trace_from_wasm:function(){},codegen_finalize:(g,h,k,l,n)=>{Se(c,g,h,k,l,n)},jit_clear_func:g=>{c.Ja.ih.set(g+1024,null)},jit_clear_all_funcs:()=>{const g=c.Ja.ih;for(let h=0;900>h;h++)g.set(1024+h,null)},__indirect_function_table:e};let f=a.dm;f||(f=g=>new Promise(h=>{let k="v86.wasm",l="v86-fallback.wasm";if(a.rl){k=a.rl;const n=
k.lastIndexOf("/");l=(-1===n?"":k.substr(0,n))+"/"+l}else"undefined"===typeof window&&"string"===typeof __dirname?(k=__dirname+"/"+k,l=__dirname+"/"+l):(k="build/"+k,l="build/"+l);Pb(k,{done:async n=>{try{const {instance:r}=await WebAssembly.instantiate(n,g);this.s=n;h(r.exports)}catch(r){Pb(l,{done:async x=>{const {instance:q}=await WebAssembly.instantiate(x,g);this.s=x;h(q.exports)}})}},progress:n=>{this.de.send("download-progress",{sf:0,rf:1,tf:k,lengthComputable:n.lengthComputable,total:n.total,
loaded:n.loaded})}})}));f({env:b}).then(g=>{d=g.memory;g.rust_init();g=this.Ma=new tb(this.de,{exports:g,ih:e});c=g.u;Lf(this,g,a)});this.h=null;this.D=0}
async function Lf(a,b,c){function d(x,q){switch(x){case "hda":f.I=this.lb.I=q;break;case "hdb":f.Lc=this.lb.Lc=q;break;case "cdrom":f.Y=this.lb.Y=q;break;case "fda":f.T=this.lb.T=q;break;case "fdb":f.Qe=this.lb.Qe=q;break;case "multiboot":f.Kb=this.lb.Kb=q.buffer;break;case "bzimage":f.tb=this.lb.tb=q.buffer;break;case "initrd":f.Ib=this.lb.Ib=q.buffer;break;case "bios":f.sb=q.buffer;break;case "vga_bios":f.Nf=q.buffer;break;case "initial_state":f.xc=q.buffer;break;case "fs9p_json":f.Ah=q}}async function e(){if(f.tc&&
f.Ah&&!f.xc){var x=f.tc,q=f.Ah;if(3!==q.version)throw"The filesystem JSON format has changed. Please update your fs2json (https://github.com/copy/fs2json) and recreate the filesystem JSON.";var y=q.fsroot;x.o=q.size;for(q=0;q<y.length;q++)Ze(x,y[q],0);if(c.hf){const {Qi:t,xj:m}=Mf(f.tc),[u,D]=await Promise.all([f.tc.Ff(m),f.tc.Ff(t)]);d.call(this,"initrd",new Bb(u.buffer));d.call(this,"bzimage",new Bb(D.buffer))}}this.ac&&this.ac.show&&this.ac.show();this.Ma.Hb(f);f.xc&&(b.Xe(f.xc),f.xc=void 0);c.Ni&&
this.Ma.Gf();this.de.send("emulator-loaded")}a.v.register("emulator-stopped",function(){this.Wf=!1;this.$b.pause()},a);a.v.register("emulator-started",function(){this.Wf=!0;this.$b.continue()},a);var f={};a.lb={T:void 0,Qe:void 0,I:void 0,Lc:void 0,Y:void 0};var g=c.Cb?c.Cb:c.T?801:c.I?786:291;f.sa=c.sa;f.lf=c.lf;f.Aj=!0;f.F=c.F||67108864;f.ma=c.ma||8388608;f.Cb=g;f.wh=c.wh||!1;f.T=void 0;f.Qe=void 0;f.af=c.af;f.bf=c.bf;f.cf=c.cf;f.Db=c.Db;f.se=c.se;f.Jb=c.Jb;f.jd=c.jd;f.Gd=c.Gd;f.Be=c.Be;f.pi=c.pi;
if(g=c.Wl||c.rd&&c.rd.Cc)"fetch"===g?a.j=new Nf(a.v,c.rd):g.startsWith("wisp://")||g.startsWith("wisps://")?a.j=new Of(g,a.v,c.rd):a.j=new Kf(g,a.v);f.rd=c.rd||{type:"ne2k"};g=c.screen||{};c.dl&&(g.Vf=c.dl);c.Cl||(a.o=new Af(a.v));c.Dl||(a.i=new Bf(a.v,g.Vf));g.Vf?a.$b=new Za(g,()=>a.Ma.u.A.Fd&&a.Ma.u.A.Fd.Vg()):a.$b=new Pf;f.screen=a.$b;f.pi=g;c.el&&(a.ac=new Jf(c.el,a.v));c.fl&&(a.ac=new nb(c.fl,a.v));c.cj||(a.g=new Cf(a.v));var h=[];g=(x,q)=>{if(q)if(q.get&&q.set&&q.load)h.push({name:x,xf:q});
else{if("bios"===x||"vga_bios"===x||"initial_state"===x||"multiboot"===x||"bzimage"===x||"initrd"===x)q.async=!1;if("fda"===x||"fdb"===x)q.async=!1;q.url&&!q.async?h.push({name:x,url:q.url,size:q.size}):h.push({name:x,xf:Fb(q,a.Bi.bind(a))})}};c.state&&console.warn("Warning: Unknown option 'state'. Did you mean 'initial_state'?");g("bios",c.sb);g("vga_bios",c.Nf);g("cdrom",c.Y);g("hda",c.I);g("hdb",c.Lc);g("fda",c.T);g("fdb",c.Qe);g("initial_state",c.xc);g("multiboot",c.Kb);g("bzimage",c.tb);g("initrd",
c.Ib);if(c.filesystem){g=c.filesystem.Oi;var k=c.filesystem.Sf;let x=new Qf;k&&(x=new Rf(x,k));f.tc=a.tc=new Xe(x);if(g){if("object"===typeof g){var l=g.size;g=g.url}h.push({name:"fs9p_json",url:g,size:l,Ie:!0})}}var n=h.length,r=function(x){if(x===n)setTimeout(e.bind(this),0);else{var q=h[x];q.xf?(q.xf.onload=function(){d.call(this,q.name,q.xf);r(x+1)}.bind(this),q.xf.load()):Pb(q.url,{done:function(y){if(q.url.endsWith(".zst")&&"initial_state"!==q.name){var t=q.size,m=new Uint8Array(y);y=this.Ma.u;
this.l=y.Ai(m.length);(new Uint8Array(y.Ia.buffer)).set(m,y.Di(this.l));m=y.df(this.l,t);const u=y.Ia.buffer.slice(m,m+t);y.ef(m,t);y.Ci(this.l);this.l=null;y=u}d.call(this,q.name,q.Ie?y:new Bb(y));r(x+1)}.bind(this),progress:function(y){200===y.target.status?a.de.send("download-progress",{sf:x,rf:n,tf:q.url,lengthComputable:y.lengthComputable,total:y.total||q.size,loaded:y.loaded}):a.de.send("download-error",{sf:x,rf:n,tf:q.url,request:y.target})},Ie:q.Ie})}}.bind(a);r(0)}p=ab.prototype;
p.Bi=async function(a,b){if(!this.h){const c=URL.createObjectURL(new Blob(["("+function(){let d;globalThis.onmessage=function(e){if(d){var f=e.data.src,g=e.data.bj;e=e.data.id;var h=d.exports,k=h.zstd_create_ctx(f.length);(new Uint8Array(h.memory.buffer)).set(f,h.zstd_get_src_ptr(k));f=h.zstd_read(k,g);var l=h.memory.buffer.slice(f,f+g);h.zstd_read_free(f,g);h.zstd_free_ctx(k);postMessage({result:l,id:e},[l])}else g=Object.fromEntries("cpu_exception_hook run_hardware_timers cpu_event_halt microtick get_rand_int apic_acknowledge_irq stop_idling io_port_read8 io_port_read16 io_port_read32 io_port_write8 io_port_write16 io_port_write32 mmap_read8 mmap_read16 mmap_read32 mmap_write8 mmap_write16 mmap_write32 mmap_write64 mmap_write128 codegen_finalize jit_clear_func jit_clear_all_funcs".split(" ").map(n=>
[n,()=>console.error("zstd worker unexpectedly called "+n)])),g.__indirect_function_table=new WebAssembly.Table({element:"anyfunc",initial:1024}),g.abort=()=>{throw Error("zstd worker aborted");},g.log_from_wasm=g.console_log_from_wasm=(n,r)=>{console.log(String.fromCharCode(...(new Uint8Array(d.exports.memory.buffer,n,r))))},g.dbg_trace_from_wasm=()=>console.trace(),d=new WebAssembly.Instance(new WebAssembly.Module(e.data),{env:g})}}.toString()+")()"],{type:"text/javascript"}));this.h=new Worker(c);
URL.revokeObjectURL(c);this.h.postMessage(this.s,[this.s])}return new Promise(c=>{const d=this.D++,e=async f=>{f.data.id===d&&(this.h.removeEventListener("message",e),c(f.data.result))};this.h.addEventListener("message",e);this.h.postMessage({src:b,bj:a,id:d},[b.buffer])})};
function Mf(a){const b=(xf(a,"/")||[]).map(e=>"/"+e);a=(xf(a,"/boot/")||[]).map(e=>"/boot/"+e);let c,d;for(const e of[].concat(b,a)){const f=/old/i.test(e)||/fallback/i.test(e),g=/initrd/i.test(e)||/initramfs/i.test(e);!/vmlinuz/i.test(e)&&!/bzimage/i.test(e)||d&&f||(d=e);!g||c&&f||(c=e)}c&&d||(console.log("Failed to find bzimage or initrd in filesystem. Files:"),console.log(b.join(" ")),console.log(a.join(" ")));return{xj:c,Qi:d}}p.Gf=async function(){this.Ma.Gf()};
p.stop=async function(){this.Wf&&await new Promise(a=>{const b=()=>{this.v.unregister("emulator-stopped",b);a()};bb(this,"emulator-stopped",b);this.Ma.stop()})};p.ta=async function(){await this.stop();this.Ma.ta();this.o&&this.o.ta();this.j&&this.j.ta();this.i&&this.i.ta();this.$b&&this.$b.ta();this.ac&&this.ac.ta();this.g&&this.g.ta()};p.Tg=function(){this.Ma.Tg()};function bb(a,b,c){a.v.register(b,c,a)}p.Xe=async function(a){this.Ma.Xe(a)};p.Hf=async function(){return this.Ma.Hf()};p.od=function(){return this.Wf};
p.If=async function(a){if(a.url&&!a.async)Pb(a.url,{done:b=>{this.Ma.u.A.ee.If(new Bb(b))}});else{const b=Fb(a,this.Bi.bind(this));b.onload=()=>{this.Ma.u.A.ee.If(b)};await b.load()}};p.ag=function(){this.Ma.u.A.ee.ag()};function mb(a,b){for(var c=0;c<b.length;c++)a.v.send("keyboard-code",b[c])}function db(a,b){for(var c=0;c<b.length;c++)a.o.il(b[c])}function lb(){var a=document.body,b=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock;b&&b.call(a)}
p.Wi=async function(a,b){var c=this.tc;if(c){var d=a.split("/");d=d[d.length-1];a=sf(c,a).Ng;if(""!==d&&-1!==a)await hf(c,d,a,b);else return Promise.reject(new Sf)}};p.Ff=async function(a){var b=this.tc;if(b)return(a=await b.Ff(a))?a:Promise.reject(new Sf)};function Sf(){this.message="File not found"}Sf.prototype=Error.prototype;
"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports.V86=ab:"undefined"!==typeof window?window.V86=ab:"function"===typeof importScripts&&(self.V86=ab);function Pf(){var a,b=0,c=0;this.j=function(d,e,f){a[d*b+e]=f};this.ta=function(){};this.pause=function(){};this.continue=function(){};this.g=function(){};this.C=function(){};this.D=function(){};this.M=function(){};this.i=function(d,e){if(d!==b||e!==c)a=new Uint8Array(d*e),b=d,c=e};this.h=function(){};this.Yg=function(){};this.L=function(){};this.G=function(){};this.l=function(){};this.i(80,25)};const Tf=(new Date("1970-01-01T00:00:00Z")).getTime()-(new Date("1900-01-01T00:00:00Z")).getTime(),Uf=Math.pow(2,32),Vf=[118,56,54];function Wf(a){return[0,1,2,3,4,5].map(b=>a[b].toString(16)).map(b=>1===b.length?"0"+b:b).join(":")}function Xf(a){return a[0]<<24|a[1]<<16|a[2]<<8|a[3]}function Yf(a,b){const c=Math.min(a.length,b.length);if(c){const f=a.buffer;var d=f.length,e=a.g+c;e>d?(e%=d,d-=a.g,b.set(f.subarray(a.g)),b.set(f.subarray(0,e),d)):b.set(f.subarray(a.g,e))}return c}
class Zf{constructor(){var a=Math.min(2048,16);this.length=this.head=this.g=0;this.buffer=new Uint8Array(a)}write(a){const b=a.length;var c=this.length+b;let d=this.buffer.length;if(d<c){for(;d<c;)d*=2;c=new Uint8Array(d);Yf(this,c);this.g=0;this.head=this.length;this.buffer=c}c=this.buffer;const e=this.head+b;if(e>d){const f=d-this.head;c.set(a.subarray(0,f),this.head);c.set(a.subarray(f))}else c.set(a,this.head);this.head=e%d;this.length+=b}remove(a){a>this.length&&(a=this.length);a&&(this.g=(this.g+
a)%this.buffer.length,this.length-=a);return a}}function $f(){const a=new Uint8Array(1518),b=a.buffer,c=a.byteOffset;return{Pe:a,pj:new DataView(b),vh:new DataView(b,c+14,1500),Gg:new DataView(b,c+34,1480),ug:new DataView(b,c+42,1472),wi:new TextEncoder}}function ag(a,b,c,d){d.Pe.set(b,c.byteOffset+a);return b.length}function bg(a,b,c,d){const e=c.byteOffset+(a&-2);d=d.Pe;for(c=c.byteOffset;c<e;c+=2)b+=d[c]<<8|d[c+1];for(a&1&&(b+=d[e]<<8);b>>16;)b=(b&65535)+(b>>16);return~b&65535}
function cg(a,b){a.Pe.fill(0);var c=a.Pe,d=c.subarray,e=a.pj;ag(0,b.Ea.ga,e,a);ag(6,b.Ea.src,e,a);e.setUint16(12,b.Ea.rc);e=14;if(b.Ra){var f=a.vh;f.setUint16(0,b.Ra.vf);f.setUint16(2,b.Ra.Rg);f.setUint8(4,b.Ra.Zg.length);f.setUint8(5,b.Ra.qg.length);f.setUint16(6,b.Ra.Mg);ag(8,b.Ra.Zg,f,a);ag(14,b.Ra.qg,f,a);ag(18,b.Ra.xi,f,a);ag(24,b.Ra.Lf,f,a);e+=28}else if(b.W){f=a.vh;var g=20;if(b.Nc){var h=a.Gg;h.setUint8(0,b.Nc.type);h.setUint8(1,b.Nc.code);h.setUint16(2,0);var k=4+ag(4,b.Nc.data,h,a);h.setUint16(2,
bg(k,0,h,a));g+=k}else if(b.Va){h=a.Gg;var l=8;if(b.wa){k=l;var n=a.ug;n.setUint8(0,b.wa.Ve);n.setUint8(1,b.wa.vf);n.setUint8(2,b.wa.Gh);n.setUint8(3,b.wa.Hh);n.setUint32(4,b.wa.jh);n.setUint16(8,b.wa.ri);n.setUint16(10,b.wa.flags);n.setUint32(12,b.wa.nh);n.setUint32(16,b.wa.zi);n.setUint32(20,b.wa.ui);n.setUint32(24,b.wa.Eh);ag(28,b.wa.Ag,n,a);n.setUint32(236,1669485411);l=240;for(var r of b.wa.options)l+=ag(l,r,n,a);k+=l}else if(b.hb){r=l;l=a.ug;l.setUint16(0,b.hb.id);l.setUint16(2,b.hb.flags);
l.setUint16(4,b.hb.zd.length);l.setUint16(6,b.hb.gf.length);let y=12;for(var x=0;x<b.hb.zd.length;++x){var q=b.hb.zd[x];for(n of q.name){const t=a.wi.encodeInto(n,a.Pe.subarray(l.byteOffset+(y+1))).written;l.setUint8(y,t);y+=1+t}l.setUint16(y,q.type);y+=2;l.setUint16(y,q.Zd);y+=2}for(x=0;x<b.hb.gf.length;++x){n=b.hb.gf[x];for(k of n.name)q=a.wi.encodeInto(k,a.Pe.subarray(l.byteOffset+(y+1))).written,l.setUint8(y,q),y+=1+q;l.setUint16(y,n.type);y+=2;l.setUint16(y,n.Zd);y+=2;l.setUint32(y,n.tg);y+=
4;l.setUint16(y,n.data.length);y+=2;y+=ag(y,n.data,l,a)}k=r+y}else b.na?(k=l,n=a.ug,n.setUint8(0,b.na.flags),n.setUint8(1,b.na.vi),n.setUint8(2,b.na.Vh),n.setUint8(3,b.na.precision),n.setUint32(4,b.na.bl),n.setUint32(8,b.na.cl),n.setUint32(12,b.na.Zk),n.setUint32(16,b.na.al),n.setUint32(20,b.na.$k),n.setUint32(24,b.na.Oh),n.setUint32(28,b.na.Nh),n.setUint32(32,b.na.oi),n.setUint32(36,b.na.ni),n.setUint32(40,b.na.dh),n.setUint32(44,b.na.bh),k+=48):k=l+ag(0,b.Va.data,a.ug,a);l=k;h.setUint16(0,b.Va.xa);
h.setUint16(2,b.Va.ua);h.setUint16(4,l);h.setUint16(6,0);h.setUint16(6,bg(l,(b.W.src[0]<<8|b.W.src[1])+(b.W.src[2]<<8|b.W.src[3])+(b.W.ga[0]<<8|b.W.ga[1])+(b.W.ga[2]<<8|b.W.ga[3])+17+l,h,a));g+=l}else b.P&&(h=a.Gg,k=0,n=b.P,n.Re&&(k|=1),n.xe&&(k|=2),n.Ye&&(k|=4),n.li&&(k|=8),n.Ga&&(k|=16),n.ll&&(k|=32),n.kj&&(k|=64),n.Xi&&(k|=128),h.setUint16(0,n.xa),h.setUint16(2,n.ua),h.setUint32(4,n.rb),h.setUint32(8,n.ec),h.setUint8(12,80),h.setUint8(13,k),h.setUint16(14,n.cc),h.setUint16(16,0),h.setUint16(18,
n.ml||0),k=20,b.$e&&(k+=ag(20,b.$e,h,a)),h.setUint16(16,bg(k,(b.W.src[0]<<8|b.W.src[1])+(b.W.src[2]<<8|b.W.src[3])+(b.W.ga[0]<<8|b.W.ga[1])+(b.W.ga[2]<<8|b.W.ga[3])+6+k,h,a)),g+=k);f.setUint8(0,69);f.setUint8(1,b.W.kl||0);f.setUint16(2,g);f.setUint16(4,b.W.id||0);f.setUint8(6,64);f.setUint8(8,b.W.tg||32);f.setUint8(9,b.W.Yc);f.setUint16(10,0);ag(12,b.W.src,f,a);ag(16,b.W.ga,f,a);f.setUint16(10,bg(20,0,f,a));e+=g}return d.call(c,0,e)}
function dg(a,b){fetch(`https://${b.$f||"cloudflare-dns.com"}/dns-query`,{method:"POST",headers:[["content-type","application/dns-message"]],body:a.Va.data}).then(async c=>{c={Ea:{rc:2048,src:b.vb,ga:a.Ea.src},W:{Yc:17,src:b.qb,ga:a.W.src},Va:{xa:53,ua:a.Va.xa,data:new Uint8Array(await c.arrayBuffer())}};b.Ha(cg(b.Na,c))})}
function eg(a,b){let c={};c.Ea={rc:2048,src:b.vb,ga:a.Ea.src};c.W={Yc:17,src:b.qb,ga:b.Pf};c.Va={xa:67,ua:68};c.wa={vf:1,Gh:6,Hh:0,jh:a.wa.jh,ri:0,flags:0,nh:0,zi:Xf(b.Pf),ui:Xf(b.qb),Eh:Xf(b.qb),Ag:a.wa.Ag};let d=[],e=a.wa.options.find(function(f){return 53===f[0]});e&&3===e[2]&&(a.wa.Ve=3);1===a.wa.Ve&&(c.wa.Ve=2,d.push(new Uint8Array([53,1,2])));3===a.wa.Ve&&(c.wa.Ve=2,d.push(new Uint8Array([53,1,5])),d.push(new Uint8Array([51,4,8,0,0,0])));a=[b.qb[0],b.qb[1],b.qb[2],b.qb[3]];d.push(new Uint8Array([1,
4,255,255,255,0]));b.je&&(d.push(new Uint8Array([3,4].concat(a))),d.push(new Uint8Array([6,4].concat(a))));d.push(new Uint8Array([54,4].concat(a)));d.push(new Uint8Array([60,3].concat(Vf)));d.push(new Uint8Array([255,0]));c.wa.options=d;b.Ha(cg(b.Na,c))}
function fg(a,b){let c={};var d=(new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint16(12),e={rc:d,ga:a.subarray(0,6),Al:Wf(a.subarray(0,6)),src:a.subarray(6,12),bm:Wf(a.subarray(6,12))};c.Ea=e;a=a.subarray(14,a.length);if(2048===d){var f=new DataView(a.buffer,a.byteOffset,a.byteLength);e=a[0]>>4&15;var g=a[0]&15,h=f.getUint8(1),k=f.getUint16(2);let l=f.getUint8(8);d=f.getUint8(9);f=f.getUint16(10);c.W={version:e,Rl:g,kl:h,Te:k,tg:l,Yc:d,Tl:f,src:a.subarray(12,16),ga:a.subarray(16,20)};e=a.subarray(4*
g,k);if(1===d)a=new DataView(e.buffer,e.byteOffset,e.byteLength),a={type:a.getUint8(0),code:a.getUint8(1),mh:a.getUint16(2),data:e.subarray(4)},c.Nc=a;else if(6===d)d=new DataView(e.buffer,e.byteOffset,e.byteLength),a={xa:d.getUint16(0),ua:d.getUint16(2),rb:d.getUint32(4),ec:d.getUint32(8),jj:d.getUint8(12)>>4,cc:d.getUint16(14),mh:d.getUint16(16),ml:d.getUint16(18)},d=d.getUint8(13),a.Re=!!(d&1),a.xe=!!(d&2),a.Ye=!!(d&4),a.li=!!(d&8),a.Ga=!!(d&16),a.ll=!!(d&32),a.kj=!!(d&64),a.Xi=!!(d&128),c.P=a,
c.$e=e.subarray(4*a.jj);else if(17===d){a=new DataView(e.buffer,e.byteOffset,e.byteLength);a={xa:a.getUint16(0),ua:a.getUint16(2),Te:a.getUint16(4),mh:a.getUint16(6),data:e.subarray(8),aj:(new TextDecoder).decode(e.subarray(8))};if(67===a.ua||67===a.xa){e=e.subarray(8);d=new DataView(e.buffer,e.byteOffset,e.byteLength);d={Ve:d.getUint8(0),vf:d.getUint8(1),Gh:d.getUint8(2),Hh:d.getUint8(3),jh:d.getUint32(4),ri:d.getUint16(8),flags:d.getUint16(10),nh:d.getUint32(12),zi:d.getUint32(16),ui:d.getUint32(20),
Eh:d.getUint32(24),Ag:e.subarray(28,44),Jh:d.getUint32(236),options:[]};e=e.subarray(240);for(g=0;g<e.length;++g)h=g,0!==e[g]&&(++g,k=e[g],g+=k,d.options.push(e.subarray(h,h+k+2)));c.wa=d;c.Bl=d.options}else 53===a.ua||53===a.xa?gg(e.subarray(8),c):123===a.ua&&(d=e.subarray(8),d=new DataView(d.buffer,d.byteOffset,d.byteLength),c.na={flags:d.getUint8(0),vi:d.getUint8(1),Vh:d.getUint8(2),precision:d.getUint8(3),bl:d.getUint32(4),cl:d.getUint32(8),Zk:d.getUint32(12),al:d.getUint32(16),$k:d.getUint32(20),
Oh:d.getUint32(24),Nh:d.getUint32(28),oi:d.getUint32(32),ni:d.getUint32(36),dh:d.getUint32(40),bh:d.getUint32(44)});c.Va=a}}else 2054===d&&(d=new DataView(a.buffer,a.byteOffset,a.byteLength),a={vf:d.getUint16(0),Rg:d.getUint16(2),Mg:d.getUint16(6),Zg:a.subarray(8,14),qg:a.subarray(14,18),xi:a.subarray(18,24),Lf:a.subarray(24,28)},c.Ra=a);if(c.W)if(c.P){if(a=`${c.W.src.join(".")}:${c.P.xa}:${c.W.ga.join(".")}:${c.P.ua}`,!c.P.xe||!b.Mh(c,a))if(b.ze[a])b.ze[a].process(c);else{a=c.P.ec;if(c.P.Re||c.P.xe)a+=
1;d={};d.Ea={rc:2048,src:b.vb,ga:c.Ea.src};d.W={Yc:6,src:c.W.ga,ga:c.W.src};d.P={xa:c.P.ua,ua:c.P.xa,rb:a,ec:c.P.rb+(c.P.xe?1:0),cc:c.P.cc,Ye:!0,Ga:c.P.xe};b.Ha(cg(b.Na,d))}}else if(c.Va)if(c.hb)if("static"===b.Zf){a={};a.Ea={rc:2048,src:b.vb,ga:c.Ea.src};a.W={Yc:17,src:b.qb,ga:c.W.src};a.Va={xa:53,ua:c.Va.xa};d=[];for(e=0;e<c.hb.zd.length;++e)switch(g=c.hb.zd[e],g.type){case 1:d.push({name:g.name,type:g.type,Zd:g.Zd,tg:600,data:[192,168,87,1]})}a.hb={id:c.hb.id,flags:33152,zd:c.hb.zd,gf:d};b.Ha(cg(b.Na,
a))}else dg(c,b);else c.wa?eg(c,b):c.na?(a=Date.now()+Tf,d=a%1E3/1E3*Uf,e={},e.Ea={rc:2048,src:b.vb,ga:c.Ea.src},e.W={Yc:17,src:c.W.ga,ga:c.W.src},e.Va={xa:123,ua:c.Va.xa},e.na=Object.assign({},c.na),e.na.flags=36,e.na.Vh=10,e.na.Oh=c.na.dh,e.na.Nh=c.na.bh,e.na.oi=a/1E3,e.na.ni=d,e.na.dh=a/1E3,e.na.bh=d,e.na.vi=2,b.Ha(cg(b.Na,e))):8===c.Va.ua&&(a={},a.Ea={rc:2048,src:b.vb,ga:c.Ea.src},a.W={Yc:17,src:c.W.ga,ga:c.W.src},a.Va={xa:c.Va.ua,ua:c.Va.xa,data:(new TextEncoder).encode(c.Va.aj)},b.Ha(cg(b.Na,
a)));else c.Nc&&8===c.Nc.type&&(a={},a.Ea={rc:2048,src:b.vb,ga:c.Ea.src},a.W={Yc:1,src:b.qb,ga:c.W.src},a.Nc={type:0,code:c.Nc.code,data:c.Nc.data},b.Ha(cg(b.Na,a)));else c.Ra&&1===c.Ra.Mg&&2048===c.Ra.Rg&&(a=Xf(c.Ra.Lf)&4294967040,d=Xf(b.qb)&4294967040,!b.je&&a!==d||a===d&&99<c.Ra.Lf[3]||(a={},a.Ea={rc:2054,src:b.vb,ga:c.Ea.src},a.Ra={vf:1,Rg:2048,Mg:2,Zg:b.vb,qg:c.Ra.Lf,xi:c.Ea.src,Lf:c.Ra.qg},b.Ha(cg(b.Na,a))))}
function gg(a,b){function c(){let l=[],n;do n=d.getUint8(h),l.push((new TextDecoder).decode(a.subarray(h+1,h+1+n))),h+=n+1;while(0<n);return l}let d=new DataView(a.buffer,a.byteOffset,a.byteLength),e={id:d.getUint16(0),flags:d.getUint16(2),zd:[],gf:[]};var f=d.getUint16(4);let g=d.getUint16(6);d.getUint16(8);d.getUint16(10);let h=12;for(var k=0;k<f;k++)e.zd.push({name:c(),type:d.getInt16(h),Zd:d.getInt16(h+2)}),h+=4;for(f=0;f<g;f++){k={name:c(),type:d.getInt16(h),Zd:d.getUint16(h+2),tg:d.getUint32(h+
4)};h+=8;let l=d.getUint16(h);h+=2;k.data=a.subarray(h,h+l);h+=l;e.gf.push(k)}b.hb=e}function hg(){this.state="closed";this.g=new Zf;this.N=new Uint8Array(1460);this.j=this.h=!1;this.o=void 0}function ig(a){let b={};b.Ea={rc:2048,src:a.D,ga:a.C};b.W={Yc:6,src:a.M,ga:a.L};b.P={xa:a.xa,ua:a.ua,cc:a.cc,ec:a.Ga,rb:a.rb,Ga:!0};return b}function jg(a,b,c){b={xa:b.P.ua,ua:b.P.xa,cc:b.P.cc,ec:a.Ga,rb:a.rb};if(c)for(const d in c)b[d]=c[d];a=ig(a);a.P=b;return a}p=hg.prototype;
p.accept=function(a){this.rb=1338;this.Ga=a.P.rb+1;this.D=this.la.vb;this.M=a.W.ga;this.xa=a.P.ua;this.C=a.Ea.src;this.ua=a.P.xa;this.L=a.W.src;this.cc=a.P.cc;let b=ig(this);b.P={xa:this.xa,ua:this.ua,rb:1337,ec:this.Ga,cc:a.P.cc,xe:!0,Ga:!0};this.state="established";this.la.Ha(cg(this.la.Na,b))};
p.process=function(a){if("closed"===this.state)a=jg(this,a,{Ye:!0}),this.la.Ha(cg(this.la.Na,a));else if(a.P.Ye)this.Af(),kg(this);else if(a.P.xe)"syn-sent"===this.state&&a.P.Ga&&(this.Ga=a.P.rb+1,this.i=a.P.ec,this.la.Ha(cg(this.la.Na,ig(this))),this.state="established",this.G&&this.G.call(this));else{if(a.P.Ga)if("syn-received"===this.state)this.state="established";else if("fin-wait-1"===this.state)a.P.Re||(this.state="fin-wait-2");else if("closing"===this.state||"last-ack"===this.state){kg(this);
return}if(void 0===this.i)this.i=a.P.ec;else{var b=a.P.ec-this.i;if(0<b){if(this.i=a.P.ec,this.g.remove(b),this.rb+=b,this.pending=!1,this.j&&!this.g.length){this.j=!1;this.state=this.o;a=ig(this);a.P.Re=!0;this.la.Ha(cg(this.la.Na,a));return}}else if(0>b){a=jg(this,a,{Ye:!0});this.la.Ha(cg(this.la.Na,a));this.Af();kg(this);return}}a.P.Re?(++this.Ga,b=jg(this,a,{}),"established"===this.state?(b.P.Ga=!0,this.state="close-wait",this.Lh()):"fin-wait-1"===this.state?(a.P.Ga?kg(this):this.state="closing",
b.P.Ga=!0):"fin-wait-2"===this.state?(kg(this),b.P.Ga=!0):(kg(this),this.Af(),b.P.Ye=!0),this.la.Ha(cg(this.la.Na,b))):this.Ga!==a.P.rb?(a=jg(this,a,{Ga:!0}),this.la.Ha(cg(this.la.Na,a))):a.P.Ga&&0<a.$e.length&&(this.Ga+=a.$e.length,this.la.Ha(cg(this.la.Na,ig(this))),this.s(a.$e));this.pb()}};p.write=function(a){this.h||this.g.write(a);this.pb()};
p.close=function(){if(!this.h){this.h=!0;if("established"===this.state||"syn-received"===this.state)var a="fin-wait-1";else if("close-wait"===this.state)a="last-ack";else{kg(this);return}this.g.length||this.pending?(this.j=!0,this.o=a):(this.state=a,a=ig(this),a.P.Re=!0,this.la.Ha(cg(this.la.Na,a)))}this.pb()};p.Lh=function(){};p.Af=function(){};function kg(a){a.la.ze[a.l]&&(a.state="closed",delete a.la.ze[a.l])}
p.pb=function(){if(this.g.length&&!this.pending){const a=this.N,b=Yf(this.g,a),c=ig(this);c.P.li=!0;c.$e=a.subarray(0,b);this.la.Ha(cg(this.la.Na,c));this.pending=!0}};function Of(a,b,c){lg(this,a);this.j=1;this.g={0:{jf:0}};this.i=[];c=c||{};this.v=b;this.id=c.id||0;this.vb=new Uint8Array((c.vb||"52:54:0:1:2:3").split(":").map(function(d){return parseInt(d,16)}));this.qb=new Uint8Array((c.qb||"192.168.86.1").split(".").map(function(d){return parseInt(d,10)}));this.Pf=new Uint8Array((c.Pf||"192.168.86.100").split(".").map(function(d){return parseInt(d,10)}));this.je=void 0===c.je||!!c.je;new Uint8Array(6);this.Zf=c.Zf||"doh";this.$f=c.$f;this.ze={};this.Na=$f();
this.v.register("net"+this.id+"-mac",function(d){new Uint8Array(d.split(":").map(function(e){return parseInt(e,16)}))},this);this.v.register("net"+this.id+"-send",function(d){this.send(d)},this)}
function lg(a,b){a.h=new WebSocket(b.replace("wisp://","ws://").replace("wisps://","wss://"));a.h.binaryType="arraybuffer";a.h.onmessage=c=>{c=new Uint8Array(c.data);const d=new DataView(c.buffer),e=d.getUint32(1,!0);switch(c[0]){case 2:if(a.g[e])a.g[e].Cg(c.slice(5));else throw Error("Got a DATA packet but stream not registered. ID: "+e);break;case 3:a.g[e]&&(a.g[e].jf=d.getUint32(5,!0));if(a.g[e].oh){for(const f of a.i)mg(a,f.data,f.type,e);a.g[e].oh=!1}break;case 4:a.g[e]&&a.g[e].Bg(d.getUint8(5)),
delete a.g[e]}};a.h.onclose=()=>{setTimeout(()=>{lg(a,b)},1E4)}}function mg(a,b,c,d){a.g[d]&&(0<a.g[d].jf?("DATA"===c&&a.g[d].jf--,a.h.send(b)):(a.g[d].oh=!0,a.i.push({data:b,type:c})))}
function ng(a,b){let c,d;switch(b.type){case "CONNECT":const e=(new TextEncoder).encode(b.hostname);c=new Uint8Array(8+e.length);d=new DataView(c.buffer);d.setUint8(0,1);d.setUint32(1,b.bc,!0);d.setUint8(5,1);d.setUint16(6,b.port,!0);c.set(e,8);a.g[b.bc]={Cg:b.Cg,Bg:b.Bg,jf:a.g[0].jf};break;case "DATA":c=new Uint8Array(5+b.data.length);d=new DataView(c.buffer);d.setUint8(0,2);d.setUint32(1,b.bc,!0);c.set(b.data,5);break;case "CLOSE":c=new Uint8Array(6),d=new DataView(c.buffer),d.setUint8(0,4),d.setUint32(1,
b.bc,!0),d.setUint8(5,b.reason)}mg(a,c,b.type,b.bc)}Of.prototype.ta=function(){this.h&&(this.h.onmessage=null,this.h.onclose=null,this.h.close(),this.h=null)};
Of.prototype.Mh=function(a,b){let c=new hg;c.state="syn-received";c.la=this;c.l=b;c.bc=this.j++;this.ze[b]=c;c.s=d=>{0!==d.length&&ng(this,{type:"DATA",bc:c.bc,data:d})};c.Af=()=>{ng(this,{type:"CLOSE",bc:c.bc,reason:2})};c.Lh=c.Af;ng(this,{type:"CONNECT",bc:c.bc,hostname:a.W.ga.join("."),port:a.P.ua,Cg:d=>{c.write(d)},Bg:()=>{c.close()}});c.accept(a);return!0};Of.prototype.send=function(a){fg(a,this)};Of.prototype.Ha=function(a){this.v.send("net"+this.id+"-receive",new Uint8Array(a))};function Nf(a,b){b=b||{};this.v=a;this.id=b.id||0;this.vb=new Uint8Array((b.vb||"52:54:0:1:2:3").split(":").map(function(c){return parseInt(c,16)}));this.qb=new Uint8Array((b.qb||"192.168.86.1").split(".").map(function(c){return parseInt(c,10)}));this.Pf=new Uint8Array((b.Pf||"192.168.86.100").split(".").map(function(c){return parseInt(c,10)}));this.je=void 0===b.je||!!b.je;new Uint8Array(6);this.Zf=b.Zf||"static";this.$f=b.$f;this.ze={};this.Na=$f();this.Le=b.Le;this.v.register("net"+this.id+"-mac",
function(c){new Uint8Array(c.split(":").map(function(d){return parseInt(d,16)}))},this);this.v.register("net"+this.id+"-send",function(c){this.send(c)},this)}Nf.prototype.ta=function(){};Nf.prototype.Mh=function(a,b){if(80===a.P.ua){let c=new hg;c.state="syn-received";c.la=this;c.s=og;c.l=b;c.accept(a);this.ze[b]=c;return!0}return!1};
async function og(a){this.read=this.read||"";if((this.read+=(new TextDecoder).decode(a))&&-1!==this.read.indexOf("\r\n\r\n")){var b=this.read.indexOf("\r\n\r\n");a=this.read.substring(0,b).split(/\r\n/);b=this.read.substring(b+4);this.read="";let c=a[0].split(" "),d;d=/^https?:/.test(c[1])?new URL(c[1]):new URL("http://host"+c[1]);"undefined"!==typeof window&&"http:"===d.protocol&&"https:"===window.location.protocol&&(d.protocol="https:");let e=new Headers;for(let k=1;k<a.length;++k){const l=pg(a[k]);
if(!l){console.warn('The request contains an invalid header: "%s"',a[k]);this.write((new TextEncoder).encode("HTTP/1.1 400 Bad Request\r\nContent-Length: 0"));return}"host"===l.key.toLowerCase()?d.host=l.value:e.append(l.key,l.value)}this.name=d.href;a={method:c[0],headers:e};-1!==["put","post"].indexOf(a.method.toLowerCase())&&(a.body=b);const f=this.la.Le?this.la.Le+encodeURIComponent(d.href):d.href,g=new TextEncoder;let h=!1;fetch(f,a).then(k=>{const l=[`HTTP/1.1 ${k.status} ${k.statusText}`,`x-was-fetch-redirected: ${!!k.redirected}`,
`x-fetch-resp-url: ${k.url}`,"Connection: closed"];for(const [x,q]of k.headers.entries())["content-encoding","connection","content-length","transfer-encoding"].includes(x.toLowerCase())||l.push(`${x}:  ${q}`);this.write(g.encode(l.join("\r\n")+"\r\n\r\n"));h=!0;const n=k.body.getReader(),r=({value:x,done:q})=>{x&&this.write(x);if(q)this.close();else return n.read().then(r)};n.read().then(r)}).catch(k=>{console.warn("Fetch Failed: "+f+"\n"+k);if(!h){k=g.encode(`Fetch ${f} failed:\n\n${k.stack||k.message}`);
k=[g.encode(["HTTP/1.1 502 Fetch Error","Content-Type: text/plain",`Content-Length: ${k.length}`,"Connection: closed"].join("\r\n")+"\r\n\r\n"),k];if(!this.h)for(const l of k)this.g.write(l);this.pb()}this.close()})}}function pg(a){var b=a.match(/^([^:]*):(.*)$/);if(b&&(a=b[1],b=b[2].trim(),0!==a.length&&0!==b.length&&/^[\w-]+$/.test(a)&&/^[\x20-\x7E]+$/.test(b)))return{key:a,value:b}}Nf.prototype.send=function(a){fg(a,this)};Nf.prototype.Ha=function(a){this.v.send("net"+this.id+"-receive",new Uint8Array(a))};
"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports.FetchNetworkAdapter=Nf);const cb={jl:function(a){return cb.Xk(a)+cb.Wk(a)},Xk:function(a){let b="";var c="COMPILE COMPILE_SKIPPED_NO_NEW_ENTRY_POINTS COMPILE_WRONG_ADDRESS_SPACE COMPILE_CUT_OFF_AT_END_OF_PAGE COMPILE_WITH_LOOP_SAFETY COMPILE_PAGE COMPILE_PAGE/COMPILE COMPILE_BASIC_BLOCK COMPILE_DUPLICATED_BASIC_BLOCK COMPILE_WASM_BLOCK COMPILE_WASM_LOOP COMPILE_DISPATCHER COMPILE_ENTRY_POINT COMPILE_WASM_TOTAL_BYTES COMPILE_WASM_TOTAL_BYTES/COMPILE_PAGE RUN_INTERPRETED RUN_INTERPRETED_NEW_PAGE RUN_INTERPRETED_PAGE_HAS_CODE RUN_INTERPRETED_PAGE_HAS_ENTRY_AFTER_PAGE_WALK RUN_INTERPRETED_NEAR_END_OF_PAGE RUN_INTERPRETED_DIFFERENT_STATE RUN_INTERPRETED_DIFFERENT_STATE_CPL3 RUN_INTERPRETED_DIFFERENT_STATE_FLAT RUN_INTERPRETED_DIFFERENT_STATE_IS32 RUN_INTERPRETED_DIFFERENT_STATE_SS32 RUN_INTERPRETED_MISSED_COMPILED_ENTRY_RUN_INTERPRETED RUN_INTERPRETED_STEPS RUN_FROM_CACHE RUN_FROM_CACHE_STEPS RUN_FROM_CACHE_STEPS/RUN_FROM_CACHE RUN_FROM_CACHE_STEPS/RUN_INTERPRETED_STEPS DIRECT_EXIT INDIRECT_JUMP INDIRECT_JUMP_NO_ENTRY NORMAL_PAGE_CHANGE NORMAL_FALLTHRU NORMAL_FALLTHRU_WITH_TARGET_BLOCK NORMAL_BRANCH NORMAL_BRANCH_WITH_TARGET_BLOCK CONDITIONAL_JUMP CONDITIONAL_JUMP_PAGE_CHANGE CONDITIONAL_JUMP_EXIT CONDITIONAL_JUMP_FALLTHRU CONDITIONAL_JUMP_FALLTHRU_WITH_TARGET_BLOCK CONDITIONAL_JUMP_BRANCH CONDITIONAL_JUMP_BRANCH_WITH_TARGET_BLOCK DISPATCHER_SMALL DISPATCHER_LARGE LOOP LOOP_SAFETY CONDITION_OPTIMISED CONDITION_UNOPTIMISED CONDITION_UNOPTIMISED_PF CONDITION_UNOPTIMISED_UNHANDLED_L CONDITION_UNOPTIMISED_UNHANDLED_LE FAILED_PAGE_CHANGE SAFE_READ_FAST SAFE_READ_SLOW_PAGE_CROSSED SAFE_READ_SLOW_NOT_VALID SAFE_READ_SLOW_NOT_USER SAFE_READ_SLOW_IN_MAPPED_RANGE SAFE_WRITE_FAST SAFE_WRITE_SLOW_PAGE_CROSSED SAFE_WRITE_SLOW_NOT_VALID SAFE_WRITE_SLOW_NOT_USER SAFE_WRITE_SLOW_IN_MAPPED_RANGE SAFE_WRITE_SLOW_READ_ONLY SAFE_WRITE_SLOW_HAS_CODE SAFE_READ_WRITE_FAST SAFE_READ_WRITE_SLOW_PAGE_CROSSED SAFE_READ_WRITE_SLOW_NOT_VALID SAFE_READ_WRITE_SLOW_NOT_USER SAFE_READ_WRITE_SLOW_IN_MAPPED_RANGE SAFE_READ_WRITE_SLOW_READ_ONLY SAFE_READ_WRITE_SLOW_HAS_CODE PAGE_FAULT TLB_MISS MAIN_LOOP MAIN_LOOP_IDLE DO_MANY_CYCLES CYCLE_INTERNAL INVALIDATE_ALL_MODULES_NO_FREE_WASM_INDICES INVALIDATE_MODULE_WRITTEN_WHILE_COMPILED INVALIDATE_MODULE_UNUSED_AFTER_OVERWRITE INVALIDATE_MODULE_DIRTY_PAGE INVALIDATE_PAGE_HAD_CODE INVALIDATE_PAGE_HAD_ENTRY_POINTS DIRTY_PAGE_DID_NOT_HAVE_CODE RUN_FROM_CACHE_EXIT_SAME_PAGE RUN_FROM_CACHE_EXIT_NEAR_END_OF_PAGE RUN_FROM_CACHE_EXIT_DIFFERENT_PAGE CLEAR_TLB FULL_CLEAR_TLB TLB_FULL TLB_GLOBAL_FULL MODRM_SIMPLE_REG MODRM_SIMPLE_REG_WITH_OFFSET MODRM_SIMPLE_CONST_OFFSET MODRM_COMPLEX SEG_OFFSET_OPTIMISED SEG_OFFSET_NOT_OPTIMISED SEG_OFFSET_NOT_OPTIMISED_ES SEG_OFFSET_NOT_OPTIMISED_FS SEG_OFFSET_NOT_OPTIMISED_GS SEG_OFFSET_NOT_OPTIMISED_NOT_FLAT".split(" "),
d=0;const e={};for(let g=0;g<c.length;g++){const h=c[g];var f=void 0;if(h.includes("/")){d++;const [k,l]=h.split("/");f=e[k]/e[l]}else f=e[h]=a.Ja.exports.profiler_stat_get(g-d),f=1E8<=f?Math.round(f/1E6)+"m":1E5<=f?Math.round(f/1E3)+"k":f;b+=h+"="+f+"\n"}b+="\n";c=a.Ja.exports.get_valid_tlb_entries_count();d=a.Ja.exports.get_valid_global_tlb_entries_count();b=b+("TLB_ENTRIES="+c+" ("+d+" global, "+(c-d)+" non-global)\nWASM_TABLE_FREE=")+(a.Ja.exports.jit_get_wasm_table_index_free_list_count()+"\n");
b+="JIT_CACHE_SIZE="+a.Ja.exports.jit_get_cache_size()+"\n";b+="FLAT_SEGMENTS="+a.Ja.exports.has_flat_segmentation()+"\n";b+="wasm memory size: "+(a.Ia.buffer.byteLength>>20)+"m\n";b=b+"Config:\nJIT_DISABLED="+(a.Ja.exports.get_jit_config(0)+"\n");b+="MAX_PAGES="+a.Ja.exports.get_jit_config(1)+"\n";b+="JIT_USE_LOOP_SAFETY="+!!a.Ja.exports.get_jit_config(2)+"\n";return b+="MAX_EXTRA_BASIC_BLOCKS="+a.Ja.exports.get_jit_config(3)+"\n"},Wk:function(a){return[cb.Cf(a,!1,!1,!1,!1),cb.Cf(a,!0,!1,!1,!1),
cb.Cf(a,!1,!0,!1,!1),cb.Cf(a,!1,!1,!0,!1),cb.Cf(a,!1,!1,!1,!0)].join("\n\n")},Cf:function(a,b,c,d,e){let f="";var g=[],h=b?"compiled":c?"jit exit":d?"unguarded register":e?"wasm size":"executed";for(let n=0;256>n;n++)for(let r=0;8>r;r++)for(const x of[!1,!0]){var k=a.Ja.exports.get_opstats_buffer(b,c,d,e,n,!1,x,r);g.push({kg:n,count:k,Ih:x,yh:r});k=a.Ja.exports.get_opstats_buffer(b,c,d,e,n,!0,x,r);g.push({kg:3840|n,count:k,Ih:x,yh:r})}a=0;b=new Set([38,46,54,62,100,101,102,103,240,242,243]);for(const {count:n,
kg:r}of g)b.has(r)||(a+=n);if(0===a)return"";c=new Uint32Array(256);b=new Uint32Array(256);for(const {kg:n,count:r}of g)3840===(n&65280)?b[n&255]+=r:c[n&255]+=r;f=f+"------------------\nTotal: "+(a+"\n");const l=1E7<a?1E3:1;d=Math.max.apply(Math,g.map(({count:n})=>Math.round(n/l)));d=String(d).length;f+=`Instruction counts ${h} (in ${l}):\n`;for(e=0;256>e;e++)f+=e.toString(16).padStart(2,"0")+":"+Gb(Math.round(c[e]/l),d),f=15===e%16?f+"\n":f+" ";f=f+"\n"+`Instruction counts ${h} (0f, in ${l}):\n`;
for(h=0;256>h;h++)f+=(h&255).toString(16).padStart(2,"0")+":"+Gb(Math.round(b[h]/l),d),f=15===h%16?f+"\n":f+" ";f+="\n";g=g.filter(({count:n})=>n).sort(({count:n},{count:r})=>r-n);for(const {kg:n,Ih:r,yh:x,count:q}of g.slice(0,200))f+=n.toString(16)+"_"+x+(r?"_m":"_r")+":"+(q/a*100).toFixed(2)+" ";return f+"\n"}};"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports.print_stats=cb);function Qf(){this.h=new Map}Qf.prototype.read=async function(a,b,c){return(a=this.h.get(a))?a.subarray(b,b+c):null};Qf.prototype.cache=async function(a,b){this.h.set(a,b)};Qf.prototype.g=function(a){this.h.delete(a)};function Rf(a,b){b.endsWith("/")||(b+="/");this.h=a;this.Sf=b}function qg(a,b){return new Promise(c=>{Pb(a.Sf+b,{done:async d=>{d=new Uint8Array(d);await a.cache(b,d);c(d)}})})}
Rf.prototype.read=async function(a,b,c){const d=await this.h.read(a,b,c);return d?d:(await qg(this,a)).subarray(b,b+c)};Rf.prototype.cache=async function(a,b){return await this.h.cache(a,b)};Rf.prototype.g=function(a){this.h.g(a)};
